<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xv6: console.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">xv6
   </div>
   <div id="projectbrief">Doxygen documentation for the xv6-public operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">console.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d49/types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d64/defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d33/param_8h_source.html">param.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d98/traps_8h_source.html">traps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d74/sleeplock_8h_source.html">sleeplock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d26/fs_8h_source.html">fs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d4d/file_8h_source.html">file.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/da9/memlayout_8h_source.html">memlayout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/df1/mmu_8h_source.html">mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d03/proc_8h_source.html">proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d39/x86_8h_source.html">x86.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for console.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d7f/console_8c__incl.png" border="0" usemap="#aconsole_8c" alt=""/></div>
<map name="aconsole_8c" id="aconsole_8c">
<area shape="rect" title=" " alt="" coords="515,5,593,31"/>
<area shape="rect" href="../../d9/d49/types_8h.html" title=" " alt="" coords="5,79,71,104"/>
<area shape="rect" href="../../d5/d64/defs_8h.html" title=" " alt="" coords="95,79,154,104"/>
<area shape="rect" href="../../d5/d33/param_8h.html" title=" " alt="" coords="178,79,247,104"/>
<area shape="rect" href="../../d5/d98/traps_8h.html" title=" " alt="" coords="272,79,335,104"/>
<area shape="rect" href="../../df/d63/spinlock_8h.html" title=" " alt="" coords="359,79,440,104"/>
<area shape="rect" href="../../d0/d74/sleeplock_8h.html" title=" " alt="" coords="465,79,553,104"/>
<area shape="rect" href="../../df/d26/fs_8h.html" title=" " alt="" coords="577,79,621,104"/>
<area shape="rect" href="../../d2/d4d/file_8h.html" title=" " alt="" coords="646,79,697,104"/>
<area shape="rect" href="../../d8/da9/memlayout_8h.html" title=" " alt="" coords="721,79,819,104"/>
<area shape="rect" href="../../d2/df1/mmu_8h.html" title=" " alt="" coords="843,79,905,104"/>
<area shape="rect" href="../../df/d03/proc_8h.html" title=" " alt="" coords="930,79,989,104"/>
<area shape="rect" href="../../d5/d39/x86_8h.html" title=" " alt="" coords="1013,79,1068,104"/>
</map>
</div>
</div>
<p><a href="../../d0/d56/console_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a629568514359445d2fbda71d70eeb1ce"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a629568514359445d2fbda71d70eeb1ce">BACKSPACE</a>&#160;&#160;&#160;0x100</td></tr>
<tr class="separator:a629568514359445d2fbda71d70eeb1ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e3959df0a0c54f50f20d4776b14487f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a2e3959df0a0c54f50f20d4776b14487f">CRTPORT</a>&#160;&#160;&#160;0x3d4</td></tr>
<tr class="separator:a2e3959df0a0c54f50f20d4776b14487f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d85434f2a29f6c3048aeac34d0ce41d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>&#160;&#160;&#160;128</td></tr>
<tr class="separator:a5d85434f2a29f6c3048aeac34d0ce41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac54ae397901fe700628cafadea3c5208"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(x)&#160;&#160;&#160;((x)-'@')</td></tr>
<tr class="separator:ac54ae397901fe700628cafadea3c5208"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a90f0742d846503e4ed1804f1df421ec6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a> (char *fmt,...)</td></tr>
<tr class="separator:a90f0742d846503e4ed1804f1df421ec6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c0aca5d6d7487933984f08b189917a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a> (char *s)</td></tr>
<tr class="separator:a95c0aca5d6d7487933984f08b189917a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3d6ca39f23bb6d2686d2967e415193"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193">consoleintr</a> (int(*getc)(void))</td></tr>
<tr class="separator:aad3d6ca39f23bb6d2686d2967e415193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ac85a90987662e306ca8efbfe16074"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074">consoleread</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, char *dst, int n)</td></tr>
<tr class="separator:a28ac85a90987662e306ca8efbfe16074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af7eb39268127d389792cec37785666"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666">consolewrite</a> (struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *ip, char *<a class="el" href="../../d9/dd0/structbuf.html">buf</a>, int n)</td></tr>
<tr class="separator:a6af7eb39268127d389792cec37785666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab508ff0f4db26fe35cd25fa648f9ee75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75">consoleinit</a> (void)</td></tr>
<tr class="separator:ab508ff0f4db26fe35cd25fa648f9ee75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad4135e5cfd2abbf73cba6fe6cdf2e949"><td class="memItemLeft" >struct {</td></tr>
<tr class="memitem:a019986523f979a1c0939933dab7f2f37"><td class="memItemLeft" >&#160;&#160;&#160;char&#160;&#160;&#160;<a class="el" href="../../d0/d56/console_8c.html#aa427837782b05b05204809dfba33c8f5">buf</a> [<a class="el" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>]</td></tr>
<tr class="separator:a019986523f979a1c0939933dab7f2f37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb667ccdc01f193858ccf9cc6feb275a"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;&#160;&#160;<a class="el" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a></td></tr>
<tr class="separator:adb667ccdc01f193858ccf9cc6feb275a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83f53eca39dfde6aba5d315277951fa2"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;&#160;&#160;<a class="el" href="../../d0/d56/console_8c.html#afdeff54db9a334718662b709641fdfe1">w</a></td></tr>
<tr class="separator:a83f53eca39dfde6aba5d315277951fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c6cd9c290d7a5c696effb4f374ae0a1"><td class="memItemLeft" >&#160;&#160;&#160;<a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;&#160;&#160;<a class="el" href="../../d0/d56/console_8c.html#ab56fa7c992b725d84916b987c3d532ea">e</a></td></tr>
<tr class="separator:a5c6cd9c290d7a5c696effb4f374ae0a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4135e5cfd2abbf73cba6fe6cdf2e949"><td class="memItemLeft" valign="top">}&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a></td></tr>
<tr class="separator:ad4135e5cfd2abbf73cba6fe6cdf2e949"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a629568514359445d2fbda71d70eeb1ce" name="a629568514359445d2fbda71d70eeb1ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a629568514359445d2fbda71d70eeb1ce">&#9670;&#160;</a></span>BACKSPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BACKSPACE&#160;&#160;&#160;0x100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00127">127</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="ac54ae397901fe700628cafadea3c5208" name="ac54ae397901fe700628cafadea3c5208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54ae397901fe700628cafadea3c5208">&#9670;&#160;</a></span>C</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define C</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((x)-'@')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00189">189</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="a2e3959df0a0c54f50f20d4776b14487f" name="a2e3959df0a0c54f50f20d4776b14487f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e3959df0a0c54f50f20d4776b14487f">&#9670;&#160;</a></span>CRTPORT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CRTPORT&#160;&#160;&#160;0x3d4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00128">128</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="a5d85434f2a29f6c3048aeac34d0ce41d" name="a5d85434f2a29f6c3048aeac34d0ce41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d85434f2a29f6c3048aeac34d0ce41d">&#9670;&#160;</a></span>INPUT_BUF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INPUT_BUF&#160;&#160;&#160;128</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00181">181</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab508ff0f4db26fe35cd25fa648f9ee75" name="ab508ff0f4db26fe35cd25fa648f9ee75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab508ff0f4db26fe35cd25fa648f9ee75">&#9670;&#160;</a></span>consoleinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void consoleinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00289">289</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  290</span>{</div>
<div class="line"><span class="lineno">  291</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a>(&amp;cons.lock, <span class="stringliteral">&quot;console&quot;</span>);</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>  <a class="code hl_struct" href="../../de/d6a/structdevsw.html">devsw</a>[<a class="code hl_define" href="../../d2/d4d/file_8h.html#a6c17169f464fb1a2995dbe06faa47a5f">CONSOLE</a>].<a class="code hl_variable" href="../../de/d6a/structdevsw.html#a87fd7af6c9a6fb8663fc206be7a233d4">write</a> = <a class="code hl_function" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666">consolewrite</a>;</div>
<div class="line"><span class="lineno">  294</span>  <a class="code hl_struct" href="../../de/d6a/structdevsw.html">devsw</a>[<a class="code hl_define" href="../../d2/d4d/file_8h.html#a6c17169f464fb1a2995dbe06faa47a5f">CONSOLE</a>].<a class="code hl_variable" href="../../de/d6a/structdevsw.html#a4efbe00d0031a1c9005ef2186947ea37">read</a> = <a class="code hl_function" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074">consoleread</a>;</div>
<div class="line"><span class="lineno">  295</span>  cons.locking = 1;</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a63da75c0c2f0b051f2c790aea2116b63">ioapicenable</a>(<a class="code hl_define" href="../../d5/d98/traps_8h.html#a0b7569cda71298859ffb6ea55c03a36a">IRQ_KBD</a>, 0);</div>
<div class="line"><span class="lineno">  298</span>}</div>
<div class="ttc" id="aconsole_8c_html_a28ac85a90987662e306ca8efbfe16074"><div class="ttname"><a href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074">consoleread</a></div><div class="ttdeci">int consoleread(struct inode *ip, char *dst, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00236">console.c:236</a></div></div>
<div class="ttc" id="aconsole_8c_html_a6af7eb39268127d389792cec37785666"><div class="ttname"><a href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666">consolewrite</a></div><div class="ttdeci">int consolewrite(struct inode *ip, char *buf, int n)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00274">console.c:274</a></div></div>
<div class="ttc" id="adefs_8h_html_a63da75c0c2f0b051f2c790aea2116b63"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a63da75c0c2f0b051f2c790aea2116b63">ioapicenable</a></div><div class="ttdeci">void ioapicenable(int irq, int cpu)</div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d61/ioapic_8c_source.html#l00068">ioapic.c:68</a></div></div>
<div class="ttc" id="adefs_8h_html_ab56d728e6966819a0260c358d3ac3419"><div class="ttname"><a href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a></div><div class="ttdeci">void initlock(struct spinlock *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00013">spinlock.c:13</a></div></div>
<div class="ttc" id="afile_8h_html_a6c17169f464fb1a2995dbe06faa47a5f"><div class="ttname"><a href="../../d2/d4d/file_8h.html#a6c17169f464fb1a2995dbe06faa47a5f">CONSOLE</a></div><div class="ttdeci">#define CONSOLE</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00037">file.h:37</a></div></div>
<div class="ttc" id="astructdevsw_html"><div class="ttname"><a href="../../de/d6a/structdevsw.html">devsw</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00030">file.h:30</a></div></div>
<div class="ttc" id="astructdevsw_html_a4efbe00d0031a1c9005ef2186947ea37"><div class="ttname"><a href="../../de/d6a/structdevsw.html#a4efbe00d0031a1c9005ef2186947ea37">devsw::read</a></div><div class="ttdeci">int(* read)(struct inode *, char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00031">file.h:31</a></div></div>
<div class="ttc" id="astructdevsw_html_a87fd7af6c9a6fb8663fc206be7a233d4"><div class="ttname"><a href="../../de/d6a/structdevsw.html#a87fd7af6c9a6fb8663fc206be7a233d4">devsw::write</a></div><div class="ttdeci">int(* write)(struct inode *, char *, int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00032">file.h:32</a></div></div>
<div class="ttc" id="atraps_8h_html_a0b7569cda71298859ffb6ea55c03a36a"><div class="ttname"><a href="../../d5/d98/traps_8h.html#a0b7569cda71298859ffb6ea55c03a36a">IRQ_KBD</a></div><div class="ttdeci">#define IRQ_KBD</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/traps_8h_source.html#l00033">traps.h:33</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_ab508ff0f4db26fe35cd25fa648f9ee75_cgraph.png" border="0" usemap="#ad0/d56/console_8c_ab508ff0f4db26fe35cd25fa648f9ee75_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_ab508ff0f4db26fe35cd25fa648f9ee75_cgraph" id="ad0/d56/console_8c_ab508ff0f4db26fe35cd25fa648f9ee75_cgraph">
<area shape="rect" title=" " alt="" coords="5,1183,89,1209"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="139,854,231,879"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="137,1158,232,1183"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#abda07b4a007b2e888d9d783920460b89" title=" " alt="" coords="153,1207,216,1233"/>
<area shape="rect" href="../../dd/d61/ioapic_8c.html#a9688537a0879e9e2ac5a90184e2ef987" title=" " alt="" coords="137,1257,232,1282"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1033,905,1097,930"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1757,930,1821,955"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="280,1057,329,1082"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="903,601,968,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="637,702,691,727"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="633,1285,695,1310"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1156,955,1248,981"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1171,499,1233,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1407,499,1468,525"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1516,905,1569,930"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1296,601,1359,626"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1869,195,1925,221"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1634,753,1693,778"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1634,955,1693,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1617,854,1709,879"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="480,702,575,727"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="377,1006,432,1031"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="623,1107,705,1133"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="635,1209,693,1234"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="772,373,829,398"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="896,347,975,373"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1037,195,1094,221"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1023,297,1108,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1159,449,1245,474"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="501,1006,554,1031"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="753,1107,848,1133"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="753,1285,848,1310"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="902,1310,969,1335"/>
</map>
</div>

</div>
</div>
<a id="aad3d6ca39f23bb6d2686d2967e415193" name="aad3d6ca39f23bb6d2686d2967e415193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad3d6ca39f23bb6d2686d2967e415193">&#9670;&#160;</a></span>consoleintr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void consoleintr </td>
          <td>(</td>
          <td class="paramtype">int(*)(void)&#160;</td>
          <td class="paramname"><em>getc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00192">192</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  193</span>{</div>
<div class="line"><span class="lineno">  194</span>  <span class="keywordtype">int</span> c, doprocdump = 0;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  197</span>  <span class="keywordflow">while</span>((c = getc()) &gt;= 0){</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">switch</span>(c){</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(<span class="charliteral">&#39;P&#39;</span>):  <span class="comment">// Process listing.</span></div>
<div class="line"><span class="lineno">  200</span>      <span class="comment">// procdump() locks cons.lock indirectly; invoke later</span></div>
<div class="line"><span class="lineno">  201</span>      doprocdump = 1;</div>
<div class="line"><span class="lineno">  202</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(<span class="charliteral">&#39;U&#39;</span>):  <span class="comment">// Kill line.</span></div>
<div class="line"><span class="lineno">  204</span>      while(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_variable" href="../../d0/d56/console_8c.html#ab56fa7c992b725d84916b987c3d532ea">e</a> != <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_variable" href="../../d0/d56/console_8c.html#afdeff54db9a334718662b709641fdfe1">w</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  205</span>            <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_variable" href="../../d0/d56/console_8c.html#ab56fa7c992b725d84916b987c3d532ea">e</a>-1) % <a class="code hl_define" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>] != <span class="stringliteral">&#39;\n&#39;</span>){</div>
<div class="line"><span class="lineno">  206</span>        <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e--;</div>
<div class="line"><span class="lineno">  207</span>        consputc(<a class="code hl_define" href="../../d0/d56/console_8c.html#a629568514359445d2fbda71d70eeb1ce">BACKSPACE</a>);</div>
<div class="line"><span class="lineno">  208</span>      }</div>
<div class="line"><span class="lineno">  209</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(<span class="charliteral">&#39;H&#39;</span>): case <span class="stringliteral">&#39;\x7f&#39;</span>:  <span class="comment">// Backspace</span></div>
<div class="line"><span class="lineno">  211</span>      if(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_variable" href="../../d0/d56/console_8c.html#ab56fa7c992b725d84916b987c3d532ea">e</a> != <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.<a class="code hl_variable" href="../../d0/d56/console_8c.html#afdeff54db9a334718662b709641fdfe1">w</a>){</div>
<div class="line"><span class="lineno">  212</span>        <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e--;</div>
<div class="line"><span class="lineno">  213</span>        consputc(<a class="code hl_define" href="../../d0/d56/console_8c.html#a629568514359445d2fbda71d70eeb1ce">BACKSPACE</a>);</div>
<div class="line"><span class="lineno">  214</span>      }</div>
<div class="line"><span class="lineno">  215</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  217</span>      <span class="keywordflow">if</span>(c != 0 &amp;&amp; <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e-<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r &lt; <a class="code hl_define" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>){</div>
<div class="line"><span class="lineno">  218</span>        c = (c == <span class="charliteral">&#39;\r&#39;</span>) ? <span class="charliteral">&#39;\n&#39;</span> : c;</div>
<div class="line"><span class="lineno">  219</span>        <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.buf[<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e++ % <a class="code hl_define" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>] = c;</div>
<div class="line"><span class="lineno">  220</span>        consputc(c);</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;\n&#39;</span> || c == <a class="code hl_define" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(<span class="charliteral">&#39;D&#39;</span>) || <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e == <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r+<a class="code hl_define" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>){</div>
<div class="line"><span class="lineno">  222</span>          <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.w = <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.e;</div>
<div class="line"><span class="lineno">  223</span>          <a class="code hl_function" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254">wakeup</a>(&amp;<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r);</div>
<div class="line"><span class="lineno">  224</span>        }</div>
<div class="line"><span class="lineno">  225</span>      }</div>
<div class="line"><span class="lineno">  226</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  227</span>    }</div>
<div class="line"><span class="lineno">  228</span>  }</div>
<div class="line"><span class="lineno">  229</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  230</span>  <span class="keywordflow">if</span>(doprocdump) {</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#a7f185044294ebb57521c73f723990164">procdump</a>();  <span class="comment">// now call procdump() wo. cons.lock held</span></div>
<div class="line"><span class="lineno">  232</span>  }</div>
<div class="line"><span class="lineno">  233</span>}</div>
<div class="ttc" id="aconsole_8c_html_a5d85434f2a29f6c3048aeac34d0ce41d"><div class="ttname"><a href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a></div><div class="ttdeci">#define INPUT_BUF</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00181">console.c:181</a></div></div>
<div class="ttc" id="aconsole_8c_html_a629568514359445d2fbda71d70eeb1ce"><div class="ttname"><a href="../../d0/d56/console_8c.html#a629568514359445d2fbda71d70eeb1ce">BACKSPACE</a></div><div class="ttdeci">#define BACKSPACE</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00127">console.c:127</a></div></div>
<div class="ttc" id="aconsole_8c_html_ab56fa7c992b725d84916b987c3d532ea"><div class="ttname"><a href="../../d0/d56/console_8c.html#ab56fa7c992b725d84916b987c3d532ea">e</a></div><div class="ttdeci">uint e</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00186">console.c:186</a></div></div>
<div class="ttc" id="aconsole_8c_html_ac54ae397901fe700628cafadea3c5208"><div class="ttname"><a href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a></div><div class="ttdeci">#define C(x)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00189">console.c:189</a></div></div>
<div class="ttc" id="aconsole_8c_html_ad4135e5cfd2abbf73cba6fe6cdf2e949"><div class="ttname"><a href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a></div><div class="ttdeci">struct @2 input</div></div>
<div class="ttc" id="aconsole_8c_html_afdeff54db9a334718662b709641fdfe1"><div class="ttname"><a href="../../d0/d56/console_8c.html#afdeff54db9a334718662b709641fdfe1">w</a></div><div class="ttdeci">uint w</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00185">console.c:185</a></div></div>
<div class="ttc" id="adefs_8h_html_a245b56417239f499389b2e806bd99254"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254">wakeup</a></div><div class="ttdeci">void wakeup(void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00469">proc.c:469</a></div></div>
<div class="ttc" id="adefs_8h_html_a4f8616948f3dbce65671f666eed1d669"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a></div><div class="ttdeci">void release(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00047">spinlock.c:47</a></div></div>
<div class="ttc" id="adefs_8h_html_a7f185044294ebb57521c73f723990164"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a7f185044294ebb57521c73f723990164">procdump</a></div><div class="ttdeci">void procdump(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00504">proc.c:504</a></div></div>
<div class="ttc" id="adefs_8h_html_afe4ef8638f1ecb962a6e67fb086ee3b8"><div class="ttname"><a href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a></div><div class="ttdeci">void acquire(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00025">spinlock.c:25</a></div></div>
<div class="ttc" id="astructbuf_html"><div class="ttname"><a href="../../d9/dd0/structbuf.html">buf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6d/buf_8h_source.html#l00001">buf.h:1</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_cgraph.png" border="0" usemap="#ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_cgraph" id="ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,91,94"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="253,221,317,246"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="992,170,1056,196"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7f185044294ebb57521c73f723990164" title=" " alt="" coords="725,94,804,120"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="139,94,205,120"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="365,196,457,221"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="380,398,443,424"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="616,334,677,360"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="738,221,791,246"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="505,348,568,373"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1104,322,1160,348"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="869,297,927,322"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="869,145,927,170"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="852,96,944,121"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_icgraph.png" border="0" usemap="#ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_icgraph" alt=""/></div>
<map name="ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_icgraph" id="ad0/d56/console_8c_aad3d6ca39f23bb6d2686d2967e415193_icgraph">
<area shape="rect" title=" " alt="" coords="208,31,293,56"/>
<area shape="rect" href="../../dc/da9/kbd_8c.html#af3d6113fa152781400e1e0e728c55e54" title=" " alt="" coords="98,5,159,31"/>
<area shape="rect" href="../../d1/d87/uart_8c.html#aa64047002b0e84e2611ebf7dc46b7c99" title=" " alt="" coords="97,55,160,80"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,31,49,56"/>
</map>
</div>

</div>
</div>
<a id="a28ac85a90987662e306ca8efbfe16074" name="a28ac85a90987662e306ca8efbfe16074"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28ac85a90987662e306ca8efbfe16074">&#9670;&#160;</a></span>consoleread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int consoleread </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00236">236</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  237</span>{</div>
<div class="line"><span class="lineno">  238</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> target;</div>
<div class="line"><span class="lineno">  239</span>  <span class="keywordtype">int</span> c;</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af301c10ad8ced77a5dfb2de3a64c666c">iunlock</a>(ip);</div>
<div class="line"><span class="lineno">  242</span>  target = n;</div>
<div class="line"><span class="lineno">  243</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  244</span>  <span class="keywordflow">while</span>(n &gt; 0){</div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">while</span>(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r == <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.w){</div>
<div class="line"><span class="lineno">  246</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#a3d2327db1e34643f4a9e6a07c8cc62c6">myproc</a>()-&gt;killed){</div>
<div class="line"><span class="lineno">  247</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#a29a4d743d41fe659f74b0a57fdc25012">ilock</a>(ip);</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  250</span>      }</div>
<div class="line"><span class="lineno">  251</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(&amp;<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r, &amp;cons.lock);</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span>    c = <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.buf[<a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r++ % <a class="code hl_define" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>];</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span>(c == <a class="code hl_define" href="../../d0/d56/console_8c.html#ac54ae397901fe700628cafadea3c5208">C</a>(<span class="charliteral">&#39;D&#39;</span>)){  <span class="comment">// EOF</span></div>
<div class="line"><span class="lineno">  255</span>      <span class="keywordflow">if</span>(n &lt; target){</div>
<div class="line"><span class="lineno">  256</span>        <span class="comment">// Save ^D for next time, to make sure</span></div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">// caller gets a 0-byte result.</span></div>
<div class="line"><span class="lineno">  258</span>        <a class="code hl_variable" href="../../d0/d56/console_8c.html#ad4135e5cfd2abbf73cba6fe6cdf2e949">input</a>.r--;</div>
<div class="line"><span class="lineno">  259</span>      }</div>
<div class="line"><span class="lineno">  260</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="line"><span class="lineno">  262</span>    *dst++ = c;</div>
<div class="line"><span class="lineno">  263</span>    --n;</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">if</span>(c == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno">  265</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  266</span>  }</div>
<div class="line"><span class="lineno">  267</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  268</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a29a4d743d41fe659f74b0a57fdc25012">ilock</a>(ip);</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>  <span class="keywordflow">return</span> target - n;</div>
<div class="line"><span class="lineno">  271</span>}</div>
<div class="ttc" id="adefs_8h_html_a29a4d743d41fe659f74b0a57fdc25012"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a29a4d743d41fe659f74b0a57fdc25012">ilock</a></div><div class="ttdeci">void ilock(struct inode *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00288">fs.c:288</a></div></div>
<div class="ttc" id="adefs_8h_html_a3d2327db1e34643f4a9e6a07c8cc62c6"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a3d2327db1e34643f4a9e6a07c8cc62c6">myproc</a></div><div class="ttdeci">struct proc * myproc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00058">proc.c:58</a></div></div>
<div class="ttc" id="adefs_8h_html_aca4a88f06b3ebbcc04330f7ae06c8507"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a></div><div class="ttdeci">void sleep(void *, struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00418">proc.c:418</a></div></div>
<div class="ttc" id="adefs_8h_html_af301c10ad8ced77a5dfb2de3a64c666c"><div class="ttname"><a href="../../d5/d64/defs_8h.html#af301c10ad8ced77a5dfb2de3a64c666c">iunlock</a></div><div class="ttdeci">void iunlock(struct inode *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d5a/fs_8c_source.html#l00316">fs.c:316</a></div></div>
<div class="ttc" id="atypes_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00001">types.h:1</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_cgraph.png" border="0" usemap="#ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_cgraph" id="ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_cgraph">
<area shape="rect" title=" " alt="" coords="5,867,97,893"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="899,854,963,879"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1623,930,1687,955"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="145,994,195,1019"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="768,145,833,170"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="503,601,556,626"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="498,1258,561,1283"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1021,905,1113,930"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1036,499,1099,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1272,423,1333,449"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1381,854,1435,879"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1161,398,1224,423"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1735,398,1791,423"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1499,486,1558,511"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1499,930,1558,955"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1483,829,1575,854"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="345,651,440,677"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="243,1045,297,1070"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="488,1158,571,1183"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="501,1207,558,1233"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="637,423,695,449"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="761,423,840,449"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="902,297,959,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="888,449,973,474"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1025,246,1110,271"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="366,1057,419,1082"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="619,1107,713,1133"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="619,1259,713,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="767,1259,834,1285"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_icgraph.png" border="0" usemap="#ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_icgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_icgraph" id="ad0/d56/console_8c_a28ac85a90987662e306ca8efbfe16074_icgraph">
<area shape="rect" title=" " alt="" coords="137,5,229,31"/>
<area shape="rect" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="5,5,89,31"/>
</map>
</div>

</div>
</div>
<a id="a6af7eb39268127d389792cec37785666" name="a6af7eb39268127d389792cec37785666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af7eb39268127d389792cec37785666">&#9670;&#160;</a></span>consolewrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int consolewrite </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d0/df8/structinode.html">inode</a> *&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00274">274</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  275</span>{</div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af301c10ad8ced77a5dfb2de3a64c666c">iunlock</a>(ip);</div>
<div class="line"><span class="lineno">  279</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  280</span>  <span class="keywordflow">for</span>(i = 0; i &lt; n; i++)</div>
<div class="line"><span class="lineno">  281</span>    consputc(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[i] &amp; 0xff);</div>
<div class="line"><span class="lineno">  282</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  283</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a29a4d743d41fe659f74b0a57fdc25012">ilock</a>(ip);</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>  <span class="keywordflow">return</span> n;</div>
<div class="line"><span class="lineno">  286</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a6af7eb39268127d389792cec37785666_cgraph.png" border="0" usemap="#ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_cgraph" id="ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_cgraph">
<area shape="rect" title=" " alt="" coords="5,373,100,398"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="901,702,965,727"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1625,626,1689,651"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="148,423,197,449"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="501,398,563,423"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1024,651,1116,677"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1039,1158,1101,1183"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1275,955,1336,981"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1384,677,1437,702"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1164,1057,1227,1082"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1737,1107,1793,1133"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1502,898,1561,923"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1502,677,1561,702"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1485,778,1577,803"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="348,981,443,1006"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="245,499,300,525"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="491,449,573,474"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="503,347,561,373"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="771,1297,836,1322"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="505,981,559,1006"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="640,1057,697,1082"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="764,955,843,981"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="905,1057,962,1082"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="891,955,976,981"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1027,1006,1113,1031"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="369,499,422,525"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="621,499,716,525"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="621,347,716,373"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="770,297,837,322"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a6af7eb39268127d389792cec37785666_icgraph.png" border="0" usemap="#ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_icgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_icgraph" id="ad0/d56/console_8c_a6af7eb39268127d389792cec37785666_icgraph">
<area shape="rect" title=" " alt="" coords="137,5,232,31"/>
<area shape="rect" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="5,5,89,31"/>
</map>
</div>

</div>
</div>
<a id="a90f0742d846503e4ed1804f1df421ec6" name="a90f0742d846503e4ed1804f1df421ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90f0742d846503e4ed1804f1df421ec6">&#9670;&#160;</a></span>cprintf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cprintf </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00055">55</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordtype">int</span> i, c, <a class="code hl_variable" href="../../d0/d56/console_8c.html#ae51110da3bc13ef49e32d1e2cda5d55c">locking</a>;</div>
<div class="line"><span class="lineno">   58</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *argp;</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordtype">char</span> *s;</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>  <a class="code hl_variable" href="../../d0/d56/console_8c.html#ae51110da3bc13ef49e32d1e2cda5d55c">locking</a> = cons.locking;</div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ae51110da3bc13ef49e32d1e2cda5d55c">locking</a>)</div>
<div class="line"><span class="lineno">   63</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordflow">if</span> (fmt == 0)</div>
<div class="line"><span class="lineno">   66</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;null fmt&quot;</span>);</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>  argp = (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*)(<span class="keywordtype">void</span>*)(&amp;fmt + 1);</div>
<div class="line"><span class="lineno">   69</span>  <span class="keywordflow">for</span>(i = 0; (c = fmt[i] &amp; 0xff) != 0; i++){</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">if</span>(c != <span class="charliteral">&#39;%&#39;</span>){</div>
<div class="line"><span class="lineno">   71</span>      consputc(c);</div>
<div class="line"><span class="lineno">   72</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   73</span>    }</div>
<div class="line"><span class="lineno">   74</span>    c = fmt[++i] &amp; 0xff;</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span>(c == 0)</div>
<div class="line"><span class="lineno">   76</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">switch</span>(c){</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><span class="lineno">   79</span>      printint(*argp++, 10, 1);</div>
<div class="line"><span class="lineno">   80</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><span class="lineno">   83</span>      printint(*argp++, 16, 0);</div>
<div class="line"><span class="lineno">   84</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><span class="lineno">   86</span>      <span class="keywordflow">if</span>((s = (<span class="keywordtype">char</span>*)*argp++) == 0)</div>
<div class="line"><span class="lineno">   87</span>        s = <span class="stringliteral">&quot;(null)&quot;</span>;</div>
<div class="line"><span class="lineno">   88</span>      <span class="keywordflow">for</span>(; *s; s++)</div>
<div class="line"><span class="lineno">   89</span>        consputc(*s);</div>
<div class="line"><span class="lineno">   90</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div>
<div class="line"><span class="lineno">   92</span>      consputc(<span class="charliteral">&#39;%&#39;</span>);</div>
<div class="line"><span class="lineno">   93</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   95</span>      <span class="comment">// Print unknown % sequence to draw attention.</span></div>
<div class="line"><span class="lineno">   96</span>      consputc(<span class="charliteral">&#39;%&#39;</span>);</div>
<div class="line"><span class="lineno">   97</span>      consputc(c);</div>
<div class="line"><span class="lineno">   98</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   99</span>    }</div>
<div class="line"><span class="lineno">  100</span>  }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../d0/d56/console_8c.html#ae51110da3bc13ef49e32d1e2cda5d55c">locking</a>)</div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;cons.lock);</div>
<div class="line"><span class="lineno">  104</span>}</div>
<div class="ttc" id="aconsole_8c_html_a95c0aca5d6d7487933984f08b189917a"><div class="ttname"><a href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a></div><div class="ttdeci">void panic(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00107">console.c:107</a></div></div>
<div class="ttc" id="aconsole_8c_html_ae51110da3bc13ef49e32d1e2cda5d55c"><div class="ttname"><a href="../../d0/d56/console_8c.html#ae51110da3bc13ef49e32d1e2cda5d55c">locking</a></div><div class="ttdeci">int locking</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00024">console.c:24</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_cgraph.png" border="0" usemap="#ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_cgraph" id="ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_cgraph">
<area shape="rect" title=" " alt="" coords="5,341,64,367"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="112,132,176,157"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="584,259,637,284"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="112,284,176,309"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="224,5,316,31"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="239,208,301,233"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="475,208,536,233"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="364,157,427,183"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="367,259,423,284"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="702,209,761,235"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="685,259,777,284"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_icgraph.png" border="0" usemap="#ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_icgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_icgraph" id="ad0/d56/console_8c_a90f0742d846503e4ed1804f1df421ec6_icgraph">
<area shape="rect" title=" " alt="" coords="1243,1587,1301,1613"/>
<area shape="rect" href="../../de/de9/vm_8c.html#afea0f0a82a9f9c7aae26f90b5e0836c6" title=" " alt="" coords="381,398,456,423"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="144,499,195,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="656,803,699,829"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="773,1662,816,1687"/>
<area shape="rect" href="../../dd/d61/ioapic_8c.html#abce023b98422f397abdb425b20c8ceec" title=" " alt="" coords="1119,2018,1192,2043"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1129,979,1182,1005"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="272,1550,316,1575"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7f185044294ebb57521c73f723990164" title=" " alt="" coords="1116,2067,1195,2093"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#acd6bcafe6626fe8e7d00cacdbc3cc4f1" title=" " alt="" coords="879,1917,941,1942"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9c16214741f4fcd088e5eea468709328" title=" " alt="" coords="257,398,331,423"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="5,621,84,646"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="9,766,81,791"/>
<area shape="rect" href="../../d8/d60/init_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="19,523,70,549"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#aedbeff6afe5d4e22330c7e6b5e6df893" title=" " alt="" coords="12,1031,77,1057"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#aeaa813ddeb6a5fac3c45714c7351c526" title=" " alt="" coords="5,474,84,499"/>
<area shape="rect" href="../../db/d3a/ps_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="523,703,573,729"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a9eeed93775248f221437260b177591b8" title=" " alt="" coords="513,753,583,778"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="648,1613,707,1638"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="763,955,827,981"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="649,1359,706,1385"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="522,1359,574,1385"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="523,1511,573,1537"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="387,1662,451,1687"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="385,1537,452,1562"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="645,905,709,930"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="397,937,440,962"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="513,1006,583,1031"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="647,1158,707,1183"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="521,651,575,677"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a63c899c13b176ddf80064d32225e1298" title=" " alt="" coords="390,601,447,626"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="652,398,703,423"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="132,145,207,170"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="504,347,592,373"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="387,246,450,271"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="255,246,333,271"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="640,1207,715,1233"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="651,651,704,677"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a795e27a0cb916cfb41411ebbb9669ddf" title=" " alt="" coords="257,349,331,374"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="882,729,938,754"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5341068f021beac8cf0032b97d231e6f" title=" " alt="" coords="993,754,1068,779"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="767,1613,823,1638"/>
<area shape="rect" href="../../de/de9/vm_8c.html#ac96c231d4053eaf4322c27d1f2cd9d49" title=" " alt="" coords="999,803,1063,829"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="517,1662,579,1687"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="875,399,945,425"/>
<area shape="rect" href="../../dd/d06/mp_8c.html#a2fd0b66a17c5347541448ef906b7b2a2" title=" " alt="" coords="1002,853,1059,878"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1000,954,1061,979"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="882,1055,938,1081"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="763,1081,827,1106"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="766,653,823,678"/>
</map>
</div>

</div>
</div>
<a id="a95c0aca5d6d7487933984f08b189917a" name="a95c0aca5d6d7487933984f08b189917a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95c0aca5d6d7487933984f08b189917a">&#9670;&#160;</a></span>panic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void panic </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00107">107</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  108</span>{</div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  110</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> pcs[10];</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>  cli();</div>
<div class="line"><span class="lineno">  113</span>  cons.locking = 0;</div>
<div class="line"><span class="lineno">  114</span>  <span class="comment">// use lapiccpunum so that we can call panic from mycpu()</span></div>
<div class="line"><span class="lineno">  115</span>  <a class="code hl_function" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(<span class="stringliteral">&quot;lapicid %d: panic: &quot;</span>, <a class="code hl_function" href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164">lapicid</a>());</div>
<div class="line"><span class="lineno">  116</span>  <a class="code hl_function" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(s);</div>
<div class="line"><span class="lineno">  117</span>  <a class="code hl_function" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  118</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f">getcallerpcs</a>(&amp;s, pcs);</div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">for</span>(i=0; i&lt;10; i++)</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a>(<span class="stringliteral">&quot; %p&quot;</span>, pcs[i]);</div>
<div class="line"><span class="lineno">  121</span>  panicked = 1; <span class="comment">// freeze other CPU</span></div>
<div class="line"><span class="lineno">  122</span>  <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno">  123</span>    ;</div>
<div class="line"><span class="lineno">  124</span>}</div>
<div class="ttc" id="aconsole_8c_html_a90f0742d846503e4ed1804f1df421ec6"><div class="ttname"><a href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6">cprintf</a></div><div class="ttdeci">void cprintf(char *fmt,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00055">console.c:55</a></div></div>
<div class="ttc" id="adefs_8h_html_a4105de9e2969515d6c6c795c4386f69f"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f">getcallerpcs</a></div><div class="ttdeci">void getcallerpcs(void *, uint *)</div></div>
<div class="ttc" id="adefs_8h_html_a627f7996b64f99d885244a5102c85164"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a627f7996b64f99d885244a5102c85164">lapicid</a></div><div class="ttdeci">int lapicid(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/df6/lapic_8c_source.html#l00101">lapic.c:101</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_cgraph.png" border="0" usemap="#ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_cgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_cgraph" id="ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_cgraph">
<area shape="rect" title=" " alt="" coords="5,170,59,196"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="123,196,182,221"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="719,82,777,108"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="107,94,199,120"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="247,170,311,196"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="247,246,311,272"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="359,94,451,120"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="373,246,436,272"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="609,170,671,196"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="499,196,561,221"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="502,297,558,322"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_icgraph.png" border="0" usemap="#ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_icgraph" alt=""/></div>
<map name="ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_icgraph" id="ad0/d56/console_8c_a95c0aca5d6d7487933984f08b189917a_icgraph">
<area shape="rect" title=" " alt="" coords="1139,2167,1192,2193"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="781,1106,845,1131"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="375,1813,425,1838"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="235,1990,299,2015"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="234,1813,301,1838"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="225,1911,309,1937"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="239,2775,295,2801"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="113,494,156,519"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,307,49,333"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="232,626,303,651"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="504,1813,561,1838"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="374,1863,426,1889"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="646,398,705,423"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="368,626,432,651"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="645,2066,705,2091"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a63c899c13b176ddf80064d32225e1298" title=" " alt="" coords="371,1006,429,1031"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="506,1006,559,1031"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="369,1990,431,2015"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="650,2522,701,2547"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="97,2598,172,2623"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="489,2573,577,2598"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="369,2598,431,2623"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="228,2825,307,2850"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="103,2825,167,2850"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="638,1965,713,1990"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="649,1006,702,1031"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a795e27a0cb916cfb41411ebbb9669ddf" title=" " alt="" coords="1016,3029,1091,3054"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5341068f021beac8cf0032b97d231e6f" title=" " alt="" coords="363,2775,437,2801"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="1025,3078,1081,3103"/>
<area shape="rect" href="../../de/de9/vm_8c.html#ac96c231d4053eaf4322c27d1f2cd9d49" title=" " alt="" coords="904,2927,968,2953"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="1018,3127,1089,3153"/>
<area shape="rect" href="../../dd/d06/mp_8c.html#a2fd0b66a17c5347541448ef906b7b2a2" title=" " alt="" coords="1025,3177,1082,3202"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1023,1158,1084,1183"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="908,1239,964,1265"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="781,1635,845,1661"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="771,1057,856,1082"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="907,1006,965,1031"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="485,1458,580,1483"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="221,1762,313,1787"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="220,1862,315,1887"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="379,1465,421,1490"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="363,1415,437,1441"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="652,1207,699,1233"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="633,1306,718,1331"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="511,702,554,727"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="642,1158,709,1183"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="5,2193,49,2218"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="628,1509,723,1534"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="647,1257,704,1282"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="652,1711,699,1737"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa427837782b05b05204809dfba33c8f5" name="aa427837782b05b05204809dfba33c8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa427837782b05b05204809dfba33c8f5">&#9670;&#160;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="../../d9/dd0/structbuf.html">buf</a>[<a class="el" href="../../d0/d56/console_8c.html#a5d85434f2a29f6c3048aeac34d0ce41d">INPUT_BUF</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00183">183</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="ab56fa7c992b725d84916b987c3d532ea" name="ab56fa7c992b725d84916b987c3d532ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab56fa7c992b725d84916b987c3d532ea">&#9670;&#160;</a></span>e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> e</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00186">186</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="ad4135e5cfd2abbf73cba6fe6cdf2e949" name="ad4135e5cfd2abbf73cba6fe6cdf2e949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4135e5cfd2abbf73cba6fe6cdf2e949">&#9670;&#160;</a></span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct  { ... }  input</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab28e82cd5dda7d960095706a3ea20572" name="ab28e82cd5dda7d960095706a3ea20572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab28e82cd5dda7d960095706a3ea20572">&#9670;&#160;</a></span>lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> lock</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00023">23</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="ae51110da3bc13ef49e32d1e2cda5d55c" name="ae51110da3bc13ef49e32d1e2cda5d55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae51110da3bc13ef49e32d1e2cda5d55c">&#9670;&#160;</a></span>locking</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int locking</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00024">24</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="af10fa12dd785c91e29528fbdc50cf9af" name="af10fa12dd785c91e29528fbdc50cf9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af10fa12dd785c91e29528fbdc50cf9af">&#9670;&#160;</a></span>r</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> r</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00184">184</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
<a id="afdeff54db9a334718662b709641fdfe1" name="afdeff54db9a334718662b709641fdfe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdeff54db9a334718662b709641fdfe1">&#9670;&#160;</a></span>w</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> w</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d0/d56/console_8c_source.html#l00185">185</a> of file <a class="el" href="../../d0/d56/console_8c_source.html">console.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
