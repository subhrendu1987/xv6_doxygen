<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xv6: sleeplock.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">xv6
   </div>
   <div id="projectbrief">Doxygen documentation for the xv6-public operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sleeplock.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d49/types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d64/defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d33/param_8h_source.html">param.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d39/x86_8h_source.html">x86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/da9/memlayout_8h_source.html">memlayout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/df1/mmu_8h_source.html">mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d03/proc_8h_source.html">proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d74/sleeplock_8h_source.html">sleeplock.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for sleeplock.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d21/sleeplock_8c__incl.png" border="0" usemap="#asleeplock_8c" alt=""/></div>
<map name="asleeplock_8c" id="asleeplock_8c">
<area shape="rect" title=" " alt="" coords="355,5,443,31"/>
<area shape="rect" href="../../d9/d49/types_8h.html" title=" " alt="" coords="5,79,71,104"/>
<area shape="rect" href="../../d5/d64/defs_8h.html" title=" " alt="" coords="95,79,154,104"/>
<area shape="rect" href="../../d5/d33/param_8h.html" title=" " alt="" coords="178,79,247,104"/>
<area shape="rect" href="../../d5/d39/x86_8h.html" title=" " alt="" coords="272,79,327,104"/>
<area shape="rect" href="../../d8/da9/memlayout_8h.html" title=" " alt="" coords="351,79,448,104"/>
<area shape="rect" href="../../d2/df1/mmu_8h.html" title=" " alt="" coords="472,79,535,104"/>
<area shape="rect" href="../../df/d03/proc_8h.html" title=" " alt="" coords="559,79,618,104"/>
<area shape="rect" href="../../df/d63/spinlock_8h.html" title=" " alt="" coords="643,79,724,104"/>
<area shape="rect" href="../../d0/d74/sleeplock_8h.html" title=" " alt="" coords="749,79,837,104"/>
</map>
</div>
</div>
<p><a href="../../d8/dd1/sleeplock_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaa5746f0a7ae0071b2916be5fdedf4ab"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/sleeplock_8c.html#aaa5746f0a7ae0071b2916be5fdedf4ab">initsleeplock</a> (struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *lk, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)</td></tr>
<tr class="separator:aaa5746f0a7ae0071b2916be5fdedf4ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaad2d7a86d4859982dd9a132f5128ff2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2">acquiresleep</a> (struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *lk)</td></tr>
<tr class="separator:aaad2d7a86d4859982dd9a132f5128ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa997067c2c9bfef15af6fa0a10c20f4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a">releasesleep</a> (struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *lk)</td></tr>
<tr class="separator:aa997067c2c9bfef15af6fa0a10c20f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fdbe54cbecd8fc67d74793b27adcf05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05">holdingsleep</a> (struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *lk)</td></tr>
<tr class="separator:a6fdbe54cbecd8fc67d74793b27adcf05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aaad2d7a86d4859982dd9a132f5128ff2" name="aaad2d7a86d4859982dd9a132f5128ff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaad2d7a86d4859982dd9a132f5128ff2">&#9670;&#160;</a></span>acquiresleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acquiresleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *&#160;</td>
          <td class="paramname"><em>lk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dd1/sleeplock_8c_source.html#l00023">23</a> of file <a class="el" href="../../d8/dd1/sleeplock_8c_source.html">sleeplock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>{</div>
<div class="line"><span class="lineno">   25</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   26</span>  <span class="keywordflow">while</span> (lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">locked</a>) {</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(lk, &amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   28</span>  }</div>
<div class="line"><span class="lineno">   29</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">locked</a> = 1;</div>
<div class="line"><span class="lineno">   30</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a99a4c6a784956ab1c391a12af475a55e">pid</a> = <a class="code hl_function" href="../../d5/d64/defs_8h.html#a3d2327db1e34643f4a9e6a07c8cc62c6">myproc</a>()-&gt;<a class="code hl_variable" href="../../de/d48/structproc.html#acf2bdf54d1f957ccbcdc987007029944">pid</a>;</div>
<div class="line"><span class="lineno">   31</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   32</span>}</div>
<div class="ttc" id="adefs_8h_html_a3d2327db1e34643f4a9e6a07c8cc62c6"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a3d2327db1e34643f4a9e6a07c8cc62c6">myproc</a></div><div class="ttdeci">struct proc * myproc()</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00058">proc.c:58</a></div></div>
<div class="ttc" id="adefs_8h_html_a4f8616948f3dbce65671f666eed1d669"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a></div><div class="ttdeci">void release(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00047">spinlock.c:47</a></div></div>
<div class="ttc" id="adefs_8h_html_aca4a88f06b3ebbcc04330f7ae06c8507"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a></div><div class="ttdeci">void sleep(void *, struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00418">proc.c:418</a></div></div>
<div class="ttc" id="adefs_8h_html_afe4ef8638f1ecb962a6e67fb086ee3b8"><div class="ttname"><a href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a></div><div class="ttdeci">void acquire(struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00025">spinlock.c:25</a></div></div>
<div class="ttc" id="astructproc_html_acf2bdf54d1f957ccbcdc987007029944"><div class="ttname"><a href="../../de/d48/structproc.html#acf2bdf54d1f957ccbcdc987007029944">proc::pid</a></div><div class="ttdeci">int pid</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/proc_8h_source.html#l00043">proc.h:43</a></div></div>
<div class="ttc" id="astructsleeplock_html_a077241ea0e720d228d853208444c4c9d"><div class="ttname"><a href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">sleeplock::lk</a></div><div class="ttdeci">struct spinlock lk</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d74/sleeplock_8h_source.html#l00004">sleeplock.h:4</a></div></div>
<div class="ttc" id="astructsleeplock_html_a99a4c6a784956ab1c391a12af475a55e"><div class="ttname"><a href="../../d9/dd0/structsleeplock.html#a99a4c6a784956ab1c391a12af475a55e">sleeplock::pid</a></div><div class="ttdeci">int pid</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d74/sleeplock_8h_source.html#l00008">sleeplock.h:8</a></div></div>
<div class="ttc" id="astructsleeplock_html_ac5cfe608994a41b24cb1c0fd722910c3"><div class="ttname"><a href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">sleeplock::locked</a></div><div class="ttdeci">uint locked</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d74/sleeplock_8h_source.html#l00003">sleeplock.h:3</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_cgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_cgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_cgraph" id="ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_cgraph">
<area shape="rect" title=" " alt="" coords="5,297,100,322"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="492,701,556,726"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1216,246,1280,271"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="361,246,427,271"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="148,366,201,391"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="615,753,707,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="629,499,692,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="865,474,927,499"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="975,587,1028,613"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="755,550,817,575"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1328,310,1384,335"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1093,437,1151,462"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1093,587,1151,613"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1076,538,1168,563"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="249,398,307,423"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="355,549,433,574"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="495,651,553,677"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="481,550,567,575"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="618,651,703,677"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_icgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_icgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_icgraph" id="ad8/dd1/sleeplock_8c_aaad2d7a86d4859982dd9a132f5128ff2_icgraph">
<area shape="rect" title=" " alt="" coords="623,377,717,403"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="419,252,468,277"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="532,403,575,428"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="261,104,353,129"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="260,153,355,179"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="282,301,333,327"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="275,203,339,228"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="277,5,338,31"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="274,55,341,80"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="268,351,347,376"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="272,452,343,477"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="268,400,347,425"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="265,252,349,277"/>
<area shape="rect" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="123,104,207,129"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="126,403,205,428"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="129,353,201,379"/>
<area shape="rect" href="../../d8/d60/init_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="140,252,191,277"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#aedbeff6afe5d4e22330c7e6b5e6df893" title=" " alt="" coords="5,452,71,477"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#aeaa813ddeb6a5fac3c45714c7351c526" title=" " alt="" coords="126,203,205,228"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="128,153,203,179"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ac243c8f20f5fb2e3e257b5007af2c204" title=" " alt="" coords="127,5,203,31"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="126,55,205,80"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="415,504,471,529"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="286,948,329,973"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="408,403,479,428"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="403,301,484,327"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2" title=" " alt="" coords="131,1395,200,1420"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a" title=" " alt="" coords="139,1444,192,1469"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31" title=" " alt="" coords="137,1493,193,1519"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35" title=" " alt="" coords="132,1543,199,1568"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7" title=" " alt="" coords="133,1592,198,1617"/>
<area shape="rect" href="../../d1/d8f/cat_8c.html#a90a33618884bcf5e892297879bc016ff" title=" " alt="" coords="145,1641,185,1667"/>
<area shape="rect" href="../../d1/d8f/cat_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="13,1492,63,1517"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2" title=" " alt="" coords="126,501,205,527"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf" title=" " alt="" coords="119,551,212,576"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f" title=" " alt="" coords="139,600,192,625"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8db9f9a2634bab29096bab0b8bc6945c" title=" " alt="" coords="136,649,195,675"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2" title=" " alt="" coords="122,699,209,724"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f" title=" " alt="" coords="132,748,199,773"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a0ef8ccf57bc8c491407ec513b234f83c" title=" " alt="" coords="132,797,199,823"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6" title=" " alt="" coords="131,847,199,872"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb" title=" " alt="" coords="131,948,200,973"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6" title=" " alt="" coords="133,997,198,1023"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04" title=" " alt="" coords="145,1047,185,1072"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608" title=" " alt="" coords="133,1096,197,1121"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315" title=" " alt="" coords="127,1145,203,1171"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="140,1195,191,1220"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7" title=" " alt="" coords="119,1244,212,1269"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ae7c61791dd2cfb8ad59b4c6e87685c07" title=" " alt="" coords="129,1293,201,1319"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#ada38fdb2913f040f6eeb6189eeb42d32" title=" " alt="" coords="139,452,192,477"/>
</map>
</div>

</div>
</div>
<a id="a6fdbe54cbecd8fc67d74793b27adcf05" name="a6fdbe54cbecd8fc67d74793b27adcf05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fdbe54cbecd8fc67d74793b27adcf05">&#9670;&#160;</a></span>holdingsleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int holdingsleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *&#160;</td>
          <td class="paramname"><em>lk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dd1/sleeplock_8c_source.html#l00045">45</a> of file <a class="el" href="../../d8/dd1/sleeplock_8c_source.html">sleeplock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>{</div>
<div class="line"><span class="lineno">   47</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a>;</div>
<div class="line"><span class="lineno">   48</span>  </div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   50</span>  <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a> = lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">locked</a> &amp;&amp; (lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a99a4c6a784956ab1c391a12af475a55e">pid</a> == <a class="code hl_function" href="../../d5/d64/defs_8h.html#a3d2327db1e34643f4a9e6a07c8cc62c6">myproc</a>()-&gt;<a class="code hl_variable" href="../../de/d48/structproc.html#acf2bdf54d1f957ccbcdc987007029944">pid</a>);</div>
<div class="line"><span class="lineno">   51</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a>;</div>
<div class="line"><span class="lineno">   53</span>}</div>
<div class="ttc" id="aconsole_8c_html_af10fa12dd785c91e29528fbdc50cf9af"><div class="ttname"><a href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a></div><div class="ttdeci">uint r</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00184">console.c:184</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_cgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_cgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_cgraph" id="ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_cgraph">
<area shape="rect" title=" " alt="" coords="5,271,100,297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="148,271,212,297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="861,94,925,119"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="273,449,339,474"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="260,295,352,321"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="275,246,337,271"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="511,347,572,373"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="620,195,673,221"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="400,347,463,373"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="973,347,1029,373"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="738,297,797,322"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="738,94,797,119"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="721,195,813,221"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_icgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_icgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_icgraph" id="ad8/dd1/sleeplock_8c_a6fdbe54cbecd8fc67d74793b27adcf05_icgraph">
<area shape="rect" title=" " alt="" coords="952,516,1047,541"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="745,440,803,465"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a63c899c13b176ddf80064d32225e1298" title=" " alt="" coords="745,491,803,516"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="851,541,904,567"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="517,883,579,908"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="639,439,691,464"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="523,808,573,833"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="633,225,697,251"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="521,220,575,245"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="640,692,691,717"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78" title=" " alt="" coords="635,540,696,565"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="369,1060,461,1085"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="368,1109,463,1135"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="250,1057,301,1083"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="383,1159,447,1184"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="385,1011,446,1036"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="382,605,449,631"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="236,683,315,708"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="240,555,311,580"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="236,857,315,883"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="233,149,317,175"/>
<area shape="rect" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="233,1008,317,1033"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="104,653,183,679"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="107,703,179,728"/>
<area shape="rect" href="../../d8/d60/init_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="118,1032,169,1057"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#aedbeff6afe5d4e22330c7e6b5e6df893" title=" " alt="" coords="111,841,176,867"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#aeaa813ddeb6a5fac3c45714c7351c526" title=" " alt="" coords="104,1081,183,1107"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,555,56,580"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,841,56,867"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a54bf714d9e898cbdcbc061b280bbfae0" title=" " alt="" coords="238,1159,313,1184"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ac243c8f20f5fb2e3e257b5007af2c204" title=" " alt="" coords="237,959,313,984"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a687d939a9e4792af15db96f2c2f34378" title=" " alt="" coords="236,605,315,631"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="527,371,569,396"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="387,200,443,225"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="254,505,297,531"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="380,352,451,377"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="375,808,456,833"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2" title=" " alt="" coords="109,456,178,481"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a" title=" " alt="" coords="117,505,170,531"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31" title=" " alt="" coords="115,555,171,580"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35" title=" " alt="" coords="110,604,177,629"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7" title=" " alt="" coords="111,407,176,432"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="234,759,317,784"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="231,808,320,833"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5341068f021beac8cf0032b97d231e6f" title=" " alt="" coords="511,269,585,295"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="513,1260,583,1285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="527,549,569,575"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="520,500,576,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="386,504,445,529"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="747,540,801,565"/>
</map>
</div>

</div>
</div>
<a id="aaa5746f0a7ae0071b2916be5fdedf4ab" name="aaa5746f0a7ae0071b2916be5fdedf4ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa5746f0a7ae0071b2916be5fdedf4ab">&#9670;&#160;</a></span>initsleeplock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initsleeplock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *&#160;</td>
          <td class="paramname"><em>lk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dd1/sleeplock_8c_source.html#l00014">14</a> of file <a class="el" href="../../d8/dd1/sleeplock_8c_source.html">sleeplock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   15</span>{</div>
<div class="line"><span class="lineno">   16</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>, <span class="stringliteral">&quot;sleep lock&quot;</span>);</div>
<div class="line"><span class="lineno">   17</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a40f1db61da688063cd5ac4f72d839590">name</a> = <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>;</div>
<div class="line"><span class="lineno">   18</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">locked</a> = 0;</div>
<div class="line"><span class="lineno">   19</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a99a4c6a784956ab1c391a12af475a55e">pid</a> = 0;</div>
<div class="line"><span class="lineno">   20</span>}</div>
<div class="ttc" id="adefs_8h_html_ab56d728e6966819a0260c358d3ac3419"><div class="ttname"><a href="../../d5/d64/defs_8h.html#ab56d728e6966819a0260c358d3ac3419">initlock</a></div><div class="ttdeci">void initlock(struct spinlock *, char *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00013">spinlock.c:13</a></div></div>
<div class="ttc" id="astructsleeplock_html_a40f1db61da688063cd5ac4f72d839590"><div class="ttname"><a href="../../d9/dd0/structsleeplock.html#a40f1db61da688063cd5ac4f72d839590">sleeplock::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d74/sleeplock_8h_source.html#l00007">sleeplock.h:7</a></div></div>
<div class="ttc" id="ausertests_8c_html_aee754febd402311e2a552cb0d6ab6629"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a></div><div class="ttdeci">char name[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00012">usertests.c:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_cgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_cgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_cgraph" id="ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,100,31"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#abda07b4a007b2e888d9d783920460b89" title=" " alt="" coords="148,5,211,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_icgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_icgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_icgraph" id="ad8/dd1/sleeplock_8c_aaa5746f0a7ae0071b2916be5fdedf4ab_icgraph">
<area shape="rect" title=" " alt="" coords="207,31,301,56"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a53cca0ddc98c5f1de37124eca2575a59" title=" " alt="" coords="112,5,159,31"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="114,55,157,80"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="5,55,64,80"/>
</map>
</div>

</div>
</div>
<a id="aa997067c2c9bfef15af6fa0a10c20f4a" name="aa997067c2c9bfef15af6fa0a10c20f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa997067c2c9bfef15af6fa0a10c20f4a">&#9670;&#160;</a></span>releasesleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void releasesleep </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d9/dd0/structsleeplock.html">sleeplock</a> *&#160;</td>
          <td class="paramname"><em>lk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d8/dd1/sleeplock_8c_source.html#l00035">35</a> of file <a class="el" href="../../d8/dd1/sleeplock_8c_source.html">sleeplock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#afe4ef8638f1ecb962a6e67fb086ee3b8">acquire</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   38</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#ac5cfe608994a41b24cb1c0fd722910c3">locked</a> = 0;</div>
<div class="line"><span class="lineno">   39</span>  lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a99a4c6a784956ab1c391a12af475a55e">pid</a> = 0;</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254">wakeup</a>(lk);</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a4f8616948f3dbce65671f666eed1d669">release</a>(&amp;lk-&gt;<a class="code hl_variable" href="../../d9/dd0/structsleeplock.html#a077241ea0e720d228d853208444c4c9d">lk</a>);</div>
<div class="line"><span class="lineno">   42</span>}</div>
<div class="ttc" id="adefs_8h_html_a245b56417239f499389b2e806bd99254"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a245b56417239f499389b2e806bd99254">wakeup</a></div><div class="ttdeci">void wakeup(void *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00469">proc.c:469</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_cgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_cgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_cgraph" id="ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_cgraph">
<area shape="rect" title=" " alt="" coords="5,380,100,405"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="263,253,327,279"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="976,355,1040,380"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="148,380,215,405"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="375,279,467,304"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="389,127,452,152"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="625,115,687,140"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="735,228,788,253"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="515,25,577,51"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1088,127,1144,152"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="853,127,911,152"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="853,329,911,355"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="836,228,928,253"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_icgraph.png" border="0" usemap="#ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_icgraph" alt=""/></div>
<map name="ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_icgraph" id="ad8/dd1/sleeplock_8c_aa997067c2c9bfef15af6fa0a10c20f4a_icgraph">
<area shape="rect" title=" " alt="" coords="860,634,955,659"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="755,634,812,659"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="536,796,579,822"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="526,256,589,282"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="649,658,701,683"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="533,431,582,456"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="643,810,707,835"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a15858f4d8a4cc1def3d84d03c312836b" title=" " alt="" coords="531,734,584,759"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="649,458,700,483"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aff0080b2133027be2e525ca088b40e78" title=" " alt="" coords="644,608,705,634"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="379,330,471,355"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="377,280,472,306"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="262,383,313,408"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a1dc8c87c7e48bdaaf98e9c7047928f29" title=" " alt="" coords="393,130,457,155"/>
<area shape="rect" href="../../d6/d13/file_8c.html#afff8e849fa54dea2a5a27dbb97474607" title=" " alt="" coords="394,231,455,256"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="391,532,458,558"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="248,478,327,503"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="252,683,323,708"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="248,555,327,580"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="245,886,329,911"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="111,444,190,470"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="115,386,187,411"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a69a135a0e8a06d9f306d77ebc0c1f7a0" title=" " alt="" coords="397,734,453,759"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="266,962,309,987"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="389,987,460,1012"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="384,582,465,607"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2" title=" " alt="" coords="116,808,185,834"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a" title=" " alt="" coords="124,858,177,883"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31" title=" " alt="" coords="123,907,179,932"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35" title=" " alt="" coords="117,956,184,982"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7" title=" " alt="" coords="118,1006,183,1031"/>
<area shape="rect" href="../../d1/d8f/cat_8c.html#a90a33618884bcf5e892297879bc016ff" title=" " alt="" coords="131,1107,171,1132"/>
<area shape="rect" href="../../d1/d8f/cat_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,1082,56,1107"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2" title=" " alt="" coords="111,1156,190,1182"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf" title=" " alt="" coords="104,1206,197,1231"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f" title=" " alt="" coords="124,1255,177,1280"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8db9f9a2634bab29096bab0b8bc6945c" title=" " alt="" coords="121,1304,180,1330"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2" title=" " alt="" coords="107,1354,194,1379"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f" title=" " alt="" coords="117,1403,184,1428"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a0ef8ccf57bc8c491407ec513b234f83c" title=" " alt="" coords="117,1452,184,1478"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6" title=" " alt="" coords="117,512,185,538"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb" title=" " alt="" coords="116,562,185,587"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6" title=" " alt="" coords="118,611,183,636"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04" title=" " alt="" coords="131,660,171,686"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608" title=" " alt="" coords="119,710,183,735"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315" title=" " alt="" coords="113,759,189,784"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a5341068f021beac8cf0032b97d231e6f" title=" " alt="" coords="520,507,595,532"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="522,52,593,78"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="536,658,579,683"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="529,608,585,634"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
