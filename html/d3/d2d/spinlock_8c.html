<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xv6: spinlock.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">xv6
   </div>
   <div id="projectbrief">Doxygen documentation for the xv6-public operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">spinlock.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d49/types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d64/defs_8h_source.html">defs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d33/param_8h_source.html">param.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d39/x86_8h_source.html">x86.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/da9/memlayout_8h_source.html">memlayout.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/df1/mmu_8h_source.html">mmu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d03/proc_8h_source.html">proc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d63/spinlock_8h_source.html">spinlock.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for spinlock.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d36/spinlock_8c__incl.png" border="0" usemap="#aspinlock_8c" alt=""/></div>
<map name="aspinlock_8c" id="aspinlock_8c">
<area shape="rect" title=" " alt="" coords="308,5,389,31"/>
<area shape="rect" href="../../d9/d49/types_8h.html" title=" " alt="" coords="5,79,71,104"/>
<area shape="rect" href="../../d5/d64/defs_8h.html" title=" " alt="" coords="95,79,154,104"/>
<area shape="rect" href="../../d5/d33/param_8h.html" title=" " alt="" coords="178,79,247,104"/>
<area shape="rect" href="../../d5/d39/x86_8h.html" title=" " alt="" coords="272,79,327,104"/>
<area shape="rect" href="../../d8/da9/memlayout_8h.html" title=" " alt="" coords="351,79,448,104"/>
<area shape="rect" href="../../d2/df1/mmu_8h.html" title=" " alt="" coords="472,79,535,104"/>
<area shape="rect" href="../../df/d03/proc_8h.html" title=" " alt="" coords="559,79,618,104"/>
<area shape="rect" href="../../df/d63/spinlock_8h.html" title=" " alt="" coords="643,79,724,104"/>
</map>
</div>
</div>
<p><a href="../../d3/d2d/spinlock_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abda07b4a007b2e888d9d783920460b89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#abda07b4a007b2e888d9d783920460b89">initlock</a> (struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *lk, char *<a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>)</td></tr>
<tr class="separator:abda07b4a007b2e888d9d783920460b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed377f16a085b00de3a4b32392adbdfb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb">acquire</a> (struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *lk)</td></tr>
<tr class="separator:aed377f16a085b00de3a4b32392adbdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cee376aa9a00e754bf5481cd5f3d97b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b">release</a> (struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *lk)</td></tr>
<tr class="separator:a1cee376aa9a00e754bf5481cd5f3d97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ac35304ea80f01086b47edcc2328010"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010">getcallerpcs</a> (void *v, <a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> pcs[])</td></tr>
<tr class="separator:a6ac35304ea80f01086b47edcc2328010"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea48df3e5cfb903179ad3dc78ab502d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9">holding</a> (struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *<a class="el" href="../../dc/de6/bio_8c.html#ab28e82cd5dda7d960095706a3ea20572">lock</a>)</td></tr>
<tr class="separator:aea48df3e5cfb903179ad3dc78ab502d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a206b749d1b7768dadce61cbcde7e0f1c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c">pushcli</a> (void)</td></tr>
<tr class="separator:a206b749d1b7768dadce61cbcde7e0f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3424f669269fef400ce29c3aeb43fdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb">popcli</a> (void)</td></tr>
<tr class="separator:ae3424f669269fef400ce29c3aeb43fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aed377f16a085b00de3a4b32392adbdfb" name="aed377f16a085b00de3a4b32392adbdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed377f16a085b00de3a4b32392adbdfb">&#9670;&#160;</a></span>acquire()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void acquire </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *&#160;</td>
          <td class="paramname"><em>lk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00025">25</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>{</div>
<div class="line"><span class="lineno">   27</span>  <a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c">pushcli</a>(); <span class="comment">// disable interrupts to avoid deadlock.</span></div>
<div class="line"><span class="lineno">   28</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9">holding</a>(lk))</div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;acquire&quot;</span>);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>  <span class="comment">// The xchg is atomic.</span></div>
<div class="line"><span class="lineno">   32</span>  <span class="keywordflow">while</span>(xchg(&amp;lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a48f3007579f644934d9aba91e5378c03">locked</a>, 1) != 0)</div>
<div class="line"><span class="lineno">   33</span>    ;</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>  <span class="comment">// Tell the C compiler and the processor to not move loads or stores</span></div>
<div class="line"><span class="lineno">   36</span>  <span class="comment">// past this point, to ensure that the critical section&#39;s memory</span></div>
<div class="line"><span class="lineno">   37</span>  <span class="comment">// references happen after the lock is acquired.</span></div>
<div class="line"><span class="lineno">   38</span>  __sync_synchronize();</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>  <span class="comment">// Record info about lock acquisition for debugging.</span></div>
<div class="line"><span class="lineno">   41</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a290ae772c8ccb9e8c1580204c31a7f88">cpu</a> = <a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>();</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010">getcallerpcs</a>(&amp;lk, lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#ac9ef3f16f664094198af0b9063e23fe0">pcs</a>);</div>
<div class="line"><span class="lineno">   43</span>}</div>
<div class="ttc" id="aconsole_8c_html_a95c0aca5d6d7487933984f08b189917a"><div class="ttname"><a href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a></div><div class="ttdeci">void panic(char *s)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00107">console.c:107</a></div></div>
<div class="ttc" id="adefs_8h_html_ad427959ad025dabd8cd393b27ec39160"><div class="ttname"><a href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a></div><div class="ttdeci">struct cpu * mycpu(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00038">proc.c:38</a></div></div>
<div class="ttc" id="aspinlock_8c_html_a206b749d1b7768dadce61cbcde7e0f1c"><div class="ttname"><a href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c">pushcli</a></div><div class="ttdeci">void pushcli(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00105">spinlock.c:105</a></div></div>
<div class="ttc" id="aspinlock_8c_html_a6ac35304ea80f01086b47edcc2328010"><div class="ttname"><a href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010">getcallerpcs</a></div><div class="ttdeci">void getcallerpcs(void *v, uint pcs[])</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00072">spinlock.c:72</a></div></div>
<div class="ttc" id="aspinlock_8c_html_aea48df3e5cfb903179ad3dc78ab502d9"><div class="ttname"><a href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9">holding</a></div><div class="ttdeci">int holding(struct spinlock *lock)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00090">spinlock.c:90</a></div></div>
<div class="ttc" id="astructspinlock_html_a290ae772c8ccb9e8c1580204c31a7f88"><div class="ttname"><a href="../../d1/d08/structspinlock.html#a290ae772c8ccb9e8c1580204c31a7f88">spinlock::cpu</a></div><div class="ttdeci">struct cpu * cpu</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00007">spinlock.h:7</a></div></div>
<div class="ttc" id="astructspinlock_html_a48f3007579f644934d9aba91e5378c03"><div class="ttname"><a href="../../d1/d08/structspinlock.html#a48f3007579f644934d9aba91e5378c03">spinlock::locked</a></div><div class="ttdeci">uint locked</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00003">spinlock.h:3</a></div></div>
<div class="ttc" id="astructspinlock_html_ac9ef3f16f664094198af0b9063e23fe0"><div class="ttname"><a href="../../d1/d08/structspinlock.html#ac9ef3f16f664094198af0b9063e23fe0">spinlock::pcs</a></div><div class="ttdeci">uint pcs[10]</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00008">spinlock.h:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_cgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_cgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_cgraph" id="ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_cgraph">
<area shape="rect" title=" " alt="" coords="5,132,69,157"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="117,5,209,31"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="132,259,195,284"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="368,208,429,233"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="477,107,531,132"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="257,208,320,233"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="831,221,887,247"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="595,208,654,233"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="595,5,654,31"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="579,107,671,132"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="719,183,783,208"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_icgraph" id="ad3/d2d/spinlock_8c_aed377f16a085b00de3a4b32392adbdfb_icgraph">
<area shape="rect" title=" " alt="" coords="1044,964,1108,989"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="616,939,711,964"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="352,556,444,581"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="351,409,445,435"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="377,1464,419,1489"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="115,1489,158,1515"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,784,49,809"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="228,1515,299,1540"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="493,1039,568,1064"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="635,812,692,837"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="925,509,972,535"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="763,1616,849,1641"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="919,157,978,183"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="785,208,827,233"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="499,1319,563,1344"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="630,208,697,233"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="919,460,979,485"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="784,436,828,461"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="901,761,996,787"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="779,761,833,787"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="777,1875,835,1900"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="925,411,972,436"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="921,1116,977,1141"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="923,712,974,737"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="767,1457,845,1483"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="783,660,829,685"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="929,1319,968,1344"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="626,760,701,785"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="771,1167,841,1192"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="769,1280,843,1305"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="759,1332,853,1357"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="909,1572,988,1597"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="922,964,975,989"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="765,1065,847,1091"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#aaf8553903ba8f2776247679d4db0d121" title=" " alt="" coords="904,1724,993,1749"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="917,1773,981,1799"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="915,1420,982,1445"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="112,5,161,31"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="506,809,555,835"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="373,809,423,835"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="365,1163,431,1188"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="224,1212,303,1237"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="228,960,299,985"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="97,909,176,935"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="356,859,440,884"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="357,1261,439,1287"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="353,1212,443,1237"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="505,760,557,785"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="499,859,563,884"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="505,908,556,933"/>
</map>
</div>

</div>
</div>
<a id="a6ac35304ea80f01086b47edcc2328010" name="a6ac35304ea80f01086b47edcc2328010"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ac35304ea80f01086b47edcc2328010">&#9670;&#160;</a></span>getcallerpcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void getcallerpcs </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>&#160;</td>
          <td class="paramname"><em>pcs</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00072">72</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> *ebp;</div>
<div class="line"><span class="lineno">   75</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>  ebp = (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*)v - 2;</div>
<div class="line"><span class="lineno">   78</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 10; i++){</div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span>(ebp == 0 || ebp &lt; (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*)<a class="code hl_define" href="../../d8/da9/memlayout_8h.html#a20cbfc19992a40ab9ccf4aa8ab8283d0">KERNBASE</a> || ebp == (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*)0xffffffff)</div>
<div class="line"><span class="lineno">   80</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   81</span>    pcs[i] = ebp[1];     <span class="comment">// saved %eip</span></div>
<div class="line"><span class="lineno">   82</span>    ebp = (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>*)ebp[0]; <span class="comment">// saved %ebp</span></div>
<div class="line"><span class="lineno">   83</span>  }</div>
<div class="line"><span class="lineno">   84</span>  <span class="keywordflow">for</span>(; i &lt; 10; i++)</div>
<div class="line"><span class="lineno">   85</span>    pcs[i] = 0;</div>
<div class="line"><span class="lineno">   86</span>}</div>
<div class="ttc" id="amemlayout_8h_html_a20cbfc19992a40ab9ccf4aa8ab8283d0"><div class="ttname"><a href="../../d8/da9/memlayout_8h.html#a20cbfc19992a40ab9ccf4aa8ab8283d0">KERNBASE</a></div><div class="ttdeci">#define KERNBASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da9/memlayout_8h_source.html#l00008">memlayout.h:8</a></div></div>
<div class="ttc" id="atypes_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00001">types.h:1</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_a6ac35304ea80f01086b47edcc2328010_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_a6ac35304ea80f01086b47edcc2328010_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_a6ac35304ea80f01086b47edcc2328010_icgraph" id="ad3/d2d/spinlock_8c_a6ac35304ea80f01086b47edcc2328010_icgraph">
<area shape="rect" title=" " alt="" coords="1141,994,1233,1020"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1029,994,1093,1020"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="601,970,696,996"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="225,741,317,766"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="224,514,319,540"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="383,1096,425,1121"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="115,1322,158,1348"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,666,49,692"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="236,1448,307,1473"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="367,1197,441,1222"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="620,844,677,869"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="911,541,957,566"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="749,1653,834,1678"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="905,186,963,212"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="770,237,813,262"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="372,1321,436,1346"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="615,288,682,313"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="904,440,964,465"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="769,540,813,565"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="887,741,981,766"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="765,742,818,768"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="763,1754,820,1780"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="911,590,957,616"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="906,1146,962,1172"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="909,640,959,665"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="753,1450,830,1476"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="768,641,815,666"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="915,1349,953,1374"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="611,893,686,918"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="756,1298,827,1324"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="754,1552,829,1577"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="744,1197,839,1222"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="895,1601,973,1626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="907,994,961,1020"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="751,1148,832,1173"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#aaf8553903ba8f2776247679d4db0d121" title=" " alt="" coords="889,1753,979,1778"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="902,1802,966,1828"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="901,1552,967,1577"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="497,34,546,60"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="379,920,429,945"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="246,896,297,921"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="238,1346,305,1372"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="232,1096,311,1121"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="236,1046,307,1072"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="97,1146,176,1172"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="229,997,313,1022"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="230,1297,313,1322"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="227,1248,316,1273"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="495,893,547,918"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="489,994,553,1020"/>
</map>
</div>

</div>
</div>
<a id="aea48df3e5cfb903179ad3dc78ab502d9" name="aea48df3e5cfb903179ad3dc78ab502d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea48df3e5cfb903179ad3dc78ab502d9">&#9670;&#160;</a></span>holding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int holding </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *&#160;</td>
          <td class="paramname"><em>lock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00090">90</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>{</div>
<div class="line"><span class="lineno">   92</span>  <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a>;</div>
<div class="line"><span class="lineno">   93</span>  <a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c">pushcli</a>();</div>
<div class="line"><span class="lineno">   94</span>  <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a> = <a class="code hl_variable" href="../../dc/de6/bio_8c.html#ab28e82cd5dda7d960095706a3ea20572">lock</a>-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a48f3007579f644934d9aba91e5378c03">locked</a> &amp;&amp; <a class="code hl_variable" href="../../dc/de6/bio_8c.html#ab28e82cd5dda7d960095706a3ea20572">lock</a>-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a290ae772c8ccb9e8c1580204c31a7f88">cpu</a> == <a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>();</div>
<div class="line"><span class="lineno">   95</span>  <a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb">popcli</a>();</div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a>;</div>
<div class="line"><span class="lineno">   97</span>}</div>
<div class="ttc" id="abio_8c_html_ab28e82cd5dda7d960095706a3ea20572"><div class="ttname"><a href="../../dc/de6/bio_8c.html#ab28e82cd5dda7d960095706a3ea20572">lock</a></div><div class="ttdeci">struct spinlock lock</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/de6/bio_8c_source.html#l00030">bio.c:30</a></div></div>
<div class="ttc" id="aconsole_8c_html_af10fa12dd785c91e29528fbdc50cf9af"><div class="ttname"><a href="../../d0/d56/console_8c.html#af10fa12dd785c91e29528fbdc50cf9af">r</a></div><div class="ttdeci">uint r</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d56/console_8c_source.html#l00184">console.c:184</a></div></div>
<div class="ttc" id="aspinlock_8c_html_ae3424f669269fef400ce29c3aeb43fdb"><div class="ttname"><a href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb">popcli</a></div><div class="ttdeci">void popcli(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d2d/spinlock_8c_source.html#l00117">spinlock.c:117</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_cgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_cgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_cgraph" id="ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_cgraph">
<area shape="rect" title=" " alt="" coords="5,397,68,422"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="116,397,177,422"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="593,498,656,523"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="597,119,653,145"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="343,397,402,422"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="225,270,279,295"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="343,245,402,270"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="327,195,419,221"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="467,447,531,473"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="467,145,531,170"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="579,447,671,473"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_icgraph" id="ad3/d2d/spinlock_8c_aea48df3e5cfb903179ad3dc78ab502d9_icgraph">
<area shape="rect" title=" " alt="" coords="1129,1038,1192,1063"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1017,2219,1081,2245"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="756,278,813,303"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1017,1038,1081,1063"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="489,786,584,811"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="225,1227,317,1253"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="224,2421,319,2446"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="383,1870,425,1895"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="115,2270,158,2295"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,2802,49,2827"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="236,2371,307,2397"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="367,2021,441,2046"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="632,1767,689,1793"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="901,1541,948,1566"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="742,1891,827,1917"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="895,2245,954,2270"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="763,2194,806,2219"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="372,2146,436,2171"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="891,2650,958,2675"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="895,1590,955,1615"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="763,1590,807,1615"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="737,1379,832,1405"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="510,1363,563,1389"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="756,2145,813,2170"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="901,1491,948,1517"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="897,1689,953,1714"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="899,1890,950,1915"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="746,1842,823,1867"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="513,1110,560,1135"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="905,1738,944,1763"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="887,1393,962,1418"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="501,1270,572,1295"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="499,987,574,1013"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="737,1793,832,1818"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="885,1291,964,1317"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="634,810,687,835"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="496,835,577,861"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="636,227,685,253"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#aaf8553903ba8f2776247679d4db0d121" title=" " alt="" coords="880,1639,969,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="893,1442,957,1467"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="891,2093,958,2118"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="379,1919,429,1945"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="246,2121,297,2146"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="238,2071,305,2097"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="232,1870,311,1895"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="236,1919,307,1945"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="97,2321,176,2346"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="230,2170,313,2195"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="227,2219,316,2245"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="895,987,954,1013"/>
</map>
</div>

</div>
</div>
<a id="abda07b4a007b2e888d9d783920460b89" name="abda07b4a007b2e888d9d783920460b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda07b4a007b2e888d9d783920460b89">&#9670;&#160;</a></span>initlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *&#160;</td>
          <td class="paramname"><em>lk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00013">13</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   14</span>{</div>
<div class="line"><span class="lineno">   15</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#afbec3274bf8ad9c421695a22f8d9d584">name</a> = <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>;</div>
<div class="line"><span class="lineno">   16</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a48f3007579f644934d9aba91e5378c03">locked</a> = 0;</div>
<div class="line"><span class="lineno">   17</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a290ae772c8ccb9e8c1580204c31a7f88">cpu</a> = 0;</div>
<div class="line"><span class="lineno">   18</span>}</div>
<div class="ttc" id="astructspinlock_html_afbec3274bf8ad9c421695a22f8d9d584"><div class="ttname"><a href="../../d1/d08/structspinlock.html#afbec3274bf8ad9c421695a22f8d9d584">spinlock::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d63/spinlock_8h_source.html#l00006">spinlock.h:6</a></div></div>
<div class="ttc" id="ausertests_8c_html_aee754febd402311e2a552cb0d6ab6629"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a></div><div class="ttdeci">char name[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00012">usertests.c:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_abda07b4a007b2e888d9d783920460b89_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_abda07b4a007b2e888d9d783920460b89_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_abda07b4a007b2e888d9d783920460b89_icgraph" id="ad3/d2d/spinlock_8c_abda07b4a007b2e888d9d783920460b89_icgraph">
<area shape="rect" title=" " alt="" coords="377,232,440,257"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a53cca0ddc98c5f1de37124eca2575a59" title=" " alt="" coords="126,83,173,108"/>
<area shape="rect" href="../../d0/d56/console_8c.html#ab508ff0f4db26fe35cd25fa648f9ee75" title=" " alt="" coords="240,33,324,59"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a66bb5a4b304ea0f851dd999fc8195fa4" title=" " alt="" coords="254,83,310,108"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#aefb190a6104cb58c0bc1f8fec88d1307" title=" " alt="" coords="254,132,310,157"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a301761a27cf266e0bad483272fb31a3c" title=" " alt="" coords="128,232,171,257"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ad5e79aaefb91f41b9ef6aeae7ecf4708" title=" " alt="" coords="121,283,177,308"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaa5746f0a7ae0071b2916be5fdedf4ab" title=" " alt="" coords="235,181,329,207"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a596c07f040e83fd8ea1857f36ffab4fb" title=" " alt="" coords="255,333,309,359"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9d293f913985937ee7a266fe5ddbfc77" title=" " alt="" coords="259,383,305,408"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a9d6f0c526148e6002b6776619c7563e6" title=" " alt="" coords="245,432,319,457"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a9e7167b8e20e217c4af4e757f612ba6a" title=" " alt="" coords="257,481,307,507"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="5,257,64,283"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="112,432,187,457"/>
</map>
</div>

</div>
</div>
<a id="ae3424f669269fef400ce29c3aeb43fdb" name="ae3424f669269fef400ce29c3aeb43fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3424f669269fef400ce29c3aeb43fdb">&#9670;&#160;</a></span>popcli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void popcli </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00117">117</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  118</span>{</div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">if</span>(readeflags()&amp;<a class="code hl_define" href="../../d2/df1/mmu_8h.html#ab481068357bb42797aafe91864a2d085">FL_IF</a>)</div>
<div class="line"><span class="lineno">  120</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;popcli - interruptible&quot;</span>);</div>
<div class="line"><span class="lineno">  121</span>  <span class="keywordflow">if</span>(--<a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;ncli &lt; 0)</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;popcli&quot;</span>);</div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;ncli == 0 &amp;&amp; <a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;intena)</div>
<div class="line"><span class="lineno">  124</span>    sti();</div>
<div class="line"><span class="lineno">  125</span>}</div>
<div class="ttc" id="ammu_8h_html_ab481068357bb42797aafe91864a2d085"><div class="ttname"><a href="../../d2/df1/mmu_8h.html#ab481068357bb42797aafe91864a2d085">FL_IF</a></div><div class="ttdeci">#define FL_IF</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df1/mmu_8h_source.html#l00005">mmu.h:5</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_cgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_cgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_cgraph" id="ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_cgraph">
<area shape="rect" title=" " alt="" coords="5,324,61,350"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="109,122,171,147"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="219,272,272,298"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="337,147,395,172"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="337,298,395,323"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="320,248,412,274"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="460,46,524,71"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="460,323,524,348"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="572,46,664,71"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="587,147,649,172"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="712,96,775,122"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_icgraph" id="ad3/d2d/spinlock_8c_ae3424f669269fef400ce29c3aeb43fdb_icgraph">
<area shape="rect" title=" " alt="" coords="1004,2494,1060,2519"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="882,1987,945,2013"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="748,1581,812,1606"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="881,2594,946,2619"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="871,3227,956,3253"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="748,1005,812,1030"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="751,2369,809,2394"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="452,1859,547,1885"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="357,751,400,777"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="117,777,159,802"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,1661,49,1686"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="231,802,301,827"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="462,525,537,550"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="471,1606,528,1631"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="619,1306,665,1331"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="599,1355,685,1381"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="453,2062,545,2087"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="595,1405,689,1430"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="613,449,671,474"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="478,449,521,474"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="467,373,531,398"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="609,1207,675,1233"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="612,802,672,827"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="477,790,521,815"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="595,1657,689,1682"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="473,1682,526,1707"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="613,297,671,322"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="619,753,665,778"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="614,1454,670,1479"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="617,1005,667,1030"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="476,1758,523,1783"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="623,1257,661,1282"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="464,2111,535,2137"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="462,2213,537,2238"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="615,1961,669,1986"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="459,2366,540,2391"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="617,2518,667,2543"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="227,474,305,499"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a32945488fd39bc405757177b37cd2250" title=" " alt="" coords="97,1634,179,1659"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a9a70db941def46ec25939e6c2d30e399" title=" " alt="" coords="101,3177,175,3202"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="353,702,404,727"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#acd6bcafe6626fe8e7d00cacdbc3cc4f1" title=" " alt="" coords="468,2923,531,2949"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="613,2113,671,2138"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#ade56ef2176f85cd61e7b91b400e7d4d3" title=" " alt="" coords="615,3025,669,3050"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#a6ade9205d1f46b759cf93b60513a3421" title=" " alt="" coords="472,3177,527,3202"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#ab21d46be776cf6075a997af525a1a628" title=" " alt="" coords="462,3025,537,3050"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#a918cadc6c55aa7ac38982659c27a3a75" title=" " alt="" coords="747,3075,813,3101"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#ace37b4584713ab6bda44a282a298961f" title=" " alt="" coords="747,2418,813,2443"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9c16214741f4fcd088e5eea468709328" title=" " alt="" coords="743,3227,817,3253"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#ac81965412a0725574b8c72afda11243e" title=" " alt="" coords="737,2467,823,2493"/>
</map>
</div>

</div>
</div>
<a id="a206b749d1b7768dadce61cbcde7e0f1c" name="a206b749d1b7768dadce61cbcde7e0f1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a206b749d1b7768dadce61cbcde7e0f1c">&#9670;&#160;</a></span>pushcli()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pushcli </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00105">105</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>  <span class="keywordtype">int</span> eflags;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  eflags = readeflags();</div>
<div class="line"><span class="lineno">  110</span>  cli();</div>
<div class="line"><span class="lineno">  111</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;ncli == 0)</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;<a class="code hl_variable" href="../../db/d62/structcpu.html#a26fc271fea8af30d67fc2ae22ef0a82f">intena</a> = eflags &amp; <a class="code hl_define" href="../../d2/df1/mmu_8h.html#ab481068357bb42797aafe91864a2d085">FL_IF</a>;</div>
<div class="line"><span class="lineno">  113</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ad427959ad025dabd8cd393b27ec39160">mycpu</a>()-&gt;<a class="code hl_variable" href="../../db/d62/structcpu.html#a9ccad8ae031c295f86e96de26df24805">ncli</a> += 1;</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="astructcpu_html_a26fc271fea8af30d67fc2ae22ef0a82f"><div class="ttname"><a href="../../db/d62/structcpu.html#a26fc271fea8af30d67fc2ae22ef0a82f">cpu::intena</a></div><div class="ttdeci">int intena</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/proc_8h_source.html#l00009">proc.h:9</a></div></div>
<div class="ttc" id="astructcpu_html_a9ccad8ae031c295f86e96de26df24805"><div class="ttname"><a href="../../db/d62/structcpu.html#a9ccad8ae031c295f86e96de26df24805">cpu::ncli</a></div><div class="ttdeci">int ncli</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d03/proc_8h_source.html#l00008">proc.h:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_cgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_cgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_cgraph" id="ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_cgraph">
<area shape="rect" title=" " alt="" coords="5,447,68,473"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="116,321,177,346"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="343,295,402,321"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="225,170,279,195"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="343,145,402,170"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="327,246,419,271"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="467,234,531,259"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="467,119,531,145"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="579,209,671,234"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="593,258,656,283"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="719,57,775,82"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_icgraph" id="ad3/d2d/spinlock_8c_a206b749d1b7768dadce61cbcde7e0f1c_icgraph">
<area shape="rect" title=" " alt="" coords="1189,3149,1252,3174"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="956,1006,1020,1031"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1079,3022,1141,3047"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="817,3301,883,3326"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="945,3478,1031,3503"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="405,2651,500,2677"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="311,1131,353,1157"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="97,1069,140,1094"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,739,49,765"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="188,1030,259,1055"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="415,1157,490,1182"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="551,1582,609,1607"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="827,1557,873,1582"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="665,1207,750,1233"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="407,2602,499,2627"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="803,1606,897,1631"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="821,753,879,778"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="686,803,729,829"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="548,523,612,549"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="817,1359,883,1385"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="820,2059,880,2085"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="685,2034,729,2059"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="660,2515,755,2541"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="426,2490,479,2515"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="679,853,736,878"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="827,2010,873,2035"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="822,1655,878,1681"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="825,1909,875,1934"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="669,1257,746,1282"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="429,2414,476,2439"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="831,1409,869,1434"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="813,1458,887,1483"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="417,2363,488,2389"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="415,2553,490,2578"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="660,1306,755,1331"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="811,3022,889,3047"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="553,2566,607,2591"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="412,2819,493,2845"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="555,2971,605,2997"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#aaf8553903ba8f2776247679d4db0d121" title=" " alt="" coords="805,1507,895,1533"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="818,1310,882,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="817,905,883,930"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="307,1258,357,1283"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="679,3022,736,3047"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="956,2110,1020,2135"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#ade56ef2176f85cd61e7b91b400e7d4d3" title=" " alt="" coords="553,3554,607,3579"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#a6ade9205d1f46b759cf93b60513a3421" title=" " alt="" coords="425,3579,480,3605"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#a918cadc6c55aa7ac38982659c27a3a75" title=" " alt="" coords="675,3529,740,3554"/>
<area shape="rect" href="../../db/dd8/syscall_8c.html#ace37b4584713ab6bda44a282a298961f" title=" " alt="" coords="674,3681,741,3706"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9c16214741f4fcd088e5eea468709328" title=" " alt="" coords="670,3782,745,3807"/>
</map>
</div>

</div>
</div>
<a id="a1cee376aa9a00e754bf5481cd5f3d97b" name="a1cee376aa9a00e754bf5481cd5f3d97b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cee376aa9a00e754bf5481cd5f3d97b">&#9670;&#160;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void release </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../d1/d08/structspinlock.html">spinlock</a> *&#160;</td>
          <td class="paramname"><em>lk</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d2d/spinlock_8c_source.html#l00047">47</a> of file <a class="el" href="../../d3/d2d/spinlock_8c_source.html">spinlock.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">if</span>(!<a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9">holding</a>(lk))</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_function" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a">panic</a>(<span class="stringliteral">&quot;release&quot;</span>);</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#ac9ef3f16f664094198af0b9063e23fe0">pcs</a>[0] = 0;</div>
<div class="line"><span class="lineno">   53</span>  lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a290ae772c8ccb9e8c1580204c31a7f88">cpu</a> = 0;</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>  <span class="comment">// Tell the C compiler and the processor to not move loads or stores</span></div>
<div class="line"><span class="lineno">   56</span>  <span class="comment">// past this point, to ensure that all the stores in the critical</span></div>
<div class="line"><span class="lineno">   57</span>  <span class="comment">// section are visible to other cores before the lock is released.</span></div>
<div class="line"><span class="lineno">   58</span>  <span class="comment">// Both the C compiler and the hardware may re-order loads and</span></div>
<div class="line"><span class="lineno">   59</span>  <span class="comment">// stores; __sync_synchronize() tells them both not to.</span></div>
<div class="line"><span class="lineno">   60</span>  __sync_synchronize();</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  <span class="comment">// Release the lock, equivalent to lk-&gt;locked = 0.</span></div>
<div class="line"><span class="lineno">   63</span>  <span class="comment">// This code can&#39;t use a C assignment, since it might</span></div>
<div class="line"><span class="lineno">   64</span>  <span class="comment">// not be atomic. A real OS would use C atomics here.</span></div>
<div class="line"><span class="lineno">   65</span>  <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;movl $0, %0&quot;</span> : <span class="stringliteral">&quot;+m&quot;</span> (lk-&gt;<a class="code hl_variable" href="../../d1/d08/structspinlock.html#a48f3007579f644934d9aba91e5378c03">locked</a>) : );</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>  <a class="code hl_function" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb">popcli</a>();</div>
<div class="line"><span class="lineno">   68</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_cgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_cgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_cgraph" id="ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_cgraph">
<area shape="rect" title=" " alt="" coords="5,131,69,156"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="117,207,180,232"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="441,105,495,131"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="228,156,284,181"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="332,207,393,232"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="809,308,872,333"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="559,156,618,181"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="559,5,618,31"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="543,55,635,80"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="683,207,747,232"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="795,207,887,232"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_icgraph.png" border="0" usemap="#ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_icgraph" alt=""/></div>
<map name="ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_icgraph" id="ad3/d2d/spinlock_8c_a1cee376aa9a00e754bf5481cd5f3d97b_icgraph">
<area shape="rect" title=" " alt="" coords="1029,994,1093,1020"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="601,1172,696,1197"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a28ac85a90987662e306ca8efbfe16074" title=" " alt="" coords="225,644,317,669"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a6af7eb39268127d389792cec37785666" title=" " alt="" coords="224,466,319,492"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="383,1272,425,1297"/>
<area shape="rect" href="../../dc/d6f/trap_8c.html#a372d166e36c086c91e5f5d81e5fead3a" title=" " alt="" coords="5,690,49,716"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="236,1296,307,1321"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="367,1070,441,1096"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="620,842,677,868"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a2ca17a3161c80e3e4894ec6a96e0a281" title=" " alt="" coords="911,489,957,514"/>
<area shape="rect" href="../../d0/d56/console_8c.html#aad3d6ca39f23bb6d2686d2967e415193" title=" " alt="" coords="749,1602,834,1628"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="905,186,963,212"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a45a59a61c8799cb754b4326a32c14dc4" title=" " alt="" coords="770,237,813,262"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="372,996,436,1021"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ac56b15561658d0e74ce1c53309b8f97d" title=" " alt="" coords="615,288,682,313"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="904,440,964,465"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="769,565,813,590"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a11c5d62d28e8121e75235d361158156e" title=" " alt="" coords="905,893,963,918"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="887,741,981,766"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="765,792,818,817"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a709693afdb9b89d848e684e7acde1f8f" title=" " alt="" coords="763,1905,820,1930"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="911,590,957,616"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="906,1146,962,1172"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="909,692,959,717"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="753,1501,830,1526"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="768,690,815,716"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="915,1349,953,1374"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="611,894,686,920"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#ad4cce6144039b615d139f8660c60293a" title=" " alt="" coords="756,1197,827,1222"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#acfca0fab7d2c0c0dcc56359c8febe14a" title=" " alt="" coords="754,1400,829,1425"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="744,1298,839,1324"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="895,1602,973,1628"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="907,1045,961,1070"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a59778ec9bfa6b6f2100b43fbba000573" title=" " alt="" coords="751,1148,832,1173"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#aaf8553903ba8f2776247679d4db0d121" title=" " alt="" coords="889,1754,979,1780"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="902,1804,966,1829"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="901,1501,967,1526"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a7cb51f5c2b5cad3766f19eb69c92793b" title=" " alt="" coords="497,34,546,60"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="379,794,429,820"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="246,745,297,770"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ab8de757a0a9f58dcc6511ea5e46ebb88" title=" " alt="" coords="238,1144,305,1169"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ad1c5f8693cb35b9605fee09eebdda640" title=" " alt="" coords="232,996,311,1021"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a759600870314007ac558871239122fb7" title=" " alt="" coords="236,946,307,972"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a74e45efc661ca17c068bc283b3842e6d" title=" " alt="" coords="97,845,176,870"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#ae1e58ee11d41f643929520d8c1640da7" title=" " alt="" coords="229,794,313,820"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="115,1245,158,1270"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a057e5bce2de7a87ebfd2dc33967bca4a" title=" " alt="" coords="230,1094,313,1120"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#a25697aa3d828b5878d38170d724adb27" title=" " alt="" coords="227,1045,316,1070"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#af95049367381647bc9487af49724b869" title=" " alt="" coords="495,844,547,869"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="489,945,553,970"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
