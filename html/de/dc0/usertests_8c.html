<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>xv6: usertests.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">xv6
   </div>
   <div id="projectbrief">Doxygen documentation for the xv6-public operating system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">usertests.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d5/d33/param_8h_source.html">param.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d9/d49/types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d2/d1b/stat_8h_source.html">stat.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/ddb/user_8h_source.html">user.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../df/d26/fs_8h_source.html">fs.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d7/d9f/fcntl_8h_source.html">fcntl.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../de/ddf/syscall_8h_source.html">syscall.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d98/traps_8h_source.html">traps.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/da9/memlayout_8h_source.html">memlayout.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for usertests.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dac/usertests_8c__incl.png" border="0" usemap="#ausertests_8c" alt=""/></div>
<map name="ausertests_8c" id="ausertests_8c">
<area shape="rect" title=" " alt="" coords="327,5,414,31"/>
<area shape="rect" href="../../d5/d33/param_8h.html" title=" " alt="" coords="5,79,75,104"/>
<area shape="rect" href="../../d9/d49/types_8h.html" title=" " alt="" coords="99,79,165,104"/>
<area shape="rect" href="../../d2/d1b/stat_8h.html" title=" " alt="" coords="189,79,243,104"/>
<area shape="rect" href="../../d8/ddb/user_8h.html" title=" " alt="" coords="267,79,325,104"/>
<area shape="rect" href="../../df/d26/fs_8h.html" title=" " alt="" coords="349,79,393,104"/>
<area shape="rect" href="../../d7/d9f/fcntl_8h.html" title=" " alt="" coords="417,79,476,104"/>
<area shape="rect" href="../../de/ddf/syscall_8h.html" title=" " alt="" coords="500,79,575,104"/>
<area shape="rect" href="../../d5/d98/traps_8h.html" title=" " alt="" coords="599,79,662,104"/>
<area shape="rect" href="../../d8/da9/memlayout_8h.html" title=" " alt="" coords="686,79,783,104"/>
</map>
</div>
</div>
<p><a href="../../de/dc0/usertests_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a38eb76aa0a9a1bb1dac30c75be4a05b6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a38eb76aa0a9a1bb1dac30c75be4a05b6">BIG</a>&#160;&#160;&#160;(100*1024*1024)</td></tr>
<tr class="separator:a38eb76aa0a9a1bb1dac30c75be4a05b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee8e8390002b24c20c7a1c64bc2c7ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a6ee8e8390002b24c20c7a1c64bc2c7ac">RTC_ADDR</a>&#160;&#160;&#160;0x70</td></tr>
<tr class="separator:a6ee8e8390002b24c20c7a1c64bc2c7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e7096882c10a7c82c33f3589694b6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#aa6e7096882c10a7c82c33f3589694b6e">RTC_DATA</a>&#160;&#160;&#160;0x71</td></tr>
<tr class="separator:aa6e7096882c10a7c82c33f3589694b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac9fe56d8f6e4ed1c9677b06cb7b325e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6">iputtest</a> (void)</td></tr>
<tr class="separator:ac9fe56d8f6e4ed1c9677b06cb7b325e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8faab06cc4d48335076b368f02709ee2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2">exitiputtest</a> (void)</td></tr>
<tr class="separator:a8faab06cc4d48335076b368f02709ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3208ed001a225f5d9ea3fb37f46810c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7">openiputtest</a> (void)</td></tr>
<tr class="separator:a3208ed001a225f5d9ea3fb37f46810c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c61791dd2cfb8ad59b4c6e87685c07"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#ae7c61791dd2cfb8ad59b4c6e87685c07">opentest</a> (void)</td></tr>
<tr class="separator:ae7c61791dd2cfb8ad59b4c6e87685c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a007a46ea6310b39a233e45d439f11a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a3a007a46ea6310b39a233e45d439f11a">writetest</a> (void)</td></tr>
<tr class="separator:a3a007a46ea6310b39a233e45d439f11a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ac3cbd37dcf4c4e08b0572b3a0e9f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a48ac3cbd37dcf4c4e08b0572b3a0e9f3">writetest1</a> (void)</td></tr>
<tr class="separator:a48ac3cbd37dcf4c4e08b0572b3a0e9f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6773439702f38f3835fb6195f77e001c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a6773439702f38f3835fb6195f77e001c">createtest</a> (void)</td></tr>
<tr class="separator:a6773439702f38f3835fb6195f77e001c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8db9f9a2634bab29096bab0b8bc6945c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a8db9f9a2634bab29096bab0b8bc6945c">dirtest</a> (void)</td></tr>
<tr class="separator:a8db9f9a2634bab29096bab0b8bc6945c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f94e3b215d069b5419e87bafe80799a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a">exectest</a> (void)</td></tr>
<tr class="separator:a6f94e3b215d069b5419e87bafe80799a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ae754fb9c5622d44d0c3ce62ad7c49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a16ae754fb9c5622d44d0c3ce62ad7c49">pipe1</a> (void)</td></tr>
<tr class="separator:a16ae754fb9c5622d44d0c3ce62ad7c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a026b8c4ab2cb9af17e1c20d533981604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a026b8c4ab2cb9af17e1c20d533981604">preempt</a> (void)</td></tr>
<tr class="separator:a026b8c4ab2cb9af17e1c20d533981604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a330ed2370fe27045b8bec1eb0bd7818f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f">exitwait</a> (void)</td></tr>
<tr class="separator:a330ed2370fe27045b8bec1eb0bd7818f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1c6e6e76813ccb29a29bb119dba668a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a">mem</a> (void)</td></tr>
<tr class="separator:aa1c6e6e76813ccb29a29bb119dba668a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e1ca3f4db5f4bf8a683a0b7c18cc43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a02e1ca3f4db5f4bf8a683a0b7c18cc43">sharedfd</a> (void)</td></tr>
<tr class="separator:a02e1ca3f4db5f4bf8a683a0b7c18cc43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77a4432bc67dfb513f1c1d698c2c4ea6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6">fourfiles</a> (void)</td></tr>
<tr class="separator:a77a4432bc67dfb513f1c1d698c2c4ea6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425a0efe4f459decf4b5ea14517ab3cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf">createdelete</a> (void)</td></tr>
<tr class="separator:a425a0efe4f459decf4b5ea14517ab3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3331ced6fb67502a2e5277260d4f5aec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a3331ced6fb67502a2e5277260d4f5aec">unlinkread</a> (void)</td></tr>
<tr class="separator:a3331ced6fb67502a2e5277260d4f5aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eeee588d4689a58fc140a7d5d7b0608"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608">linktest</a> (void)</td></tr>
<tr class="separator:a4eeee588d4689a58fc140a7d5d7b0608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a12affe4fdfaa172d85da9a6adf98d2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2">concreate</a> (void)</td></tr>
<tr class="separator:a5a12affe4fdfaa172d85da9a6adf98d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1740f29f4ce6d3060fd79a9312edc315"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315">linkunlink</a> ()</td></tr>
<tr class="separator:a1740f29f4ce6d3060fd79a9312edc315"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0d46fcb43667c805b84ea7e1ff6100a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a">bigdir</a> (void)</td></tr>
<tr class="separator:aa0d46fcb43667c805b84ea7e1ff6100a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d39024e15998d6a6865f4cd0f69738b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a5d39024e15998d6a6865f4cd0f69738b">subdir</a> (void)</td></tr>
<tr class="separator:a5d39024e15998d6a6865f4cd0f69738b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e55b2d0161d62bb99765ca3de43e35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35">bigwrite</a> (void)</td></tr>
<tr class="separator:a57e55b2d0161d62bb99765ca3de43e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86fe524d99d69c18a335512cf3405b31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31">bigfile</a> (void)</td></tr>
<tr class="separator:a86fe524d99d69c18a335512cf3405b31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf4af50e65630225208fef177e267efb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb">fourteen</a> (void)</td></tr>
<tr class="separator:abf4af50e65630225208fef177e267efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b22568d42b584ed4b0dc4e2b0677013"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a6b22568d42b584ed4b0dc4e2b0677013">rmdot</a> (void)</td></tr>
<tr class="separator:a6b22568d42b584ed4b0dc4e2b0677013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedd6d3f148dd5c99b47900215c1ac43f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f">dirfile</a> (void)</td></tr>
<tr class="separator:aedd6d3f148dd5c99b47900215c1ac43f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a267227083b00d0cc3141b34f5152ae04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04">iref</a> (void)</td></tr>
<tr class="separator:a267227083b00d0cc3141b34f5152ae04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ef8ccf57bc8c491407ec513b234f83c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a0ef8ccf57bc8c491407ec513b234f83c">forktest</a> (void)</td></tr>
<tr class="separator:a0ef8ccf57bc8c491407ec513b234f83c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06636ed0cda58c748d68e82d33d1afce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a06636ed0cda58c748d68e82d33d1afce">sbrktest</a> (void)</td></tr>
<tr class="separator:a06636ed0cda58c748d68e82d33d1afce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a426d02dfb5155266933466f604bed0b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a426d02dfb5155266933466f604bed0b2">validateint</a> (int *p)</td></tr>
<tr class="separator:a426d02dfb5155266933466f604bed0b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98d8496ecb698b9400831f2718d805c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3">validatetest</a> (void)</td></tr>
<tr class="separator:a98d8496ecb698b9400831f2718d805c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0ff95e564df3c3e8fc977226b75de7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7">bsstest</a> (void)</td></tr>
<tr class="separator:a0b0ff95e564df3c3e8fc977226b75de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5b5d4517586be6396b4f3b37445945a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a">bigargtest</a> (void)</td></tr>
<tr class="separator:ac5b5d4517586be6396b4f3b37445945a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37568127a326729b0576444a4a4509e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a37568127a326729b0576444a4a4509e1">fsfull</a> ()</td></tr>
<tr class="separator:a37568127a326729b0576444a4a4509e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6888f9f6d973f81f73091d1530ad212b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a6888f9f6d973f81f73091d1530ad212b">uio</a> ()</td></tr>
<tr class="separator:a6888f9f6d973f81f73091d1530ad212b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cc2edce6e78f22dd9eb377462762f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2">argptest</a> ()</td></tr>
<tr class="separator:a77cc2edce6e78f22dd9eb377462762f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866c3f5e3e89035c3ba01b22d786d8bc"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a866c3f5e3e89035c3ba01b22d786d8bc">rand</a> ()</td></tr>
<tr class="separator:a866c3f5e3e89035c3ba01b22d786d8bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *<a class="el" href="../../d8/d60/init_8c.html#abd1a2cf54950f450187ef24c1cdcac0c">argv</a>[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad42dafc8306f25c145c246f973b420cf"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#ad42dafc8306f25c145c246f973b420cf">buf</a> [8192]</td></tr>
<tr class="separator:ad42dafc8306f25c145c246f973b420cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee754febd402311e2a552cb0d6ab6629"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a> [3]</td></tr>
<tr class="separator:aee754febd402311e2a552cb0d6ab6629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75529abacd59858a9ff6165253d14ca"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#ac75529abacd59858a9ff6165253d14ca">echoargv</a> [] = { &quot;echo&quot;, &quot;ALL&quot;, &quot;TESTS&quot;, &quot;PASSED&quot;, 0 }</td></tr>
<tr class="separator:ac75529abacd59858a9ff6165253d14ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9da8a05ab98e52153fe99402f93613"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a> = 1</td></tr>
<tr class="separator:adc9da8a05ab98e52153fe99402f93613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7def0d79bfddb934aaf3fe627c97daf3"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#a7def0d79bfddb934aaf3fe627c97daf3">uninit</a> [10000]</td></tr>
<tr class="separator:a7def0d79bfddb934aaf3fe627c97daf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bd27c045c0317df893912a0142b21a"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/dc0/usertests_8c.html#af0bd27c045c0317df893912a0142b21a">randstate</a> = 1</td></tr>
<tr class="separator:af0bd27c045c0317df893912a0142b21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a38eb76aa0a9a1bb1dac30c75be4a05b6" name="a38eb76aa0a9a1bb1dac30c75be4a05b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38eb76aa0a9a1bb1dac30c75be4a05b6">&#9670;&#160;</a></span>BIG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIG&#160;&#160;&#160;(100*1024*1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6ee8e8390002b24c20c7a1c64bc2c7ac" name="a6ee8e8390002b24c20c7a1c64bc2c7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee8e8390002b24c20c7a1c64bc2c7ac">&#9670;&#160;</a></span>RTC_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTC_ADDR&#160;&#160;&#160;0x70</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6e7096882c10a7c82c33f3589694b6e" name="aa6e7096882c10a7c82c33f3589694b6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e7096882c10a7c82c33f3589694b6e">&#9670;&#160;</a></span>RTC_DATA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RTC_DATA&#160;&#160;&#160;0x71</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a77cc2edce6e78f22dd9eb377462762f2" name="a77cc2edce6e78f22dd9eb377462762f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77cc2edce6e78f22dd9eb377462762f2">&#9670;&#160;</a></span>argptest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void argptest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01727">1727</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1728</span>{</div>
<div class="line"><span class="lineno"> 1729</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno"> 1730</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;init&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><span class="lineno"> 1731</span>  <span class="keywordflow">if</span> (fd &lt; 0) {</div>
<div class="line"><span class="lineno"> 1732</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(2, <span class="stringliteral">&quot;open failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1733</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1734</span>  }</div>
<div class="line"><span class="lineno"> 1735</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0) - 1, -1);</div>
<div class="line"><span class="lineno"> 1736</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1737</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;arg test passed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1738</span>}</div>
<div class="ttc" id="adefs_8h_html_aaf98ef7cdde3a0dfb2e49919de3298b1"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a></div><div class="ttdeci">void exit(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00228">proc.c:228</a></div></div>
<div class="ttc" id="afcntl_8h_html_a7a68c9ffaac7dbcd652225dd7c06a54b"><div class="ttname"><a href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a></div><div class="ttdeci">#define O_RDONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9f/fcntl_8h_source.html#l00001">fcntl.h:1</a></div></div>
<div class="ttc" id="aforktest_8c_html_a249680925885256274fa9f02dd51cec4"><div class="ttname"><a href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a></div><div class="ttdeci">void printf(int fd, const char *s,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de1/forktest_8c_source.html#l00011">forktest.c:11</a></div></div>
<div class="ttc" id="auser_8h_html_a2c4414339f388561554c2deab11a1a07"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a></div><div class="ttdeci">int open(const char *, int)</div></div>
<div class="ttc" id="auser_8h_html_a2d73522d6354b8a141ecfaa9585a0c77"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a></div><div class="ttdeci">int read(int, void *, int)</div></div>
<div class="ttc" id="auser_8h_html_ae152484c890a24e4d9b4980e7b965be0"><div class="ttname"><a href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a></div><div class="ttdeci">int close(int)</div></div>
<div class="ttc" id="auser_8h_html_af9b02dd9eafa02f44aa5e354a5260bc9"><div class="ttname"><a href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a></div><div class="ttdeci">char * sbrk(int)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_cgraph" id="ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_cgraph">
<area shape="rect" title=" " alt="" coords="5,1715,75,1741"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="123,1387,176,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="128,1437,171,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="124,1690,175,1715"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="124,1739,175,1765"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="126,1789,173,1814"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9" title=" " alt="" coords="126,1838,173,1863"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1201,1158,1265,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1684,854,1737,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="658,1259,733,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1071,1867,1136,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="940,1614,997,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="937,322,1001,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="224,587,295,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="343,726,385,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1324,1107,1416,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1339,1639,1401,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1575,1703,1636,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1464,1766,1527,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2037,1627,2093,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1802,1259,1861,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1802,854,1861,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1785,753,1877,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1925,589,1989,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="805,1310,859,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1064,1715,1143,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1205,1513,1262,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1191,1614,1276,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1327,1867,1413,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1070,499,1137,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="930,398,1007,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="648,1361,743,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="433,726,497,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="921,550,1016,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="545,853,600,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="791,751,873,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="803,702,861,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1066,601,1141,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="669,905,722,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="921,1107,1016,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1078,398,1129,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1199,449,1268,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="232,1817,287,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="234,1866,285,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_icgraph" id="ade/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,173,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="ac5b5d4517586be6396b4f3b37445945a" name="ac5b5d4517586be6396b4f3b37445945a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5b5d4517586be6396b4f3b37445945a">&#9670;&#160;</a></span>bigargtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigargtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01613">1613</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1614</span>{</div>
<div class="line"><span class="lineno"> 1615</span>  <span class="keywordtype">int</span> pid, fd;</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigarg-ok&quot;</span>);</div>
<div class="line"><span class="lineno"> 1618</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno"> 1619</span>  <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno"> 1620</span>    <span class="keyword">static</span> <span class="keywordtype">char</span> *args[<a class="code hl_define" href="../../d5/d33/param_8h.html#a4c171d1ccc50f0b6ce7ad2f475eeba32">MAXARG</a>];</div>
<div class="line"><span class="lineno"> 1621</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1622</span>    <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="../../d5/d33/param_8h.html#a4c171d1ccc50f0b6ce7ad2f475eeba32">MAXARG</a>-1; i++)</div>
<div class="line"><span class="lineno"> 1623</span>      args[i] = <span class="stringliteral">&quot;bigargs test: failed\n                                                                                                                                                                                                       &quot;</span>;</div>
<div class="line"><span class="lineno"> 1624</span>    args[<a class="code hl_define" href="../../d5/d33/param_8h.html#a4c171d1ccc50f0b6ce7ad2f475eeba32">MAXARG</a>-1] = 0;</div>
<div class="line"><span class="lineno"> 1625</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bigarg test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1626</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aa7b4aae4a12acd187e23396214aeca47">exec</a>(<span class="stringliteral">&quot;echo&quot;</span>, args);</div>
<div class="line"><span class="lineno"> 1627</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bigarg test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1628</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bigarg-ok&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1629</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1630</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1631</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno"> 1632</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bigargtest: fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1633</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1634</span>  }</div>
<div class="line"><span class="lineno"> 1635</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1636</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bigarg-ok&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1637</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1638</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bigarg test failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1639</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1640</span>  }</div>
<div class="line"><span class="lineno"> 1641</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1642</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigarg-ok&quot;</span>);</div>
<div class="line"><span class="lineno"> 1643</span>}</div>
<div class="ttc" id="adefs_8h_html_aa7b4aae4a12acd187e23396214aeca47"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aa7b4aae4a12acd187e23396214aeca47">exec</a></div><div class="ttdeci">int exec(char *, char **)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/dc9/exec_8c_source.html#l00011">exec.c:11</a></div></div>
<div class="ttc" id="adefs_8h_html_acd2e1ded4bb6fce4500438bf928330f4"><div class="ttname"><a href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a></div><div class="ttdeci">int fork(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00181">proc.c:181</a></div></div>
<div class="ttc" id="adefs_8h_html_af6f31822f7e737b4e414bdac1ccb59a4"><div class="ttname"><a href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a></div><div class="ttdeci">int wait(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00273">proc.c:273</a></div></div>
<div class="ttc" id="afcntl_8h_html_ab40a23079c3b9a7e25ffdc8108c7fb02"><div class="ttname"><a href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a></div><div class="ttdeci">#define O_CREATE</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9f/fcntl_8h_source.html#l00004">fcntl.h:4</a></div></div>
<div class="ttc" id="aparam_8h_html_a4c171d1ccc50f0b6ce7ad2f475eeba32"><div class="ttname"><a href="../../d5/d33/param_8h.html#a4c171d1ccc50f0b6ce7ad2f475eeba32">MAXARG</a></div><div class="ttdeci">#define MAXARG</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d33/param_8h_source.html#l00009">param.h:9</a></div></div>
<div class="ttc" id="auser_8h_html_a4ade26dbdb332f64c44daf49ba949ff4"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a></div><div class="ttdeci">int unlink(const char *)</div></div>
<div class="ttc" id="ausertests_8c_html_adc9da8a05ab98e52153fe99402f93613"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a></div><div class="ttdeci">int stdout</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00014">usertests.c:14</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_cgraph" id="ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_cgraph">
<area shape="rect" title=" " alt="" coords="5,1641,84,1666"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="133,907,187,933"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="135,1161,185,1186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="475,2019,517,2045"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="474,958,518,983"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="471,1413,521,1438"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="716,1425,763,1450"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="135,2222,185,2247"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="132,2271,188,2297"/>
<area shape="rect" href="../../de/de9/vm_8c.html#afea0f0a82a9f9c7aae26f90b5e0836c6" title=" " alt="" coords="236,550,311,575"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1109,703,1168,729"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="837,1969,911,1994"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1230,2045,1295,2070"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="981,1563,1045,1589"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="843,297,905,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="700,246,779,271"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="569,1059,652,1085"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="583,1462,638,1487"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a795e27a0cb916cfb41411ebbb9669ddf" title=" " alt="" coords="1353,18,1428,43"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a532bc3f3e39942c20a471a11cff1a582" title=" " alt="" coords="239,1185,307,1210"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="715,1210,764,1235"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="570,1109,651,1134"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="575,2323,646,2349"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="714,1259,765,1285"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a35c52ecf358097c17dcbbd5594acb41a" title=" " alt="" coords="245,1135,302,1161"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1220,297,1305,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="969,246,1057,271"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1113,525,1164,550"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1228,145,1297,170"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="846,702,902,727"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="365,1110,416,1135"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1231,1462,1295,1487"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1476,830,1529,855"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1231,1033,1295,1058"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1360,1462,1421,1487"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1110,2222,1167,2247"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="575,1867,646,1893"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="718,1665,761,1690"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="987,1867,1040,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1105,1361,1172,1386"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="827,1715,921,1741"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="573,499,648,525"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1109,855,1169,881"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1115,1007,1162,1033"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="833,1057,915,1082"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="585,1413,636,1438"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a3436a3bf222c074c4ed4d985f0c1ecef" title=" " alt="" coords="359,1159,423,1185"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="847,1209,901,1234"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="1110,1311,1167,1337"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="1359,666,1422,691"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_icgraph" id="ade/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,183,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="aa0d46fcb43667c805b84ea7e1ff6100a" name="aa0d46fcb43667c805b84ea7e1ff6100a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0d46fcb43667c805b84ea7e1ff6100a">&#9670;&#160;</a></span>bigdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigdir </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00893">893</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  894</span>{</div>
<div class="line"><span class="lineno">  895</span>  <span class="keywordtype">int</span> i, fd;</div>
<div class="line"><span class="lineno">  896</span>  <span class="keywordtype">char</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[10];</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigdir test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  899</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bd&quot;</span>);</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bd&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno">  902</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  903</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigdir create failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  904</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  905</span>  }</div>
<div class="line"><span class="lineno">  906</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 500; i++){</div>
<div class="line"><span class="lineno">  909</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;x&#39;</span>;</div>
<div class="line"><span class="lineno">  910</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + (i / 64);</div>
<div class="line"><span class="lineno">  911</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;0&#39;</span> + (i % 64);</div>
<div class="line"><span class="lineno">  912</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[3] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;bd&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>) != 0){</div>
<div class="line"><span class="lineno">  914</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigdir link failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  915</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  916</span>    }</div>
<div class="line"><span class="lineno">  917</span>  }</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bd&quot;</span>);</div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 500; i++){</div>
<div class="line"><span class="lineno">  921</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;x&#39;</span>;</div>
<div class="line"><span class="lineno">  922</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + (i / 64);</div>
<div class="line"><span class="lineno">  923</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;0&#39;</span> + (i % 64);</div>
<div class="line"><span class="lineno">  924</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[3] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>) != 0){</div>
<div class="line"><span class="lineno">  926</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigdir unlink failed&quot;</span>);</div>
<div class="line"><span class="lineno">  927</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  928</span>    }</div>
<div class="line"><span class="lineno">  929</span>  }</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigdir ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  932</span>}</div>
<div class="ttc" id="auser_8h_html_a9f0ffa429d1a466322fb9b5bb084f828"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a></div><div class="ttdeci">int link(const char *, const char *)</div></div>
<div class="ttc" id="ausertests_8c_html_aee754febd402311e2a552cb0d6ab6629"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a></div><div class="ttdeci">char name[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00012">usertests.c:12</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_cgraph" id="ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_cgraph">
<area shape="rect" title=" " alt="" coords="5,1563,59,1589"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="108,1387,161,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="113,1437,156,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="113,1538,156,1563"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="109,1587,160,1613"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="109,1790,160,1815"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="107,1839,163,1865"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1188,1158,1252,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1671,854,1724,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="645,1259,719,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1057,1867,1123,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="927,1614,984,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="923,322,987,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="211,587,281,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="329,727,372,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1311,1107,1403,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1325,1639,1388,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1561,1703,1623,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1451,1766,1513,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2024,1627,2080,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1789,1259,1847,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1789,854,1847,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1772,753,1864,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1912,601,1976,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="792,1310,845,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1051,1715,1129,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1191,1513,1249,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1177,1614,1263,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1314,1867,1399,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1057,499,1123,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="917,398,994,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="635,1361,729,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="420,727,484,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="908,550,1003,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="532,854,587,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="777,751,860,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="790,702,847,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1053,601,1127,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="655,905,709,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="908,1107,1003,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1065,398,1115,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1185,449,1255,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="219,1817,273,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="221,1866,271,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_icgraph" id="ade/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,157,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a86fe524d99d69c18a335512cf3405b31" name="a86fe524d99d69c18a335512cf3405b31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86fe524d99d69c18a335512cf3405b31">&#9670;&#160;</a></span>bigfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigfile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01148">1148</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1149</span>{</div>
<div class="line"><span class="lineno"> 1150</span>  <span class="keywordtype">int</span> fd, i, total, cc;</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigfile test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigfile&quot;</span>);</div>
<div class="line"><span class="lineno"> 1155</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bigfile&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno"> 1156</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1157</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;cannot create bigfile&quot;</span>);</div>
<div class="line"><span class="lineno"> 1158</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1159</span>  }</div>
<div class="line"><span class="lineno"> 1160</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 20; i++){</div>
<div class="line"><span class="lineno"> 1161</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#a0098886a849eef10803e9f35ceec61b9">memset</a>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, i, 600);</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 600) != 600){</div>
<div class="line"><span class="lineno"> 1163</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;write bigfile failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1164</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1165</span>    }</div>
<div class="line"><span class="lineno"> 1166</span>  }</div>
<div class="line"><span class="lineno"> 1167</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bigfile&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1170</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1171</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;cannot open bigfile\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1172</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1173</span>  }</div>
<div class="line"><span class="lineno"> 1174</span>  total = 0;</div>
<div class="line"><span class="lineno"> 1175</span>  <span class="keywordflow">for</span>(i = 0; ; i++){</div>
<div class="line"><span class="lineno"> 1176</span>    cc = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 300);</div>
<div class="line"><span class="lineno"> 1177</span>    <span class="keywordflow">if</span>(cc &lt; 0){</div>
<div class="line"><span class="lineno"> 1178</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;read bigfile failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1179</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1180</span>    }</div>
<div class="line"><span class="lineno"> 1181</span>    <span class="keywordflow">if</span>(cc == 0)</div>
<div class="line"><span class="lineno"> 1182</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keywordflow">if</span>(cc != 300){</div>
<div class="line"><span class="lineno"> 1184</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;short read bigfile\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1185</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1186</span>    }</div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[0] != i/2 || <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[299] != i/2){</div>
<div class="line"><span class="lineno"> 1188</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;read bigfile wrong data\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1189</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1190</span>    }</div>
<div class="line"><span class="lineno"> 1191</span>    total += cc;</div>
<div class="line"><span class="lineno"> 1192</span>  }</div>
<div class="line"><span class="lineno"> 1193</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1194</span>  <span class="keywordflow">if</span>(total != 20*600){</div>
<div class="line"><span class="lineno"> 1195</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;read bigfile wrong total\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1196</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1197</span>  }</div>
<div class="line"><span class="lineno"> 1198</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigfile&quot;</span>);</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigfile test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1201</span>}</div>
<div class="ttc" id="adefs_8h_html_a0098886a849eef10803e9f35ceec61b9"><div class="ttname"><a href="../../d5/d64/defs_8h.html#a0098886a849eef10803e9f35ceec61b9">memset</a></div><div class="ttdeci">void * memset(void *, int, uint)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/string_8c_source.html#l00005">string.c:5</a></div></div>
<div class="ttc" id="afcntl_8h_html_abb0586253488ee61072b73557eeb873b"><div class="ttname"><a href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a></div><div class="ttdeci">#define O_RDWR</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9f/fcntl_8h_source.html#l00003">fcntl.h:3</a></div></div>
<div class="ttc" id="astructbuf_html"><div class="ttname"><a href="../../d9/dd0/structbuf.html">buf</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d6d/buf_8h_source.html#l00001">buf.h:1</a></div></div>
<div class="ttc" id="auser_8h_html_ae57e95d717eb7386cd8b935a0c136abe"><div class="ttname"><a href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a></div><div class="ttdeci">int write(int, const void *, int)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_cgraph" id="ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_cgraph">
<area shape="rect" title=" " alt="" coords="5,1678,61,1704"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="111,45,164,70"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="116,1312,159,1337"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1188,197,1257,222"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="112,1653,163,1678"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="112,1702,163,1728"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="223,2045,274,2070"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="114,1804,161,1829"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="109,1853,165,1878"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1191,932,1255,957"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1673,932,1727,957"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="647,1464,722,1489"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1060,1717,1125,1742"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="929,1565,987,1590"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="926,348,990,373"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="213,526,284,552"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="332,1261,375,1286"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1313,856,1405,881"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1328,1362,1391,1388"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1564,1337,1625,1362"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1453,1312,1516,1337"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2027,1692,2083,1717"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1791,1209,1850,1234"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1791,932,1850,957"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1775,981,1867,1006"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1915,1032,1979,1057"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="795,1489,848,1514"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1053,1616,1132,1641"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1194,1666,1251,1692"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1180,1565,1265,1590"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1317,1210,1402,1236"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1059,349,1126,374"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="919,298,997,324"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="637,1513,732,1538"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="423,1109,487,1134"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="911,450,1005,476"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="535,1058,589,1084"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="780,1109,863,1134"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="793,704,850,729"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1055,1261,1130,1286"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="658,1058,711,1084"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="911,1058,1005,1084"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1067,197,1118,222"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="221,1996,276,2021"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_icgraph" id="ade/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,160,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a57e55b2d0161d62bb99765ca3de43e35" name="a57e55b2d0161d62bb99765ca3de43e35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57e55b2d0161d62bb99765ca3de43e35">&#9670;&#160;</a></span>bigwrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bigwrite </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01119">1119</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1120</span>{</div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keywordtype">int</span> fd, sz;</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigwrite test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigwrite&quot;</span>);</div>
<div class="line"><span class="lineno"> 1126</span>  <span class="keywordflow">for</span>(sz = 499; sz &lt; 12*512; sz += 471){</div>
<div class="line"><span class="lineno"> 1127</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;bigwrite&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1129</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;cannot create bigwrite\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1130</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1131</span>    }</div>
<div class="line"><span class="lineno"> 1132</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">for</span>(i = 0; i &lt; 2; i++){</div>
<div class="line"><span class="lineno"> 1134</span>      <span class="keywordtype">int</span> cc = <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, sz);</div>
<div class="line"><span class="lineno"> 1135</span>      <span class="keywordflow">if</span>(cc != sz){</div>
<div class="line"><span class="lineno"> 1136</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;write(%d) ret %d\n&quot;</span>, sz, cc);</div>
<div class="line"><span class="lineno"> 1137</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1138</span>      }</div>
<div class="line"><span class="lineno"> 1139</span>    }</div>
<div class="line"><span class="lineno"> 1140</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1141</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;bigwrite&quot;</span>);</div>
<div class="line"><span class="lineno"> 1142</span>  }</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;bigwrite ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1145</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_cgraph" id="ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_cgraph">
<area shape="rect" title=" " alt="" coords="5,1791,72,1817"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="121,1387,175,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="127,1437,169,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="123,1766,173,1791"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="123,1815,173,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="234,1866,285,1891"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="120,1917,176,1942"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1201,1158,1265,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1684,854,1737,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="658,1259,733,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1071,1867,1136,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="940,1614,997,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="937,322,1001,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="224,587,295,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="343,726,385,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1324,1107,1416,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1339,1639,1401,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1575,1703,1636,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1464,1766,1527,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2037,1627,2093,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1802,1259,1861,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1802,854,1861,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1785,753,1877,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1925,589,1989,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="805,1310,859,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1064,1715,1143,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1205,1513,1262,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1191,1614,1276,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1327,1867,1413,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1070,499,1137,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="930,398,1007,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="648,1361,743,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="433,726,497,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="921,550,1016,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="545,853,600,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="791,751,873,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="803,702,861,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1066,601,1141,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="669,905,722,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="921,1107,1016,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1078,398,1129,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1199,449,1268,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="232,1817,287,1842"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_icgraph" id="ade/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,171,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a0b0ff95e564df3c3e8fc977226b75de7" name="a0b0ff95e564df3c3e8fc977226b75de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0ff95e564df3c3e8fc977226b75de7">&#9670;&#160;</a></span>bsstest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bsstest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01595">1595</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1596</span>{</div>
<div class="line"><span class="lineno"> 1597</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1598</span> </div>
<div class="line"><span class="lineno"> 1599</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bss test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1600</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#a7def0d79bfddb934aaf3fe627c97daf3">uninit</a>); i++){</div>
<div class="line"><span class="lineno"> 1601</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#a7def0d79bfddb934aaf3fe627c97daf3">uninit</a>[i] != <span class="charliteral">&#39;\0&#39;</span>){</div>
<div class="line"><span class="lineno"> 1602</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bss test failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1603</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1604</span>    }</div>
<div class="line"><span class="lineno"> 1605</span>  }</div>
<div class="line"><span class="lineno"> 1606</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;bss test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1607</span>}</div>
<div class="ttc" id="ausertests_8c_html_a7def0d79bfddb934aaf3fe627c97daf3"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a7def0d79bfddb934aaf3fe627c97daf3">uninit</a></div><div class="ttdeci">char uninit[10000]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01593">usertests.c:1593</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_cgraph" id="ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_cgraph">
<area shape="rect" title=" " alt="" coords="5,1563,71,1589"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="123,1310,165,1335"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="119,1817,169,1842"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1195,1158,1259,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1677,854,1731,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="651,1259,726,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1064,1867,1129,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="933,1614,991,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="930,323,994,349"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="217,574,288,599"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="336,726,379,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1317,1107,1409,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1332,1639,1395,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1568,1703,1629,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1457,1766,1520,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2031,1665,2087,1690"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1795,1259,1854,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1795,854,1854,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1779,753,1871,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1919,601,1983,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="799,1310,852,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1057,1715,1136,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1198,1513,1255,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1184,1614,1269,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1321,1867,1406,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1063,499,1130,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="923,398,1001,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="641,1361,736,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="427,726,491,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="915,550,1009,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="539,853,593,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="784,751,867,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="797,702,854,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1059,601,1134,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="662,905,715,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="915,1107,1009,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1071,398,1122,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1192,449,1261,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="225,1817,280,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="227,1866,278,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_icgraph" id="ade/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,169,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a5a12affe4fdfaa172d85da9a6adf98d2" name="a5a12affe4fdfaa172d85da9a6adf98d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a12affe4fdfaa172d85da9a6adf98d2">&#9670;&#160;</a></span>concreate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void concreate </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00765">765</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  766</span>{</div>
<div class="line"><span class="lineno">  767</span>  <span class="keywordtype">char</span> <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>[3];</div>
<div class="line"><span class="lineno">  768</span>  <span class="keywordtype">int</span> i, pid, n, fd;</div>
<div class="line"><span class="lineno">  769</span>  <span class="keywordtype">char</span> fa[40];</div>
<div class="line"><span class="lineno">  770</span>  <span class="keyword">struct </span>{</div>
<div class="line"><span class="lineno">  771</span>    <a class="code hl_typedef" href="../../d9/d49/types_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> inum;</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[14];</div>
<div class="line"><span class="lineno">  773</span>  } de;</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  776</span>  <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>[0] = <span class="charliteral">&#39;C&#39;</span>;</div>
<div class="line"><span class="lineno">  777</span>  <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  778</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 40; i++){</div>
<div class="line"><span class="lineno">  779</span>    <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  780</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  781</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">if</span>(pid &amp;&amp; (i % 3) == 1){</div>
<div class="line"><span class="lineno">  783</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;C0&quot;</span>, <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  784</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pid == 0 &amp;&amp; (i % 5) == 1){</div>
<div class="line"><span class="lineno">  785</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;C0&quot;</span>, <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  786</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  787</span>      fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  788</span>      <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  789</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate create %s failed\n&quot;</span>, <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  790</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  791</span>      }</div>
<div class="line"><span class="lineno">  792</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  793</span>    }</div>
<div class="line"><span class="lineno">  794</span>    <span class="keywordflow">if</span>(pid == 0)</div>
<div class="line"><span class="lineno">  795</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  797</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  798</span>  }</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a0098886a849eef10803e9f35ceec61b9">memset</a>(fa, 0, <span class="keyword">sizeof</span>(fa));</div>
<div class="line"><span class="lineno">  801</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;.&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  802</span>  n = 0;</div>
<div class="line"><span class="lineno">  803</span>  <span class="keywordflow">while</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, &amp;de, <span class="keyword">sizeof</span>(de)) &gt; 0){</div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordflow">if</span>(de.inum == 0)</div>
<div class="line"><span class="lineno">  805</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordflow">if</span>(de.name[0] == <span class="charliteral">&#39;C&#39;</span> &amp;&amp; de.name[2] == <span class="charliteral">&#39;\0&#39;</span>){</div>
<div class="line"><span class="lineno">  807</span>      i = de.name[1] - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">  808</span>      <span class="keywordflow">if</span>(i &lt; 0 || i &gt;= <span class="keyword">sizeof</span>(fa)){</div>
<div class="line"><span class="lineno">  809</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate weird file %s\n&quot;</span>, de.name);</div>
<div class="line"><span class="lineno">  810</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  811</span>      }</div>
<div class="line"><span class="lineno">  812</span>      <span class="keywordflow">if</span>(fa[i]){</div>
<div class="line"><span class="lineno">  813</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate duplicate file %s\n&quot;</span>, de.name);</div>
<div class="line"><span class="lineno">  814</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  815</span>      }</div>
<div class="line"><span class="lineno">  816</span>      fa[i] = 1;</div>
<div class="line"><span class="lineno">  817</span>      n++;</div>
<div class="line"><span class="lineno">  818</span>    }</div>
<div class="line"><span class="lineno">  819</span>  }</div>
<div class="line"><span class="lineno">  820</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>  <span class="keywordflow">if</span>(n != 40){</div>
<div class="line"><span class="lineno">  823</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate not enough files in directory listing\n&quot;</span>);</div>
<div class="line"><span class="lineno">  824</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  825</span>  }</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 40; i++){</div>
<div class="line"><span class="lineno">  828</span>    <a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  829</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  830</span>    <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">  831</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  832</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  833</span>    }</div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordflow">if</span>(((i % 3) == 0 &amp;&amp; pid == 0) ||</div>
<div class="line"><span class="lineno">  835</span>       ((i % 3) == 1 &amp;&amp; pid != 0)){</div>
<div class="line"><span class="lineno">  836</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>, 0));</div>
<div class="line"><span class="lineno">  837</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>, 0));</div>
<div class="line"><span class="lineno">  838</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>, 0));</div>
<div class="line"><span class="lineno">  839</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>, 0));</div>
<div class="line"><span class="lineno">  840</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  841</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  842</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  843</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  844</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_struct" href="../../d7/d3a/structfile.html">file</a>);</div>
<div class="line"><span class="lineno">  845</span>    }</div>
<div class="line"><span class="lineno">  846</span>    <span class="keywordflow">if</span>(pid == 0)</div>
<div class="line"><span class="lineno">  847</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  848</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  849</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  850</span>  }</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;concreate ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  853</span>}</div>
<div class="ttc" id="astructfile_html"><div class="ttname"><a href="../../d7/d3a/structfile.html">file</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/file_8h_source.html#l00001">file.h:1</a></div></div>
<div class="ttc" id="atypes_8h_html_ab95f123a6c9bcfee6a343170ef8c5f69"><div class="ttname"><a href="../../d9/d49/types_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a></div><div class="ttdeci">unsigned short ushort</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00002">types.h:2</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_cgraph" id="ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_cgraph">
<area shape="rect" title=" " alt="" coords="5,1639,84,1665"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="133,94,187,119"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="469,1107,512,1133"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1316,2222,1385,2247"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="138,1614,182,1639"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="465,170,516,195"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="797,1538,844,1563"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="139,1715,181,1741"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="135,1765,185,1790"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="137,1814,183,1839"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="132,1863,188,1889"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1319,1057,1383,1082"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1793,1557,1847,1582"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="783,803,858,829"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1196,297,1261,322"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1065,601,1123,626"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1062,1310,1126,1335"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="564,1133,635,1158"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="683,905,725,930"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1433,1057,1525,1082"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1448,702,1511,727"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1684,753,1745,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1573,803,1636,829"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2147,94,2203,119"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1911,1374,1970,1399"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1911,1450,1970,1475"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1895,1506,1987,1531"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2035,1082,2099,1107"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="931,753,984,778"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1189,499,1268,525"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1322,499,1379,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1195,955,1262,981"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1055,1158,1133,1183"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="773,651,868,677"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="789,955,853,981"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1047,854,1141,879"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="930,955,985,981"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="916,1005,999,1030"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1203,1867,1254,1893"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="240,1929,315,1954"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1199,1766,1259,1791"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1205,1665,1252,1690"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="236,1614,319,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="926,1893,989,1918"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="929,2019,985,2045"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="367,1462,417,1487"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="781,2019,860,2045"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1050,1766,1138,1791"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="572,145,627,170"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="574,194,625,219"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_icgraph" id="ade/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,183,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a425a0efe4f459decf4b5ea14517ab3cf" name="a425a0efe4f459decf4b5ea14517ab3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425a0efe4f459decf4b5ea14517ab3cf">&#9670;&#160;</a></span>createdelete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createdelete </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00584">584</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  585</span>{</div>
<div class="line"><span class="lineno">  586</span>  <span class="keyword">enum</span> { <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a> = 20 };</div>
<div class="line"><span class="lineno">  587</span>  <span class="keywordtype">int</span> pid, i, fd, pi;</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordtype">char</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[32];</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;createdelete test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>  <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  593</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">  595</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  596</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  597</span>    }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno">  600</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;p&#39;</span> + pi;</div>
<div class="line"><span class="lineno">  601</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  602</span>      <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i++){</div>
<div class="line"><span class="lineno">  603</span>        <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  604</span>        fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  606</span>          <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  607</span>          <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  608</span>        }</div>
<div class="line"><span class="lineno">  609</span>        <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">if</span>(i &gt; 0 &amp;&amp; (i % 2 ) == 0){</div>
<div class="line"><span class="lineno">  611</span>          <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + (i / 2);</div>
<div class="line"><span class="lineno">  612</span>          <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>) &lt; 0){</div>
<div class="line"><span class="lineno">  613</span>            <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  614</span>            <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  615</span>          }</div>
<div class="line"><span class="lineno">  616</span>        }</div>
<div class="line"><span class="lineno">  617</span>      }</div>
<div class="line"><span class="lineno">  618</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span>  }</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>  <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  623</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  624</span>  }</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = 0;</div>
<div class="line"><span class="lineno">  627</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i++){</div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  629</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;p&#39;</span> + pi;</div>
<div class="line"><span class="lineno">  630</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  631</span>      fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, 0);</div>
<div class="line"><span class="lineno">  632</span>      <span class="keywordflow">if</span>((i == 0 || i &gt;= <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>/2) &amp;&amp; fd &lt; 0){</div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;oops createdelete %s didn&#39;t exist\n&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno">  634</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  635</span>      } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((i &gt;= 1 &amp;&amp; i &lt; <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>/2) &amp;&amp; fd &gt;= 0){</div>
<div class="line"><span class="lineno">  636</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;oops createdelete %s did exist\n&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno">  637</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  638</span>      }</div>
<div class="line"><span class="lineno">  639</span>      <span class="keywordflow">if</span>(fd &gt;= 0)</div>
<div class="line"><span class="lineno">  640</span>        <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  641</span>    }</div>
<div class="line"><span class="lineno">  642</span>  }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a>; i++){</div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  646</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;p&#39;</span> + i;</div>
<div class="line"><span class="lineno">  647</span>      <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  648</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno">  649</span>    }</div>
<div class="line"><span class="lineno">  650</span>  }</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;createdelete ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  653</span>}</div>
<div class="ttc" id="aforktest_8c_html_a0240ac851181b84ac374872dc5434ee4"><div class="ttname"><a href="../../d5/de1/forktest_8c.html#a0240ac851181b84ac374872dc5434ee4">N</a></div><div class="ttdeci">#define N</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/de1/forktest_8c_source.html#l00008">forktest.c:8</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_cgraph" id="ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,1576,99,1601"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="148,5,201,31"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="484,1272,527,1297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="153,892,197,917"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="480,2285,531,2311"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="812,733,859,759"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="149,2336,200,2361"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="147,2385,203,2411"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1333,1525,1397,1551"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1808,981,1861,1007"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="798,1323,873,1348"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1211,917,1276,943"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1080,1221,1137,1247"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1077,2208,1141,2233"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="579,1387,649,1412"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="697,1677,740,1703"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1448,1677,1540,1703"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1463,1399,1525,1424"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1699,1272,1760,1297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1588,1272,1651,1297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2161,1387,2217,1412"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1926,1308,1985,1333"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1926,1244,1985,1269"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1909,981,2001,1007"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2049,1804,2113,1829"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="945,1272,999,1297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1204,1171,1283,1196"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1337,1171,1394,1196"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1210,2133,1277,2159"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1070,2032,1147,2057"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="788,1475,883,1500"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="803,1779,867,1804"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1061,2133,1156,2159"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="945,1829,999,1855"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="943,1931,1001,1956"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1206,1880,1281,1905"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="931,1728,1013,1753"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1218,360,1269,385"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1331,259,1400,284"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="255,639,329,664"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1213,715,1273,740"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1220,2387,1267,2412"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="251,917,333,943"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="941,461,1003,487"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1081,613,1137,639"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="381,968,432,993"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="796,512,875,537"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1065,461,1153,487"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="587,2335,641,2360"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="589,2285,639,2311"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_icgraph" id="ade/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,197,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a6773439702f38f3835fb6195f77e001c" name="a6773439702f38f3835fb6195f77e001c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6773439702f38f3835fb6195f77e001c">&#9670;&#160;</a></span>createtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void createtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00245">245</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  246</span>{</div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordtype">int</span> i, fd;</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;many creates, followed by unlink test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line"><span class="lineno">  252</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  253</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 52; i++){</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  255</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  256</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  257</span>  }</div>
<div class="line"><span class="lineno">  258</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;a&#39;</span>;</div>
<div class="line"><span class="lineno">  259</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  260</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 52; i++){</div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + i;</div>
<div class="line"><span class="lineno">  262</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno">  263</span>  }</div>
<div class="line"><span class="lineno">  264</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;many creates, followed by unlink; ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  265</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_cgraph" id="ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_cgraph">
<area shape="rect" title=" " alt="" coords="5,80,85,105"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="135,5,188,31"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="136,55,187,80"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="136,104,187,129"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="133,153,189,179"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="237,80,292,105"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="239,129,290,155"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_icgraph" id="ade/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,184,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="aedd6d3f148dd5c99b47900215c1ac43f" name="aedd6d3f148dd5c99b47900215c1ac43f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedd6d3f148dd5c99b47900215c1ac43f">&#9670;&#160;</a></span>dirfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dirfile </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01284">1284</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1285</span>{</div>
<div class="line"><span class="lineno"> 1286</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno"> 1287</span> </div>
<div class="line"><span class="lineno"> 1288</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;dir vs file\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dirfile&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1291</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1292</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dirfile failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1293</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1294</span>  }</div>
<div class="line"><span class="lineno"> 1295</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1296</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dirfile&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1297</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dirfile succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1298</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1299</span>  }</div>
<div class="line"><span class="lineno"> 1300</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dirfile/xx&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1301</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno"> 1302</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dirfile/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1303</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1304</span>  }</div>
<div class="line"><span class="lineno"> 1305</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dirfile/xx&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1306</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno"> 1307</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dirfile/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1308</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1309</span>  }</div>
<div class="line"><span class="lineno"> 1310</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dirfile/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1311</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir dirfile/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1312</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1313</span>  }</div>
<div class="line"><span class="lineno"> 1314</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dirfile/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1315</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dirfile/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1316</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1317</span>  }</div>
<div class="line"><span class="lineno"> 1318</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;README&quot;</span>, <span class="stringliteral">&quot;dirfile/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1319</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link to dirfile/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1320</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1321</span>  }</div>
<div class="line"><span class="lineno"> 1322</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dirfile&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1323</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dirfile failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1324</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1325</span>  }</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;.&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno"> 1328</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno"> 1329</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open . for writing succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1330</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1331</span>  }</div>
<div class="line"><span class="lineno"> 1332</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;.&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1333</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;x&quot;</span>, 1) &gt; 0){</div>
<div class="line"><span class="lineno"> 1334</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;write . succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1335</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1336</span>  }</div>
<div class="line"><span class="lineno"> 1337</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;dir vs file OK\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1340</span>}</div>
<div class="ttc" id="auser_8h_html_a034fad25eff1c559bf33767e574d1d62"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a></div><div class="ttdeci">int mkdir(const char *)</div></div>
<div class="ttc" id="auser_8h_html_aebe305544f2eb0cf2c4a4f8b4c12bc0f"><div class="ttname"><a href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a></div><div class="ttdeci">int chdir(const char *)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_cgraph" id="ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_cgraph">
<area shape="rect" title=" " alt="" coords="5,1662,59,1687"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="109,1465,160,1490"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="108,1514,161,1539"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="113,1563,156,1589"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="113,1613,156,1638"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="107,1662,162,1687"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="109,1711,160,1737"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="109,1762,160,1787"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="221,1813,271,1838"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="107,1863,163,1889"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1188,1158,1252,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1671,854,1724,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="645,1259,719,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1057,1867,1123,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="927,1614,984,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="923,322,987,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="211,587,281,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="329,726,372,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1311,1107,1403,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1325,1639,1388,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1561,1703,1623,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1451,1766,1513,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2024,1627,2080,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1789,1259,1847,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1789,854,1847,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1772,753,1864,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1912,601,1976,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="792,1310,845,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1051,1715,1129,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1191,1513,1249,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1177,1614,1263,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1314,1867,1399,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1057,499,1123,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="917,398,994,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="635,1361,729,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="420,726,484,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="908,550,1003,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="532,853,587,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="777,751,860,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="790,702,847,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1053,601,1127,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="655,905,709,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="908,1107,1003,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1065,398,1115,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1185,449,1255,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="219,1763,273,1789"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_icgraph" id="ade/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,157,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a8db9f9a2634bab29096bab0b8bc6945c" name="a8db9f9a2634bab29096bab0b8bc6945c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8db9f9a2634bab29096bab0b8bc6945c">&#9670;&#160;</a></span>dirtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dirtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00267">267</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dir0&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  272</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  273</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  274</span>  }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dir0&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  277</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;chdir dir0 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  278</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  279</span>  }</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;..&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;chdir .. failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  284</span>  }</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dir0&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  287</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink dir0 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  288</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  289</span>  }</div>
<div class="line"><span class="lineno">  290</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  291</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c_cgraph" id="ade/dc0/usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c_cgraph">
<area shape="rect" title=" " alt="" coords="5,1651,64,1677"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="115,1387,165,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="119,1437,161,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="113,1651,167,1677"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="115,1778,165,1803"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="112,1827,168,1853"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1193,1158,1257,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1676,854,1729,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="650,1259,725,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1063,1867,1128,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="932,1614,989,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="929,322,993,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="216,587,287,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="335,727,377,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1316,1107,1408,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1331,1639,1393,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1567,1703,1628,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1456,1766,1519,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2029,1627,2085,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1794,1259,1853,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1794,854,1853,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1777,753,1869,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1917,589,1981,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="797,1310,851,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1056,1715,1135,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1197,1513,1254,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1183,1614,1268,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1319,1867,1405,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1062,499,1129,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="922,398,999,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="640,1361,735,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="425,727,489,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="913,550,1008,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="537,854,592,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="783,751,865,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="795,702,853,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1058,601,1133,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="661,905,714,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="913,1107,1008,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1070,398,1121,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1191,449,1260,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="224,1817,279,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="226,1866,277,1891"/>
</map>
</div>

</div>
</div>
<a id="a6f94e3b215d069b5419e87bafe80799a" name="a6f94e3b215d069b5419e87bafe80799a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f94e3b215d069b5419e87bafe80799a">&#9670;&#160;</a></span>exectest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exectest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00294">294</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  295</span>{</div>
<div class="line"><span class="lineno">  296</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;exec test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  297</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#aa7b4aae4a12acd187e23396214aeca47">exec</a>(<span class="stringliteral">&quot;echo&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#ac75529abacd59858a9ff6165253d14ca">echoargv</a>) &lt; 0){</div>
<div class="line"><span class="lineno">  298</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;exec echo failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  299</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  300</span>  }</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="ausertests_8c_html_ac75529abacd59858a9ff6165253d14ca"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#ac75529abacd59858a9ff6165253d14ca">echoargv</a></div><div class="ttdeci">char * echoargv[]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00013">usertests.c:13</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_cgraph" id="ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_cgraph">
<area shape="rect" title=" " alt="" coords="5,1259,77,1285"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="125,1589,176,1614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="471,1183,513,1209"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="467,1259,517,1285"/>
<area shape="rect" href="../../de/de9/vm_8c.html#afea0f0a82a9f9c7aae26f90b5e0836c6" title=" " alt="" coords="228,449,303,474"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1221,1563,1280,1589"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="695,1234,769,1259"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1463,1337,1528,1362"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1090,702,1154,727"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="579,1309,633,1334"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a795e27a0cb916cfb41411ebbb9669ddf" title=" " alt="" coords="1700,2081,1775,2106"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a532bc3f3e39942c20a471a11cff1a582" title=" " alt="" coords="231,1665,299,1690"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="954,145,1017,170"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#aed28187406d84a3aa71f10c6235a03ec" title=" " alt="" coords="832,1815,881,1841"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a207b3008bae35596c55ec7c4fc6875eb" title=" " alt="" coords="565,1411,647,1437"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a201acc8337a2893268b61ea5a1ee0d53" title=" " alt="" coords="697,2018,767,2043"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a3aba1fa9f6789d09356aec5b96d91fa8" title=" " alt="" coords="831,1766,882,1791"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a35c52ecf358097c17dcbbd5594acb41a" title=" " alt="" coords="237,1943,294,1969"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="224,1993,307,2018"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="817,94,896,119"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1453,1387,1538,1413"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1078,246,1166,271"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1225,297,1276,322"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1332,195,1401,221"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1223,398,1279,423"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="361,1209,412,1234"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1335,867,1399,893"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1823,1438,1876,1463"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1335,1153,1399,1178"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1449,918,1541,943"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1464,1198,1527,1223"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1707,1261,1768,1286"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1589,1235,1652,1261"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1593,1337,1649,1362"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1924,1438,2016,1463"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1338,1337,1395,1362"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="571,930,641,955"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="711,1107,753,1133"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="1224,1411,1277,1437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1217,854,1284,879"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1083,854,1161,879"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="1075,1310,1169,1335"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="825,1614,889,1639"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1075,1057,1169,1082"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="958,1765,1013,1790"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="957,1614,1014,1639"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="944,1715,1027,1741"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="581,1259,631,1285"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a3436a3bf222c074c4ed4d985f0c1ecef" title=" " alt="" coords="355,1715,419,1741"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ae4e29916219b9293b37f9c34220694fe" title=" " alt="" coords="954,1411,1017,1437"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_icgraph" id="ade/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,176,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a8faab06cc4d48335076b368f02709ee2" name="a8faab06cc4d48335076b368f02709ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8faab06cc4d48335076b368f02709ee2">&#9670;&#160;</a></span>exitiputtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exitiputtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00043">43</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>  <span class="keywordtype">int</span> pid;</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;exitiput test\n&quot;</span>);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">   50</span>  <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   53</span>  }</div>
<div class="line"><span class="lineno">   54</span>  <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   56</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   57</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   58</span>    }</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   60</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;child chdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   61</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;../iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   64</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink ../iputdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   65</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   66</span>    }</div>
<div class="line"><span class="lineno">   67</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   68</span>  }</div>
<div class="line"><span class="lineno">   69</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">   70</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;exitiput test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_cgraph" id="ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_cgraph">
<area shape="rect" title=" " alt="" coords="5,1576,92,1601"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="143,5,193,31"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="477,1272,520,1297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="146,892,190,917"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="473,2285,524,2311"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="805,733,852,759"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="141,2336,195,2361"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="140,2385,196,2411"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1327,1525,1391,1551"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1801,981,1855,1007"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="791,1323,866,1348"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1204,917,1269,943"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1073,1221,1131,1247"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1070,2208,1134,2233"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="572,1387,643,1412"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="691,1677,733,1703"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1441,1677,1533,1703"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1456,1399,1519,1424"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1692,1272,1753,1297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1581,1272,1644,1297"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2155,1387,2211,1412"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1919,1308,1978,1333"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1919,1244,1978,1269"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1903,981,1995,1007"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2043,1804,2107,1829"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="939,1272,992,1297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1197,1171,1276,1196"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1330,1171,1387,1196"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1203,2133,1270,2159"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1063,2032,1141,2057"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="781,1475,876,1500"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="797,1779,861,1804"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1055,2133,1149,2159"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="938,1829,993,1855"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="937,1931,994,1956"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1199,1880,1274,1905"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="924,1728,1007,1753"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1211,360,1262,385"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1324,259,1393,284"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="248,639,323,664"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1207,715,1267,740"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1213,2387,1260,2412"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="244,917,327,943"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="934,461,997,487"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1074,613,1130,639"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="375,968,425,993"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="789,512,868,537"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1058,461,1146,487"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="580,2335,635,2360"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="582,2285,633,2311"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_icgraph" id="ade/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,191,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a330ed2370fe27045b8bec1eb0bd7818f" name="a330ed2370fe27045b8bec1eb0bd7818f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a330ed2370fe27045b8bec1eb0bd7818f">&#9670;&#160;</a></span>exitwait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exitwait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00405">405</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  406</span>{</div>
<div class="line"><span class="lineno">  407</span>  <span class="keywordtype">int</span> i, pid;</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 100; i++){</div>
<div class="line"><span class="lineno">  410</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">  412</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  413</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  414</span>    }</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">if</span>(pid){</div>
<div class="line"><span class="lineno">  416</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>() != pid){</div>
<div class="line"><span class="lineno">  417</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wait wrong pid\n&quot;</span>);</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  419</span>      }</div>
<div class="line"><span class="lineno">  420</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  421</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>  }</div>
<div class="line"><span class="lineno">  424</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;exitwait ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  425</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_cgraph" id="ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_cgraph">
<area shape="rect" title=" " alt="" coords="5,2161,72,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="445,1225,488,1250"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="120,1970,164,1996"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="441,2390,492,2416"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="773,2085,820,2110"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1303,1250,1367,1276"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1785,1276,1839,1301"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="759,1301,834,1326"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1172,2364,1237,2389"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1041,1808,1099,1833"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1038,896,1102,921"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="540,1098,611,1124"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="659,946,701,972"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1425,1225,1517,1250"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1440,2161,1503,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1676,2009,1737,2034"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1565,2060,1628,2085"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2139,2313,2195,2338"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1903,1806,1962,1832"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1903,958,1962,984"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1887,1276,1979,1301"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2027,566,2091,592"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="907,1554,960,1580"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1165,1960,1244,1985"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1306,1702,1363,1728"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1292,1804,1377,1829"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1429,1958,1514,1984"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1171,896,1238,921"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1031,1098,1109,1124"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="749,1200,844,1225"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="765,640,829,665"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1023,845,1117,870"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="906,538,961,564"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="905,741,962,766"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1167,642,1242,668"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="892,489,975,514"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1179,2112,1230,2137"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1300,2212,1369,2237"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="216,1946,291,1972"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1175,490,1235,516"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1181,136,1228,161"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="212,1996,295,2021"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="902,1857,965,1882"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1042,2009,1098,2034"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="343,2060,393,2085"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="757,1946,836,1972"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1026,1857,1114,1882"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791" title=" " alt="" coords="445,2110,489,2136"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="548,2365,603,2390"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="550,2414,601,2440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_icgraph" id="ade/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,171,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a0ef8ccf57bc8c491407ec513b234f83c" name="a0ef8ccf57bc8c491407ec513b234f83c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ef8ccf57bc8c491407ec513b234f83c">&#9670;&#160;</a></span>forktest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void forktest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01380">1380</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1381</span>{</div>
<div class="line"><span class="lineno"> 1382</span>  <span class="keywordtype">int</span> n, pid;</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1385</span> </div>
<div class="line"><span class="lineno"> 1386</span>  <span class="keywordflow">for</span>(n=0; n&lt;1000; n++){</div>
<div class="line"><span class="lineno"> 1387</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keywordflow">if</span>(pid &lt; 0)</div>
<div class="line"><span class="lineno"> 1389</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keywordflow">if</span>(pid == 0)</div>
<div class="line"><span class="lineno"> 1391</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1392</span>  }</div>
<div class="line"><span class="lineno"> 1393</span> </div>
<div class="line"><span class="lineno"> 1394</span>  <span class="keywordflow">if</span>(n == 1000){</div>
<div class="line"><span class="lineno"> 1395</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork claimed to work 1000 times!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1396</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1397</span>  }</div>
<div class="line"><span class="lineno"> 1398</span> </div>
<div class="line"><span class="lineno"> 1399</span>  <span class="keywordflow">for</span>(; n &gt; 0; n--){</div>
<div class="line"><span class="lineno"> 1400</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>() &lt; 0){</div>
<div class="line"><span class="lineno"> 1401</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wait stopped early\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1402</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1403</span>    }</div>
<div class="line"><span class="lineno"> 1404</span>  }</div>
<div class="line"><span class="lineno"> 1405</span> </div>
<div class="line"><span class="lineno"> 1406</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>() != -1){</div>
<div class="line"><span class="lineno"> 1407</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wait got too many\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1408</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1409</span>  }</div>
<div class="line"><span class="lineno"> 1410</span> </div>
<div class="line"><span class="lineno"> 1411</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork test OK\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1412</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_cgraph" id="ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_cgraph">
<area shape="rect" title=" " alt="" coords="5,2161,72,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="445,1225,488,1250"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="120,1970,164,1996"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="441,2390,492,2416"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="773,2085,820,2110"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1303,1250,1367,1276"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1785,1276,1839,1301"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="759,1301,834,1326"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1172,2364,1237,2389"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1041,1808,1099,1833"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1038,896,1102,921"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="540,1098,611,1124"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="659,946,701,972"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1425,1225,1517,1250"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1440,2161,1503,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1676,2009,1737,2034"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1565,2060,1628,2085"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2139,2313,2195,2338"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1903,1806,1962,1832"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1903,958,1962,984"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1887,1276,1979,1301"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2027,566,2091,592"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="907,1554,960,1580"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1165,1960,1244,1985"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1306,1702,1363,1728"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1292,1804,1377,1829"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1429,1958,1514,1984"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1171,896,1238,921"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1031,1098,1109,1124"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="749,1200,844,1225"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="765,640,829,665"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1023,845,1117,870"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="906,538,961,564"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="905,741,962,766"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1167,642,1242,668"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="892,489,975,514"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1179,2112,1230,2137"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1300,2212,1369,2237"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="216,1946,291,1972"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1175,490,1235,516"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1181,136,1228,161"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="212,1996,295,2021"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="902,1857,965,1882"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1042,2009,1098,2034"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="343,2060,393,2085"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="757,1946,836,1972"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1026,1857,1114,1882"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791" title=" " alt="" coords="445,2110,489,2136"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="548,2365,603,2390"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="550,2414,601,2440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_icgraph" id="ade/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,171,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a77a4432bc67dfb513f1c1d698c2c4ea6" name="a77a4432bc67dfb513f1c1d698c2c4ea6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77a4432bc67dfb513f1c1d698c2c4ea6">&#9670;&#160;</a></span>fourfiles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fourfiles </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00518">518</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  519</span>{</div>
<div class="line"><span class="lineno">  520</span>  <span class="keywordtype">int</span> fd, pid, i, j, n, total, pi;</div>
<div class="line"><span class="lineno">  521</span>  <span class="keywordtype">char</span> *names[] = { <span class="stringliteral">&quot;f0&quot;</span>, <span class="stringliteral">&quot;f1&quot;</span>, <span class="stringliteral">&quot;f2&quot;</span>, <span class="stringliteral">&quot;f3&quot;</span> };</div>
<div class="line"><span class="lineno">  522</span>  <span class="keywordtype">char</span> *fname;</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fourfiles test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  527</span>    fname = names[pi];</div>
<div class="line"><span class="lineno">  528</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(fname);</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">  532</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  533</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno">  537</span>      fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(fname, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  538</span>      <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  539</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  541</span>      }</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#a0098886a849eef10803e9f35ceec61b9">memset</a>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="charliteral">&#39;0&#39;</span>+pi, 512);</div>
<div class="line"><span class="lineno">  544</span>      <span class="keywordflow">for</span>(i = 0; i &lt; 12; i++){</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">if</span>((n = <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 500)) != 500){</div>
<div class="line"><span class="lineno">  546</span>          <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;write failed %d\n&quot;</span>, n);</div>
<div class="line"><span class="lineno">  547</span>          <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  548</span>        }</div>
<div class="line"><span class="lineno">  549</span>      }</div>
<div class="line"><span class="lineno">  550</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  551</span>    }</div>
<div class="line"><span class="lineno">  552</span>  }</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>  <span class="keywordflow">for</span>(pi = 0; pi &lt; 4; pi++){</div>
<div class="line"><span class="lineno">  555</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  556</span>  }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 2; i++){</div>
<div class="line"><span class="lineno">  559</span>    fname = names[i];</div>
<div class="line"><span class="lineno">  560</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(fname, 0);</div>
<div class="line"><span class="lineno">  561</span>    total = 0;</div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">while</span>((n = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>))) &gt; 0){</div>
<div class="line"><span class="lineno">  563</span>      <span class="keywordflow">for</span>(j = 0; j &lt; n; j++){</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[j] != <span class="charliteral">&#39;0&#39;</span>+i){</div>
<div class="line"><span class="lineno">  565</span>          <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wrong char\n&quot;</span>);</div>
<div class="line"><span class="lineno">  566</span>          <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  567</span>        }</div>
<div class="line"><span class="lineno">  568</span>      }</div>
<div class="line"><span class="lineno">  569</span>      total += n;</div>
<div class="line"><span class="lineno">  570</span>    }</div>
<div class="line"><span class="lineno">  571</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  572</span>    <span class="keywordflow">if</span>(total != 12*500){</div>
<div class="line"><span class="lineno">  573</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wrong length %d\n&quot;</span>, total);</div>
<div class="line"><span class="lineno">  574</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  575</span>    }</div>
<div class="line"><span class="lineno">  576</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(fname);</div>
<div class="line"><span class="lineno">  577</span>  }</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fourfiles ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  580</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_cgraph" id="ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_cgraph">
<area shape="rect" title=" " alt="" coords="5,2023,73,2049"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="123,9,176,34"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="459,1555,501,1581"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1305,243,1375,269"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="127,727,171,753"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="455,2074,505,2099"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="563,2125,614,2150"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="787,1631,833,1657"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="124,2175,175,2201"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="126,2225,173,2250"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="121,2274,177,2299"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1308,1295,1372,1321"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1783,801,1836,826"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="773,1885,847,1910"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1185,1814,1251,1839"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1055,2062,1112,2087"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1051,1043,1115,1069"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="553,1175,624,1201"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="672,1505,715,1530"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1423,1241,1515,1266"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1437,1782,1500,1807"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1673,1713,1735,1738"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1563,1662,1625,1687"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2136,1915,2192,1941"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1901,1105,1959,1130"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1901,978,1959,1003"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1884,801,1976,826"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2024,1206,2088,1231"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="920,1758,973,1783"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1179,1966,1257,1991"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1311,2017,1369,2042"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1185,1155,1251,1181"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1045,1150,1122,1175"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="763,1758,857,1783"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="778,1378,842,1403"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1036,1459,1131,1485"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="919,1302,974,1327"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="918,1454,975,1479"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="905,1018,988,1043"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1193,499,1243,525"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="229,449,304,474"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1188,598,1248,623"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1195,549,1241,574"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="225,753,308,778"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="915,297,978,322"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1055,449,1111,474"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="356,1555,407,1581"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="771,297,849,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1039,347,1127,373"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="561,2074,616,2099"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_icgraph" id="ade/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,172,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="abf4af50e65630225208fef177e267efb" name="abf4af50e65630225208fef177e267efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf4af50e65630225208fef177e267efb">&#9670;&#160;</a></span>fourteen()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fourteen </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01204">1204</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1205</span>{</div>
<div class="line"><span class="lineno"> 1206</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>  <span class="comment">// DIRSIZ is 14.</span></div>
<div class="line"><span class="lineno"> 1209</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fourteen test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;12345678901234&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1212</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir 12345678901234 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1213</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1214</span>  }</div>
<div class="line"><span class="lineno"> 1215</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;12345678901234/123456789012345&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1216</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir 12345678901234/123456789012345 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1217</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1218</span>  }</div>
<div class="line"><span class="lineno"> 1219</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;123456789012345/123456789012345/123456789012345&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1220</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1221</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create 123456789012345/123456789012345/123456789012345 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1222</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1223</span>  }</div>
<div class="line"><span class="lineno"> 1224</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1225</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;12345678901234/12345678901234/12345678901234&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1226</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1227</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open 12345678901234/12345678901234/12345678901234 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1228</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1229</span>  }</div>
<div class="line"><span class="lineno"> 1230</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;12345678901234/12345678901234&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1233</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir 12345678901234/12345678901234 succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1234</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1235</span>  }</div>
<div class="line"><span class="lineno"> 1236</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;123456789012345/12345678901234&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1237</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir 12345678901234/123456789012345 succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1238</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1239</span>  }</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fourteen ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1242</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_cgraph" id="ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_cgraph">
<area shape="rect" title=" " alt="" coords="5,1359,75,1385"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="123,1261,177,1286"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="129,1310,171,1335"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="123,1359,177,1385"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="125,1409,175,1434"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="125,1817,175,1842"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1203,1158,1267,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1685,854,1739,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="659,1259,734,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1072,1867,1137,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="941,1614,999,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="938,322,1002,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="225,550,296,575"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="344,727,387,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1325,1107,1417,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1340,1639,1403,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1576,1703,1637,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1465,1766,1528,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2039,1627,2095,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1803,1259,1862,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1803,854,1862,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1787,753,1879,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1927,575,1991,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="807,1310,860,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1065,1715,1144,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1206,1513,1263,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1192,1614,1277,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1329,1867,1414,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1071,499,1138,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="931,398,1009,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="649,1361,744,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="435,727,499,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="923,550,1017,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="547,854,601,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="792,751,875,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="805,702,862,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1067,601,1142,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="670,905,723,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="923,1107,1017,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1079,398,1130,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1200,449,1269,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="233,1817,288,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="235,1866,286,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_icgraph" id="ade/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,173,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a37568127a326729b0576444a4a4509e1" name="a37568127a326729b0576444a4a4509e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37568127a326729b0576444a4a4509e1">&#9670;&#160;</a></span>fsfull()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsfull </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01648">1648</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1649</span>{</div>
<div class="line"><span class="lineno"> 1650</span>  <span class="keywordtype">int</span> nfiles;</div>
<div class="line"><span class="lineno"> 1651</span>  <span class="keywordtype">int</span> fsblocks = 0;</div>
<div class="line"><span class="lineno"> 1652</span> </div>
<div class="line"><span class="lineno"> 1653</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fsfull test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1654</span> </div>
<div class="line"><span class="lineno"> 1655</span>  <span class="keywordflow">for</span>(nfiles = 0; ; nfiles++){</div>
<div class="line"><span class="lineno"> 1656</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[64];</div>
<div class="line"><span class="lineno"> 1657</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line"><span class="lineno"> 1658</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + nfiles / 1000;</div>
<div class="line"><span class="lineno"> 1659</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 1000) / 100;</div>
<div class="line"><span class="lineno"> 1660</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[3] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 100) / 10;</div>
<div class="line"><span class="lineno"> 1661</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[4] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 10);</div>
<div class="line"><span class="lineno"> 1662</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[5] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1663</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;writing %s\n&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordtype">int</span> fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno"> 1665</span>    <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1666</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open %s failed\n&quot;</span>, <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno"> 1667</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1668</span>    }</div>
<div class="line"><span class="lineno"> 1669</span>    <span class="keywordtype">int</span> total = 0;</div>
<div class="line"><span class="lineno"> 1670</span>    <span class="keywordflow">while</span>(1){</div>
<div class="line"><span class="lineno"> 1671</span>      <span class="keywordtype">int</span> cc = <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 512);</div>
<div class="line"><span class="lineno"> 1672</span>      <span class="keywordflow">if</span>(cc &lt; 512)</div>
<div class="line"><span class="lineno"> 1673</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1674</span>      total += cc;</div>
<div class="line"><span class="lineno"> 1675</span>      fsblocks++;</div>
<div class="line"><span class="lineno"> 1676</span>    }</div>
<div class="line"><span class="lineno"> 1677</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wrote %d bytes\n&quot;</span>, total);</div>
<div class="line"><span class="lineno"> 1678</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1679</span>    <span class="keywordflow">if</span>(total == 0)</div>
<div class="line"><span class="lineno"> 1680</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1681</span>  }</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>  <span class="keywordflow">while</span>(nfiles &gt;= 0){</div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keywordtype">char</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[64];</div>
<div class="line"><span class="lineno"> 1685</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[0] = <span class="charliteral">&#39;f&#39;</span>;</div>
<div class="line"><span class="lineno"> 1686</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[1] = <span class="charliteral">&#39;0&#39;</span> + nfiles / 1000;</div>
<div class="line"><span class="lineno"> 1687</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[2] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 1000) / 100;</div>
<div class="line"><span class="lineno"> 1688</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[3] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 100) / 10;</div>
<div class="line"><span class="lineno"> 1689</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[4] = <span class="charliteral">&#39;0&#39;</span> + (nfiles % 10);</div>
<div class="line"><span class="lineno"> 1690</span>    <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>[5] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1691</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#aee754febd402311e2a552cb0d6ab6629">name</a>);</div>
<div class="line"><span class="lineno"> 1692</span>    nfiles--;</div>
<div class="line"><span class="lineno"> 1693</span>  }</div>
<div class="line"><span class="lineno"> 1694</span> </div>
<div class="line"><span class="lineno"> 1695</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fsfull test finished\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1696</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a37568127a326729b0576444a4a4509e1_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a37568127a326729b0576444a4a4509e1_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a37568127a326729b0576444a4a4509e1_cgraph" id="ade/dc0/usertests_8c_a37568127a326729b0576444a4a4509e1_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,56,129"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="105,5,159,31"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="107,55,157,80"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="107,104,157,129"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="210,153,261,179"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="104,205,160,231"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="208,104,263,129"/>
</map>
</div>

</div>
</div>
<a id="ac9fe56d8f6e4ed1c9677b06cb7b325e6" name="ac9fe56d8f6e4ed1c9677b06cb7b325e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9fe56d8f6e4ed1c9677b06cb7b325e6">&#9670;&#160;</a></span>iputtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iputtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00018">18</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   19</span>{</div>
<div class="line"><span class="lineno">   20</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;iput test\n&quot;</span>);</div>
<div class="line"><span class="lineno">   21</span> </div>
<div class="line"><span class="lineno">   22</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   25</span>  }</div>
<div class="line"><span class="lineno">   26</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   27</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;chdir iputdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   28</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   29</span>  }</div>
<div class="line"><span class="lineno">   30</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;../iputdir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink ../iputdir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   33</span>  }</div>
<div class="line"><span class="lineno">   34</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;/&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;chdir / failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   36</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   37</span>  }</div>
<div class="line"><span class="lineno">   38</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;iput test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">   39</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_cgraph" id="ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_cgraph">
<area shape="rect" title=" " alt="" coords="5,1651,71,1677"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="121,1387,172,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="125,1437,168,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="119,1651,174,1677"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="121,1778,172,1803"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="119,1827,175,1853"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1200,1158,1264,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1683,854,1736,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="657,1259,731,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1069,1867,1135,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="939,1614,996,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="935,322,999,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="223,587,293,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="341,727,384,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1323,1107,1415,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1337,1639,1400,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1573,1703,1635,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1463,1766,1525,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2036,1627,2092,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1801,1259,1859,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1801,854,1859,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1784,753,1876,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1924,589,1988,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="804,1310,857,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1063,1715,1141,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1203,1513,1261,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1189,1614,1275,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1326,1867,1411,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1069,499,1135,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="929,398,1006,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="647,1361,741,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="432,727,496,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="920,550,1015,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="544,854,599,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="789,751,872,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="802,702,859,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1065,601,1139,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="667,905,721,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="920,1107,1015,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1077,398,1127,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1197,449,1267,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="231,1817,285,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="233,1866,283,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_icgraph" id="ade/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,169,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a267227083b00d0cc3141b34f5152ae04" name="a267227083b00d0cc3141b34f5152ae04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a267227083b00d0cc3141b34f5152ae04">&#9670;&#160;</a></span>iref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void iref </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01344">1344</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1345</span>{</div>
<div class="line"><span class="lineno"> 1346</span>  <span class="keywordtype">int</span> i, fd;</div>
<div class="line"><span class="lineno"> 1347</span> </div>
<div class="line"><span class="lineno"> 1348</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;empty file name\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>  <span class="comment">// the 50 is NINODE</span></div>
<div class="line"><span class="lineno"> 1351</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 50 + 1; i++){</div>
<div class="line"><span class="lineno"> 1352</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;irefd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1353</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir irefd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1354</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1355</span>    }</div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;irefd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1357</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir irefd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1358</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1359</span>    }</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1362</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;README&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1363</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1364</span>    <span class="keywordflow">if</span>(fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1365</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1366</span>    fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;xx&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>);</div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keywordflow">if</span>(fd &gt;= 0)</div>
<div class="line"><span class="lineno"> 1368</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1369</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;xx&quot;</span>);</div>
<div class="line"><span class="lineno"> 1370</span>  }</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;/&quot;</span>);</div>
<div class="line"><span class="lineno"> 1373</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;empty file name OK\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1374</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_cgraph" id="ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_cgraph">
<area shape="rect" title=" " alt="" coords="5,1511,45,1537"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="96,1338,147,1363"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="95,1387,148,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="100,1437,143,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="100,1486,143,1511"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="94,1535,149,1561"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="96,1585,147,1610"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="96,1789,147,1814"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="93,1838,149,1863"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1175,1158,1239,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1657,854,1711,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="631,1259,706,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1044,1867,1109,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="913,1614,971,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="910,323,974,349"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="197,587,268,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="316,727,359,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1297,1107,1389,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1312,1639,1375,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1548,1703,1609,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1437,1766,1500,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2011,1665,2067,1690"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1775,1259,1834,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1775,854,1834,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1759,753,1851,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1899,589,1963,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="779,1310,832,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1037,1715,1116,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1178,1513,1235,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1164,1614,1249,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1301,1867,1386,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1043,499,1110,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="903,398,981,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="621,1361,716,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="407,727,471,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="895,550,989,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="519,854,573,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="764,751,847,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="777,702,834,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1039,601,1114,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="642,905,695,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="895,1107,989,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1051,398,1102,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1172,449,1241,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="205,1817,260,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="207,1866,258,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_icgraph" id="ade/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,144,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a4eeee588d4689a58fc140a7d5d7b0608" name="a4eeee588d4689a58fc140a7d5d7b0608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eeee588d4689a58fc140a7d5d7b0608">&#9670;&#160;</a></span>linktest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void linktest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00702">702</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  703</span>{</div>
<div class="line"><span class="lineno">  704</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;linktest\n&quot;</span>);</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;lf1&quot;</span>);</div>
<div class="line"><span class="lineno">  709</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;lf2&quot;</span>);</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;lf1&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  713</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create lf1 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  714</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  715</span>  }</div>
<div class="line"><span class="lineno">  716</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;hello&quot;</span>, 5) != 5){</div>
<div class="line"><span class="lineno">  717</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;write lf1 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  718</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  719</span>  }</div>
<div class="line"><span class="lineno">  720</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;lf1&quot;</span>, <span class="stringliteral">&quot;lf2&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  723</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link lf1 lf2 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  724</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  725</span>  }</div>
<div class="line"><span class="lineno">  726</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;lf1&quot;</span>);</div>
<div class="line"><span class="lineno">  727</span> </div>
<div class="line"><span class="lineno">  728</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;lf1&quot;</span>, 0) &gt;= 0){</div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinked lf1 but it is still there!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  730</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  731</span>  }</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;lf2&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  734</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  735</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open lf2 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  736</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  737</span>  }</div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)) != 5){</div>
<div class="line"><span class="lineno">  739</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;read lf2 failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  740</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  741</span>  }</div>
<div class="line"><span class="lineno">  742</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;lf2&quot;</span>, <span class="stringliteral">&quot;lf2&quot;</span>) &gt;= 0){</div>
<div class="line"><span class="lineno">  745</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link lf2 lf2 succeeded! oops\n&quot;</span>);</div>
<div class="line"><span class="lineno">  746</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  747</span>  }</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;lf2&quot;</span>);</div>
<div class="line"><span class="lineno">  750</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;lf2&quot;</span>, <span class="stringliteral">&quot;lf1&quot;</span>) &gt;= 0){</div>
<div class="line"><span class="lineno">  751</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link non-existant succeeded! oops\n&quot;</span>);</div>
<div class="line"><span class="lineno">  752</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  753</span>  }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;.&quot;</span>, <span class="stringliteral">&quot;lf1&quot;</span>) &gt;= 0){</div>
<div class="line"><span class="lineno">  756</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link . lf1 succeeded! oops\n&quot;</span>);</div>
<div class="line"><span class="lineno">  757</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  758</span>  }</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;linktest ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  761</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_cgraph" id="ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_cgraph">
<area shape="rect" title=" " alt="" coords="5,1791,69,1817"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="119,1387,172,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="124,1437,167,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="124,1717,167,1742"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="120,1766,171,1791"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="120,1815,171,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="231,1866,282,1891"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="122,1917,169,1942"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="117,1966,173,1991"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1199,1158,1263,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1681,854,1735,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="655,1259,730,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1068,1867,1133,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="937,1614,995,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="934,322,998,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="221,587,292,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="340,726,383,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1321,1107,1413,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1336,1639,1399,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1572,1703,1633,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1461,1766,1524,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2035,1627,2091,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1799,1259,1858,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1799,854,1858,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1783,753,1875,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1923,601,1987,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="803,1310,856,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1061,1715,1140,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1202,1513,1259,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1188,1614,1273,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1325,1867,1410,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1067,499,1134,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="927,398,1005,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="645,1361,740,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="431,726,495,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="919,550,1013,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="543,853,597,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="788,751,871,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="801,702,858,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1063,601,1138,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="666,905,719,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="919,1107,1013,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1075,398,1126,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1196,449,1265,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="229,1817,284,1842"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_icgraph" id="ade/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,168,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a1740f29f4ce6d3060fd79a9312edc315" name="a1740f29f4ce6d3060fd79a9312edc315"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1740f29f4ce6d3060fd79a9312edc315">&#9670;&#160;</a></span>linkunlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void linkunlink </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00858">858</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  859</span>{</div>
<div class="line"><span class="lineno">  860</span>  <span class="keywordtype">int</span> pid, i;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;linkunlink test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;x&quot;</span>);</div>
<div class="line"><span class="lineno">  865</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  866</span>  <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">  867</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  869</span>  }</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x = (pid ? 1 : 97);</div>
<div class="line"><span class="lineno">  872</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 100; i++){</div>
<div class="line"><span class="lineno">  873</span>    x = x * 1103515245 + 12345;</div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span>((x % 3) == 0){</div>
<div class="line"><span class="lineno">  875</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;x&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>));</div>
<div class="line"><span class="lineno">  876</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>((x % 3) == 1){</div>
<div class="line"><span class="lineno">  877</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;cat&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>);</div>
<div class="line"><span class="lineno">  878</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  879</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;x&quot;</span>);</div>
<div class="line"><span class="lineno">  880</span>    }</div>
<div class="line"><span class="lineno">  881</span>  }</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>  <span class="keywordflow">if</span>(pid)</div>
<div class="line"><span class="lineno">  884</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  885</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  886</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;linkunlink ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  889</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_cgraph" id="ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_cgraph">
<area shape="rect" title=" " alt="" coords="5,1805,81,1830"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="131,398,184,423"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="467,717,509,742"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="135,1741,179,1766"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="463,1918,513,1943"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="795,1171,841,1197"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="136,1931,179,1957"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="132,1981,183,2006"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="129,2030,185,2055"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1316,1259,1380,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1791,1487,1844,1513"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="781,666,855,691"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1193,449,1259,474"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1063,246,1120,271"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1059,1513,1123,1538"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="561,1285,632,1310"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="680,857,723,882"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1431,1259,1523,1285"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1445,499,1508,525"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1681,398,1743,423"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1571,398,1633,423"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2144,145,2200,170"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1909,1259,1967,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1909,1361,1967,1386"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1892,1462,1984,1487"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2032,955,2096,981"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="928,651,981,677"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1187,246,1265,271"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1319,195,1377,221"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1193,1411,1259,1437"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1053,1411,1130,1437"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="771,715,865,741"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="786,943,850,969"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1044,1107,1139,1133"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="927,907,982,933"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="926,957,983,982"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="913,1006,996,1031"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1201,1918,1251,1943"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1313,1969,1383,1994"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="237,1766,312,1791"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1196,2271,1256,2297"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1203,2222,1249,2247"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="233,1665,316,1690"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="923,1867,986,1893"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1063,1741,1119,1766"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="364,1614,415,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="779,1867,857,1893"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1047,1918,1135,1943"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="569,1918,624,1943"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="571,1967,622,1993"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_icgraph" id="ade/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,180,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a0ddf1224851353fc92bfbff6f499fa97" name="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01749">1749</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1750</span>{</div>
<div class="line"><span class="lineno"> 1751</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;usertests starting\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;usertests.ran&quot;</span>, 0) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1754</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;already ran user tests -- rebuild fs.img\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1755</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1756</span>  }</div>
<div class="line"><span class="lineno"> 1757</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;usertests.ran&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>));</div>
<div class="line"><span class="lineno"> 1758</span> </div>
<div class="line"><span class="lineno"> 1759</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2">argptest</a>();</div>
<div class="line"><span class="lineno"> 1760</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf">createdelete</a>();</div>
<div class="line"><span class="lineno"> 1761</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315">linkunlink</a>();</div>
<div class="line"><span class="lineno"> 1762</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2">concreate</a>();</div>
<div class="line"><span class="lineno"> 1763</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6">fourfiles</a>();</div>
<div class="line"><span class="lineno"> 1764</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a02e1ca3f4db5f4bf8a683a0b7c18cc43">sharedfd</a>();</div>
<div class="line"><span class="lineno"> 1765</span> </div>
<div class="line"><span class="lineno"> 1766</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a">bigargtest</a>();</div>
<div class="line"><span class="lineno"> 1767</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35">bigwrite</a>();</div>
<div class="line"><span class="lineno"> 1768</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a">bigargtest</a>();</div>
<div class="line"><span class="lineno"> 1769</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7">bsstest</a>();</div>
<div class="line"><span class="lineno"> 1770</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a06636ed0cda58c748d68e82d33d1afce">sbrktest</a>();</div>
<div class="line"><span class="lineno"> 1771</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3">validatetest</a>();</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#ae7c61791dd2cfb8ad59b4c6e87685c07">opentest</a>();</div>
<div class="line"><span class="lineno"> 1774</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a3a007a46ea6310b39a233e45d439f11a">writetest</a>();</div>
<div class="line"><span class="lineno"> 1775</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a48ac3cbd37dcf4c4e08b0572b3a0e9f3">writetest1</a>();</div>
<div class="line"><span class="lineno"> 1776</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a6773439702f38f3835fb6195f77e001c">createtest</a>();</div>
<div class="line"><span class="lineno"> 1777</span> </div>
<div class="line"><span class="lineno"> 1778</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7">openiputtest</a>();</div>
<div class="line"><span class="lineno"> 1779</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2">exitiputtest</a>();</div>
<div class="line"><span class="lineno"> 1780</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6">iputtest</a>();</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a">mem</a>();</div>
<div class="line"><span class="lineno"> 1783</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a16ae754fb9c5622d44d0c3ce62ad7c49">pipe1</a>();</div>
<div class="line"><span class="lineno"> 1784</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a026b8c4ab2cb9af17e1c20d533981604">preempt</a>();</div>
<div class="line"><span class="lineno"> 1785</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f">exitwait</a>();</div>
<div class="line"><span class="lineno"> 1786</span> </div>
<div class="line"><span class="lineno"> 1787</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a6b22568d42b584ed4b0dc4e2b0677013">rmdot</a>();</div>
<div class="line"><span class="lineno"> 1788</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb">fourteen</a>();</div>
<div class="line"><span class="lineno"> 1789</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31">bigfile</a>();</div>
<div class="line"><span class="lineno"> 1790</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a5d39024e15998d6a6865f4cd0f69738b">subdir</a>();</div>
<div class="line"><span class="lineno"> 1791</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608">linktest</a>();</div>
<div class="line"><span class="lineno"> 1792</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a3331ced6fb67502a2e5277260d4f5aec">unlinkread</a>();</div>
<div class="line"><span class="lineno"> 1793</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f">dirfile</a>();</div>
<div class="line"><span class="lineno"> 1794</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04">iref</a>();</div>
<div class="line"><span class="lineno"> 1795</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a0ef8ccf57bc8c491407ec513b234f83c">forktest</a>();</div>
<div class="line"><span class="lineno"> 1796</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a">bigdir</a>(); <span class="comment">// slow</span></div>
<div class="line"><span class="lineno"> 1797</span> </div>
<div class="line"><span class="lineno"> 1798</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a6888f9f6d973f81f73091d1530ad212b">uio</a>();</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span>  <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a">exectest</a>();</div>
<div class="line"><span class="lineno"> 1801</span> </div>
<div class="line"><span class="lineno"> 1802</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1803</span>}</div>
<div class="ttc" id="ausertests_8c_html_a026b8c4ab2cb9af17e1c20d533981604"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a026b8c4ab2cb9af17e1c20d533981604">preempt</a></div><div class="ttdeci">void preempt(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00359">usertests.c:359</a></div></div>
<div class="ttc" id="ausertests_8c_html_a02e1ca3f4db5f4bf8a683a0b7c18cc43"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a02e1ca3f4db5f4bf8a683a0b7c18cc43">sharedfd</a></div><div class="ttdeci">void sharedfd(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00465">usertests.c:465</a></div></div>
<div class="ttc" id="ausertests_8c_html_a06636ed0cda58c748d68e82d33d1afce"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a06636ed0cda58c748d68e82d33d1afce">sbrktest</a></div><div class="ttdeci">void sbrktest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01415">usertests.c:1415</a></div></div>
<div class="ttc" id="ausertests_8c_html_a0b0ff95e564df3c3e8fc977226b75de7"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7">bsstest</a></div><div class="ttdeci">void bsstest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01595">usertests.c:1595</a></div></div>
<div class="ttc" id="ausertests_8c_html_a0ef8ccf57bc8c491407ec513b234f83c"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a0ef8ccf57bc8c491407ec513b234f83c">forktest</a></div><div class="ttdeci">void forktest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01380">usertests.c:1380</a></div></div>
<div class="ttc" id="ausertests_8c_html_a16ae754fb9c5622d44d0c3ce62ad7c49"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a16ae754fb9c5622d44d0c3ce62ad7c49">pipe1</a></div><div class="ttdeci">void pipe1(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00306">usertests.c:306</a></div></div>
<div class="ttc" id="ausertests_8c_html_a1740f29f4ce6d3060fd79a9312edc315"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315">linkunlink</a></div><div class="ttdeci">void linkunlink()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00858">usertests.c:858</a></div></div>
<div class="ttc" id="ausertests_8c_html_a267227083b00d0cc3141b34f5152ae04"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04">iref</a></div><div class="ttdeci">void iref(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01344">usertests.c:1344</a></div></div>
<div class="ttc" id="ausertests_8c_html_a3208ed001a225f5d9ea3fb37f46810c7"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7">openiputtest</a></div><div class="ttdeci">void openiputtest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00085">usertests.c:85</a></div></div>
<div class="ttc" id="ausertests_8c_html_a330ed2370fe27045b8bec1eb0bd7818f"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f">exitwait</a></div><div class="ttdeci">void exitwait(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00405">usertests.c:405</a></div></div>
<div class="ttc" id="ausertests_8c_html_a3331ced6fb67502a2e5277260d4f5aec"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a3331ced6fb67502a2e5277260d4f5aec">unlinkread</a></div><div class="ttdeci">void unlinkread(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00657">usertests.c:657</a></div></div>
<div class="ttc" id="ausertests_8c_html_a3a007a46ea6310b39a233e45d439f11a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a3a007a46ea6310b39a233e45d439f11a">writetest</a></div><div class="ttdeci">void writetest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00139">usertests.c:139</a></div></div>
<div class="ttc" id="ausertests_8c_html_a425a0efe4f459decf4b5ea14517ab3cf"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf">createdelete</a></div><div class="ttdeci">void createdelete(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00584">usertests.c:584</a></div></div>
<div class="ttc" id="ausertests_8c_html_a48ac3cbd37dcf4c4e08b0572b3a0e9f3"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a48ac3cbd37dcf4c4e08b0572b3a0e9f3">writetest1</a></div><div class="ttdeci">void writetest1(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00188">usertests.c:188</a></div></div>
<div class="ttc" id="ausertests_8c_html_a4eeee588d4689a58fc140a7d5d7b0608"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608">linktest</a></div><div class="ttdeci">void linktest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00702">usertests.c:702</a></div></div>
<div class="ttc" id="ausertests_8c_html_a57e55b2d0161d62bb99765ca3de43e35"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35">bigwrite</a></div><div class="ttdeci">void bigwrite(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01119">usertests.c:1119</a></div></div>
<div class="ttc" id="ausertests_8c_html_a5a12affe4fdfaa172d85da9a6adf98d2"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2">concreate</a></div><div class="ttdeci">void concreate(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00765">usertests.c:765</a></div></div>
<div class="ttc" id="ausertests_8c_html_a5d39024e15998d6a6865f4cd0f69738b"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a5d39024e15998d6a6865f4cd0f69738b">subdir</a></div><div class="ttdeci">void subdir(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00935">usertests.c:935</a></div></div>
<div class="ttc" id="ausertests_8c_html_a6773439702f38f3835fb6195f77e001c"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a6773439702f38f3835fb6195f77e001c">createtest</a></div><div class="ttdeci">void createtest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00245">usertests.c:245</a></div></div>
<div class="ttc" id="ausertests_8c_html_a6888f9f6d973f81f73091d1530ad212b"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a6888f9f6d973f81f73091d1530ad212b">uio</a></div><div class="ttdeci">void uio()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01699">usertests.c:1699</a></div></div>
<div class="ttc" id="ausertests_8c_html_a6b22568d42b584ed4b0dc4e2b0677013"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a6b22568d42b584ed4b0dc4e2b0677013">rmdot</a></div><div class="ttdeci">void rmdot(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01245">usertests.c:1245</a></div></div>
<div class="ttc" id="ausertests_8c_html_a6f94e3b215d069b5419e87bafe80799a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a">exectest</a></div><div class="ttdeci">void exectest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00294">usertests.c:294</a></div></div>
<div class="ttc" id="ausertests_8c_html_a77a4432bc67dfb513f1c1d698c2c4ea6"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6">fourfiles</a></div><div class="ttdeci">void fourfiles(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00518">usertests.c:518</a></div></div>
<div class="ttc" id="ausertests_8c_html_a77cc2edce6e78f22dd9eb377462762f2"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2">argptest</a></div><div class="ttdeci">void argptest()</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01727">usertests.c:1727</a></div></div>
<div class="ttc" id="ausertests_8c_html_a86fe524d99d69c18a335512cf3405b31"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31">bigfile</a></div><div class="ttdeci">void bigfile(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01148">usertests.c:1148</a></div></div>
<div class="ttc" id="ausertests_8c_html_a8faab06cc4d48335076b368f02709ee2"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2">exitiputtest</a></div><div class="ttdeci">void exitiputtest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00043">usertests.c:43</a></div></div>
<div class="ttc" id="ausertests_8c_html_a98d8496ecb698b9400831f2718d805c3"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3">validatetest</a></div><div class="ttdeci">void validatetest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01563">usertests.c:1563</a></div></div>
<div class="ttc" id="ausertests_8c_html_aa0d46fcb43667c805b84ea7e1ff6100a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a">bigdir</a></div><div class="ttdeci">void bigdir(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00893">usertests.c:893</a></div></div>
<div class="ttc" id="ausertests_8c_html_aa1c6e6e76813ccb29a29bb119dba668a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a">mem</a></div><div class="ttdeci">void mem(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00428">usertests.c:428</a></div></div>
<div class="ttc" id="ausertests_8c_html_abf4af50e65630225208fef177e267efb"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb">fourteen</a></div><div class="ttdeci">void fourteen(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01204">usertests.c:1204</a></div></div>
<div class="ttc" id="ausertests_8c_html_ac5b5d4517586be6396b4f3b37445945a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a">bigargtest</a></div><div class="ttdeci">void bigargtest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01613">usertests.c:1613</a></div></div>
<div class="ttc" id="ausertests_8c_html_ac9fe56d8f6e4ed1c9677b06cb7b325e6"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6">iputtest</a></div><div class="ttdeci">void iputtest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00018">usertests.c:18</a></div></div>
<div class="ttc" id="ausertests_8c_html_ae7c61791dd2cfb8ad59b4c6e87685c07"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#ae7c61791dd2cfb8ad59b4c6e87685c07">opentest</a></div><div class="ttdeci">void opentest(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00119">usertests.c:119</a></div></div>
<div class="ttc" id="ausertests_8c_html_aedd6d3f148dd5c99b47900215c1ac43f"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f">dirfile</a></div><div class="ttdeci">void dirfile(void)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01284">usertests.c:1284</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="ade/dc0/usertests_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" title=" " alt="" coords="5,906,56,931"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77cc2edce6e78f22dd9eb377462762f2" title=" " alt="" coords="116,584,185,610"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="253,630,307,655"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="259,931,301,956"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="255,580,305,606"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="255,882,305,907"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="111,1130,190,1155"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa0d46fcb43667c805b84ea7e1ff6100a" title=" " alt="" coords="124,634,177,659"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a86fe524d99d69c18a335512cf3405b31" title=" " alt="" coords="123,39,179,64"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a57e55b2d0161d62bb99765ca3de43e35" title=" " alt="" coords="117,338,184,363"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0b0ff95e564df3c3e8fc977226b75de7" title=" " alt="" coords="118,1080,183,1106"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2" title=" " alt="" coords="111,535,190,560"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf" title=" " alt="" coords="104,1031,197,1056"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6773439702f38f3835fb6195f77e001c" title=" " alt="" coords="111,486,191,511"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aedd6d3f148dd5c99b47900215c1ac43f" title=" " alt="" coords="124,782,177,807"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="115,1330,187,1355"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2" title=" " alt="" coords="107,1576,194,1602"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f" title=" " alt="" coords="117,1774,184,1799"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ef8ccf57bc8c491407ec513b234f83c" title=" " alt="" coords="117,1626,184,1651"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6" title=" " alt="" coords="117,387,185,412"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#abf4af50e65630225208fef177e267efb" title=" " alt="" coords="116,831,185,856"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac9fe56d8f6e4ed1c9677b06cb7b325e6" title=" " alt="" coords="118,1280,183,1306"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a267227083b00d0cc3141b34f5152ae04" title=" " alt="" coords="131,880,171,906"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a4eeee588d4689a58fc140a7d5d7b0608" title=" " alt="" coords="119,288,183,314"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315" title=" " alt="" coords="113,930,189,955"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="125,1724,176,1750"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7" title=" " alt="" coords="104,1428,197,1454"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ae7c61791dd2cfb8ad59b4c6e87685c07" title=" " alt="" coords="115,683,187,708"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a16ae754fb9c5622d44d0c3ce62ad7c49" title=" " alt="" coords="124,1379,177,1404"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a026b8c4ab2cb9af17e1c20d533981604" title=" " alt="" coords="116,1478,185,1503"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6b22568d42b584ed4b0dc4e2b0677013" title=" " alt="" coords="123,1179,178,1204"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a06636ed0cda58c748d68e82d33d1afce" title=" " alt="" coords="116,1823,185,1848"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a02e1ca3f4db5f4bf8a683a0b7c18cc43" title=" " alt="" coords="115,436,187,462"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a5d39024e15998d6a6865f4cd0f69738b" title=" " alt="" coords="122,732,179,758"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6888f9f6d973f81f73091d1530ad212b" title=" " alt="" coords="131,1675,170,1700"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a3331ced6fb67502a2e5277260d4f5aec" title=" " alt="" coords="110,88,191,114"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3" title=" " alt="" coords="106,1527,195,1552"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a3a007a46ea6310b39a233e45d439f11a" title=" " alt="" coords="115,239,187,264"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a48ac3cbd37dcf4c4e08b0572b3a0e9f3" title=" " alt="" coords="111,138,190,163"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="257,531,303,556"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9" title=" " alt="" coords="257,1614,303,1639"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="363,430,413,455"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="255,1203,305,1228"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="258,1403,302,1428"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="252,679,308,704"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="257,1452,303,1478"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="259,780,301,806"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="245,430,315,455"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="255,1054,305,1079"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="253,1142,307,1167"/>
</map>
</div>

</div>
</div>
<a id="aa1c6e6e76813ccb29a29bb119dba668a" name="aa1c6e6e76813ccb29a29bb119dba668a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1c6e6e76813ccb29a29bb119dba668a">&#9670;&#160;</a></span>mem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mem </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00428">428</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  429</span>{</div>
<div class="line"><span class="lineno">  430</span>  <span class="keywordtype">void</span> *m1, *m2;</div>
<div class="line"><span class="lineno">  431</span>  <span class="keywordtype">int</span> pid, ppid;</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mem test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  434</span>  ppid = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7">getpid</a>();</div>
<div class="line"><span class="lineno">  435</span>  <span class="keywordflow">if</span>((pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>()) == 0){</div>
<div class="line"><span class="lineno">  436</span>    m1 = 0;</div>
<div class="line"><span class="lineno">  437</span>    <span class="keywordflow">while</span>((m2 = <a class="code hl_function" href="../../df/d5d/umalloc_8c.html#ac131c16d1dcb6bea908d0237c82e981d">malloc</a>(10001)) != 0){</div>
<div class="line"><span class="lineno">  438</span>      *(<span class="keywordtype">char</span>**)m2 = m1;</div>
<div class="line"><span class="lineno">  439</span>      m1 = m2;</div>
<div class="line"><span class="lineno">  440</span>    }</div>
<div class="line"><span class="lineno">  441</span>    <span class="keywordflow">while</span>(m1){</div>
<div class="line"><span class="lineno">  442</span>      m2 = *(<span class="keywordtype">char</span>**)m1;</div>
<div class="line"><span class="lineno">  443</span>      <a class="code hl_function" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791">free</a>(m1);</div>
<div class="line"><span class="lineno">  444</span>      m1 = m2;</div>
<div class="line"><span class="lineno">  445</span>    }</div>
<div class="line"><span class="lineno">  446</span>    m1 = <a class="code hl_function" href="../../df/d5d/umalloc_8c.html#ac131c16d1dcb6bea908d0237c82e981d">malloc</a>(1024*20);</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">if</span>(m1 == 0){</div>
<div class="line"><span class="lineno">  448</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;couldn&#39;t allocate mem?!!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(ppid);</div>
<div class="line"><span class="lineno">  450</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  451</span>    }</div>
<div class="line"><span class="lineno">  452</span>    <a class="code hl_function" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791">free</a>(m1);</div>
<div class="line"><span class="lineno">  453</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mem ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  454</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  455</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  456</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  457</span>  }</div>
<div class="line"><span class="lineno">  458</span>}</div>
<div class="ttc" id="adefs_8h_html_ab893e9671d6bfe2b2604002a50639f21"><div class="ttname"><a href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a></div><div class="ttdeci">int kill(int)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00480">proc.c:480</a></div></div>
<div class="ttc" id="aumalloc_8c_html_ac131c16d1dcb6bea908d0237c82e981d"><div class="ttname"><a href="../../df/d5d/umalloc_8c.html#ac131c16d1dcb6bea908d0237c82e981d">malloc</a></div><div class="ttdeci">void * malloc(uint nbytes)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/umalloc_8c_source.html#l00064">umalloc.c:64</a></div></div>
<div class="ttc" id="aumalloc_8c_html_adebb229f063e66907017098087cbe791"><div class="ttname"><a href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791">free</a></div><div class="ttdeci">void free(void *ap)</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d5d/umalloc_8c_source.html#l00025">umalloc.c:25</a></div></div>
<div class="ttc" id="auser_8h_html_a939cb25a305fe68aad9b365077f1a8c7"><div class="ttname"><a href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7">getpid</a></div><div class="ttdeci">int getpid(void)</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_cgraph" id="ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_cgraph">
<area shape="rect" title=" " alt="" coords="5,1739,56,1764"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="113,1637,155,1663"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="225,803,269,828"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791" title=" " alt="" coords="112,1789,156,1815"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7" title=" " alt="" coords="105,1839,163,1864"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="897,5,936,31"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#ac131c16d1dcb6bea908d0237c82e981d" title=" " alt="" coords="104,1888,164,1913"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="109,2424,159,2449"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="485,1739,532,1764"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1007,1259,1071,1284"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1481,1145,1535,1171"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="471,1788,546,1813"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="884,2272,949,2297"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="753,1917,811,1943"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="750,929,814,955"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="212,1132,283,1157"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="351,1485,393,1511"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1121,1208,1213,1233"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1136,1765,1199,1791"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1372,1715,1433,1740"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1261,1664,1324,1689"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="1835,2196,1891,2221"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1599,1676,1658,1701"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1599,1120,1658,1145"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1583,1169,1675,1195"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1723,1220,1787,1245"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="619,1889,672,1915"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="877,1968,956,1993"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1010,1968,1067,1993"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="883,904,950,929"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="743,411,821,436"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="461,1889,556,1915"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="477,1460,541,1485"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="735,1259,829,1284"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="618,1460,673,1485"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="617,1411,674,1436"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="879,1664,954,1689"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="604,1309,687,1335"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="891,284,942,309"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1004,220,1073,245"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="335,651,409,676"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="887,752,947,777"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="893,651,940,676"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="331,853,413,879"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="614,549,677,575"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="754,676,810,701"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="469,600,548,625"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="738,512,826,537"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="220,2424,275,2449"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="222,2473,273,2499"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_icgraph" id="ade/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_icgraph">
<area shape="rect" title=" " alt="" coords="604,749,655,775"/>
<area shape="rect" href="../../de/de9/vm_8c.html#afea0f0a82a9f9c7aae26f90b5e0836c6" title=" " alt="" coords="481,156,556,181"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="111,723,162,748"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="481,749,556,775"/>
<area shape="rect" href="../../de/de9/vm_8c.html#ac96c231d4053eaf4322c27d1f2cd9d49" title=" " alt="" coords="487,1195,551,1220"/>
<area shape="rect" href="../../df/dc9/exec_8c.html#ace32454ed0d37834dcb1cb4f8b727e6e" title=" " alt="" coords="371,156,421,181"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9c16214741f4fcd088e5eea468709328" title=" " alt="" coords="359,56,433,81"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#ac5b5d4517586be6396b4f3b37445945a" title=" " alt="" coords="225,353,303,379"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6f94e3b215d069b5419e87bafe80799a" title=" " alt="" coords="228,255,300,280"/>
<area shape="rect" href="../../d8/d60/init_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="239,156,289,181"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#aedbeff6afe5d4e22330c7e6b5e6df893" title=" " alt="" coords="104,155,169,180"/>
<area shape="rect" href="../../d1/d14/sysfile_8c.html#aeaa813ddeb6a5fac3c45714c7351c526" title=" " alt="" coords="225,107,303,132"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="5,180,56,205"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#ab21d46be776cf6075a997af525a1a628" title=" " alt="" coords="227,5,301,31"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="374,699,418,724"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a5a12affe4fdfaa172d85da9a6adf98d2" title=" " alt="" coords="225,1044,303,1069"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a425a0efe4f459decf4b5ea14517ab3cf" title=" " alt="" coords="217,1093,311,1119"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a8faab06cc4d48335076b368f02709ee2" title=" " alt="" coords="221,403,307,428"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a330ed2370fe27045b8bec1eb0bd7818f" title=" " alt="" coords="231,452,297,477"/>
<area shape="rect" href="../../dd/da3/sh_8c.html#a7ae98824a008ffbc5506060227b6faa0" title=" " alt="" coords="239,205,289,231"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a0ef8ccf57bc8c491407ec513b234f83c" title=" " alt="" coords="231,304,297,329"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a77a4432bc67dfb513f1c1d698c2c4ea6" title=" " alt="" coords="230,501,298,527"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a1740f29f4ce6d3060fd79a9312edc315" title=" " alt="" coords="226,551,302,576"/>
<area shape="rect" href="../../d0/d87/foo_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="239,995,289,1020"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a3208ed001a225f5d9ea3fb37f46810c7" title=" " alt="" coords="217,600,311,625"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a16ae754fb9c5622d44d0c3ce62ad7c49" title=" " alt="" coords="237,699,291,724"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a026b8c4ab2cb9af17e1c20d533981604" title=" " alt="" coords="229,748,299,773"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a06636ed0cda58c748d68e82d33d1afce" title=" " alt="" coords="229,797,299,823"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a02e1ca3f4db5f4bf8a683a0b7c18cc43" title=" " alt="" coords="228,847,300,872"/>
<area shape="rect" href="../../dd/d35/sysproc_8c.html#a3b05102e512b34446a54334f916ba5cd" title=" " alt="" coords="228,649,300,675"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a6888f9f6d973f81f73091d1530ad212b" title=" " alt="" coords="245,896,283,921"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3" title=" " alt="" coords="219,945,309,971"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a840291bc02cba5474a4cb46a9b9566fe" title=" " alt="" coords="111,304,162,329"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a81c8a6a0cae413bc81aa223f7f7b7205" title=" " alt="" coords="364,1195,428,1220"/>
</map>
</div>

</div>
</div>
<a id="a3208ed001a225f5d9ea3fb37f46810c7" name="a3208ed001a225f5d9ea3fb37f46810c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3208ed001a225f5d9ea3fb37f46810c7">&#9670;&#160;</a></span>openiputtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void openiputtest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00085">85</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>{</div>
<div class="line"><span class="lineno">   87</span>  <span class="keywordtype">int</span> pid;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;openiput test\n&quot;</span>);</div>
<div class="line"><span class="lineno">   90</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;oidir&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;mkdir oidir failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   93</span>  }</div>
<div class="line"><span class="lineno">   94</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">   95</span>  <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno">   96</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">   98</span>  }</div>
<div class="line"><span class="lineno">   99</span>  <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordtype">int</span> fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;oidir&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno">  102</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open directory for write succeeded\n&quot;</span>);</div>
<div class="line"><span class="lineno">  103</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  104</span>    }</div>
<div class="line"><span class="lineno">  105</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  106</span>  }</div>
<div class="line"><span class="lineno">  107</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(1);</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;oidir&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  109</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  110</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  111</span>  }</div>
<div class="line"><span class="lineno">  112</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  113</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;openiput test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="adefs_8h_html_aca4a88f06b3ebbcc04330f7ae06c8507"><div class="ttname"><a href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a></div><div class="ttdeci">void sleep(void *, struct spinlock *)</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dda/proc_8c_source.html#l00418">proc.c:418</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_cgraph" id="ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_cgraph">
<area shape="rect" title=" " alt="" coords="5,2046,99,2071"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="484,1430,527,1455"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="945,1817,999,1842"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="153,1043,197,1069"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="480,2071,531,2097"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="812,550,859,575"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="147,2122,202,2147"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="149,2171,200,2197"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="147,2221,203,2246"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1333,1361,1397,1386"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1808,981,1861,1006"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="798,1817,873,1842"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1211,2121,1276,2146"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1080,1817,1137,1842"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1077,905,1141,930"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="579,1031,649,1057"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="697,1589,740,1614"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1448,1361,1540,1386"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1463,1715,1525,1741"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1699,1665,1760,1690"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1588,1614,1651,1639"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2161,1969,2217,1994"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1926,1265,1985,1290"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1926,1139,1985,1165"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1909,981,2001,1006"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2049,1462,2113,1487"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1204,1867,1283,1893"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1337,1867,1394,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1210,1107,1277,1133"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1070,854,1147,879"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="788,1931,883,1957"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="803,1589,867,1614"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1061,1513,1156,1538"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="945,1715,999,1741"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="943,1563,1001,1589"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1206,1766,1281,1791"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="931,1411,1013,1437"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1218,195,1269,221"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1331,119,1400,145"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="255,575,329,601"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1213,651,1273,677"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1220,2323,1267,2349"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="251,1018,333,1043"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="941,297,1003,322"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1081,499,1137,525"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="381,1170,432,1195"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="796,347,875,373"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1065,297,1153,322"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="587,2121,641,2146"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="589,2071,639,2097"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_icgraph" id="ade/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,197,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="ae7c61791dd2cfb8ad59b4c6e87685c07" name="ae7c61791dd2cfb8ad59b4c6e87685c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c61791dd2cfb8ad59b4c6e87685c07">&#9670;&#160;</a></span>opentest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void opentest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00119">119</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  124</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;echo&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  126</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open echo failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  127</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  128</span>  }</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  130</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;doesnotexist&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno">  132</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open doesnotexist succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  133</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  134</span>  }</div>
<div class="line"><span class="lineno">  135</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  136</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_cgraph" id="ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_cgraph">
<area shape="rect" title=" " alt="" coords="5,1335,77,1361"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="125,1261,179,1286"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="131,1310,173,1335"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="127,1359,177,1385"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="127,1817,177,1842"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1204,1158,1268,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1687,854,1740,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="661,1259,735,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1073,1867,1139,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="943,1614,1000,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="939,323,1003,349"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="227,601,297,626"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="345,726,388,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1327,1107,1419,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1341,1639,1404,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1577,1703,1639,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1467,1766,1529,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2040,1627,2096,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1805,1259,1863,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1805,854,1863,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1788,753,1880,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1928,589,1992,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="808,1310,861,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1067,1715,1145,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1207,1513,1265,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1193,1614,1279,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1330,1867,1415,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1073,499,1139,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="933,398,1010,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="651,1361,745,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="436,726,500,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="924,550,1019,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="548,854,603,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="793,751,876,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="806,702,863,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1069,601,1143,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="671,905,725,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="924,1107,1019,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1081,398,1131,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1201,449,1271,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="235,1817,289,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="237,1866,287,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_icgraph" id="ade/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,176,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a16ae754fb9c5622d44d0c3ce62ad7c49" name="a16ae754fb9c5622d44d0c3ce62ad7c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ae754fb9c5622d44d0c3ce62ad7c49">&#9670;&#160;</a></span>pipe1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pipe1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00306">306</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  307</span>{</div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordtype">int</span> fds[2], pid;</div>
<div class="line"><span class="lineno">  309</span>  <span class="keywordtype">int</span> seq, i, n, cc, total;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d8/d53/structpipe.html">pipe</a>(fds) != 0){</div>
<div class="line"><span class="lineno">  312</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe() failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  313</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  314</span>  }</div>
<div class="line"><span class="lineno">  315</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  316</span>  seq = 0;</div>
<div class="line"><span class="lineno">  317</span>  <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fds[0]);</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">for</span>(n = 0; n &lt; 5; n++){</div>
<div class="line"><span class="lineno">  320</span>      <span class="keywordflow">for</span>(i = 0; i &lt; 1033; i++)</div>
<div class="line"><span class="lineno">  321</span>        <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[i] = seq++;</div>
<div class="line"><span class="lineno">  322</span>      <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fds[1], <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 1033) != 1033){</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe1 oops 1\n&quot;</span>);</div>
<div class="line"><span class="lineno">  324</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  325</span>      }</div>
<div class="line"><span class="lineno">  326</span>    }</div>
<div class="line"><span class="lineno">  327</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  328</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pid &gt; 0){</div>
<div class="line"><span class="lineno">  329</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fds[1]);</div>
<div class="line"><span class="lineno">  330</span>    total = 0;</div>
<div class="line"><span class="lineno">  331</span>    cc = 1;</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">while</span>((n = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fds[0], <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, cc)) &gt; 0){</div>
<div class="line"><span class="lineno">  333</span>      <span class="keywordflow">for</span>(i = 0; i &lt; n; i++){</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">if</span>((<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[i] &amp; 0xff) != (seq++ &amp; 0xff)){</div>
<div class="line"><span class="lineno">  335</span>          <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe1 oops 2\n&quot;</span>);</div>
<div class="line"><span class="lineno">  336</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  337</span>        }</div>
<div class="line"><span class="lineno">  338</span>      }</div>
<div class="line"><span class="lineno">  339</span>      total += n;</div>
<div class="line"><span class="lineno">  340</span>      cc = cc * 2;</div>
<div class="line"><span class="lineno">  341</span>      <span class="keywordflow">if</span>(cc &gt; <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>))</div>
<div class="line"><span class="lineno">  342</span>        cc = <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#ad42dafc8306f25c145c246f973b420cf">buf</a>);</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">if</span>(total != 5 * 1033){</div>
<div class="line"><span class="lineno">  345</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe1 oops 3 total %d\n&quot;</span>, total);</div>
<div class="line"><span class="lineno">  346</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fds[0]);</div>
<div class="line"><span class="lineno">  349</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  350</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  351</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fork() failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  353</span>  }</div>
<div class="line"><span class="lineno">  354</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe1 ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  355</span>}</div>
<div class="ttc" id="astructpipe_html"><div class="ttname"><a href="../../d8/d53/structpipe.html">pipe</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d47/pipe_8c_source.html#l00013">pipe.c:13</a></div></div>
<div class="ttc" id="ausertests_8c_html_ad42dafc8306f25c145c246f973b420cf"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#ad42dafc8306f25c145c246f973b420cf">buf</a></div><div class="ttdeci">char buf[8192]</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l00011">usertests.c:11</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_cgraph" id="ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_cgraph">
<area shape="rect" title=" " alt="" coords="5,2315,59,2340"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="107,84,160,110"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="441,1494,484,1519"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="111,570,155,595"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="437,2416,488,2442"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="546,2467,597,2492"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="769,644,816,670"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="110,2518,157,2543"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1299,1455,1363,1480"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1781,1100,1835,1126"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="755,2164,830,2190"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1168,847,1233,872"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1037,1100,1095,1126"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1034,2240,1098,2266"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="536,2038,607,2063"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="655,1607,697,1632"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1421,1556,1513,1582"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1436,1303,1499,1328"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1672,1050,1733,1075"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1561,1151,1624,1176"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2135,1100,2191,1126"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1899,1050,1958,1075"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1899,1442,1958,1467"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1883,1151,1975,1176"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2023,1784,2087,1810"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="903,1190,956,1215"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1161,999,1240,1024"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1302,999,1359,1024"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1288,1100,1373,1126"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1167,2114,1234,2139"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1027,2012,1105,2038"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="745,1354,840,1379"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="761,1658,825,1683"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1019,1911,1113,1936"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="902,1658,957,1683"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="901,1810,958,1835"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1163,1860,1238,1886"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="888,1506,971,1531"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1175,492,1226,518"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1296,391,1365,416"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="212,594,287,619"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1171,239,1231,264"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1177,746,1224,771"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="208,544,291,570"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="898,594,961,619"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1038,188,1094,214"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="339,771,389,796"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="753,391,832,416"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1022,594,1110,619"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="544,2418,599,2443"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_icgraph" id="ade/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,157,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a026b8c4ab2cb9af17e1c20d533981604" name="a026b8c4ab2cb9af17e1c20d533981604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a026b8c4ab2cb9af17e1c20d533981604">&#9670;&#160;</a></span>preempt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void preempt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00359">359</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span>{</div>
<div class="line"><span class="lineno">  361</span>  <span class="keywordtype">int</span> pid1, pid2, pid3;</div>
<div class="line"><span class="lineno">  362</span>  <span class="keywordtype">int</span> pfds[2];</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;preempt: &quot;</span>);</div>
<div class="line"><span class="lineno">  365</span>  pid1 = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span>(pid1 == 0)</div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno">  368</span>      ;</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>  pid2 = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  371</span>  <span class="keywordflow">if</span>(pid2 == 0)</div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno">  373</span>      ;</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>  <a class="code hl_struct" href="../../d8/d53/structpipe.html">pipe</a>(pfds);</div>
<div class="line"><span class="lineno">  376</span>  pid3 = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  377</span>  <span class="keywordflow">if</span>(pid3 == 0){</div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pfds[0]);</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(pfds[1], <span class="stringliteral">&quot;x&quot;</span>, 1) != 1)</div>
<div class="line"><span class="lineno">  380</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;preempt write error&quot;</span>);</div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pfds[1]);</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">for</span>(;;)</div>
<div class="line"><span class="lineno">  383</span>      ;</div>
<div class="line"><span class="lineno">  384</span>  }</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pfds[1]);</div>
<div class="line"><span class="lineno">  387</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(pfds[0], <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)) != 1){</div>
<div class="line"><span class="lineno">  388</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;preempt read error&quot;</span>);</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  390</span>  }</div>
<div class="line"><span class="lineno">  391</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(pfds[0]);</div>
<div class="line"><span class="lineno">  392</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;kill... &quot;</span>);</div>
<div class="line"><span class="lineno">  393</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(pid1);</div>
<div class="line"><span class="lineno">  394</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(pid2);</div>
<div class="line"><span class="lineno">  395</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(pid3);</div>
<div class="line"><span class="lineno">  396</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;wait... &quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  398</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  399</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  400</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;preempt ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  401</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_cgraph" id="ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_cgraph">
<area shape="rect" title=" " alt="" coords="5,1520,75,1545"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="123,361,176,386"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="127,1520,171,1545"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="714,462,753,488"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="490,2102,541,2128"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="603,2152,654,2177"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="827,1114,873,1140"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="126,2204,173,2229"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1329,1140,1393,1165"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2053,684,2117,709"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="228,1824,303,1849"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1206,1849,1257,1874"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1199,734,1264,760"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1201,1748,1261,1773"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1208,126,1255,152"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="224,1520,307,1545"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1452,1089,1544,1114"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1467,886,1529,912"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1703,1013,1764,1038"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1812,1545,1865,1570"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1592,1038,1655,1064"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2165,304,2221,329"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1930,1394,1989,1420"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1930,1444,1989,1469"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1913,1494,2005,1520"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="945,1950,1008,1976"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="949,2001,1005,2026"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="371,1241,421,1266"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="355,1849,437,1874"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="811,2001,889,2026"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1056,1950,1144,1976"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1327,2052,1396,2077"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="494,1241,537,1266"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791" title=" " alt="" coords="493,1093,537,1118"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7" title=" " alt="" coords="487,1142,544,1168"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#ac131c16d1dcb6bea908d0237c82e981d" title=" " alt="" coords="485,1192,545,1217"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="813,1038,887,1064"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1071,532,1129,557"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1068,1444,1132,1469"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="593,1241,664,1266"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="712,801,755,826"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="950,836,1003,861"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1192,481,1271,506"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1333,430,1390,456"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1319,480,1404,505"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1455,837,1541,862"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1198,1393,1265,1418"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1061,1342,1139,1368"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="803,785,897,810"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="601,2102,656,2128"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_icgraph" id="ade/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,173,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a866c3f5e3e89035c3ba01b22d786d8bc" name="a866c3f5e3e89035c3ba01b22d786d8bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866c3f5e3e89035c3ba01b22d786d8bc">&#9670;&#160;</a></span>rand()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int rand </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01742">1742</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1743</span>{</div>
<div class="line"><span class="lineno"> 1744</span>  <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#af0bd27c045c0317df893912a0142b21a">randstate</a> = <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#af0bd27c045c0317df893912a0142b21a">randstate</a> * 1664525 + 1013904223;</div>
<div class="line"><span class="lineno"> 1745</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/dc0/usertests_8c.html#af0bd27c045c0317df893912a0142b21a">randstate</a>;</div>
<div class="line"><span class="lineno"> 1746</span>}</div>
<div class="ttc" id="ausertests_8c_html_af0bd27c045c0317df893912a0142b21a"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#af0bd27c045c0317df893912a0142b21a">randstate</a></div><div class="ttdeci">unsigned long randstate</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01740">usertests.c:1740</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b22568d42b584ed4b0dc4e2b0677013" name="a6b22568d42b584ed4b0dc4e2b0677013"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b22568d42b584ed4b0dc4e2b0677013">&#9670;&#160;</a></span>rmdot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rmdot </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01245">1245</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1246</span>{</div>
<div class="line"><span class="lineno"> 1247</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;rmdot test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dots&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1249</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir dots failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1250</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1251</span>  }</div>
<div class="line"><span class="lineno"> 1252</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dots&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1253</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dots failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1254</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1255</span>  }</div>
<div class="line"><span class="lineno"> 1256</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;.&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1257</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;rm . worked!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1258</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1259</span>  }</div>
<div class="line"><span class="lineno"> 1260</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;..&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1261</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;rm .. worked!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1262</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1263</span>  }</div>
<div class="line"><span class="lineno"> 1264</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;/&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1265</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir / failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1266</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1267</span>  }</div>
<div class="line"><span class="lineno"> 1268</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dots/.&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1269</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dots/. worked!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1270</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1271</span>  }</div>
<div class="line"><span class="lineno"> 1272</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dots/..&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1273</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dots/.. worked!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1274</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1275</span>  }</div>
<div class="line"><span class="lineno"> 1276</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dots&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1277</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dots failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1278</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1279</span>  }</div>
<div class="line"><span class="lineno"> 1280</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;rmdot ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1281</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_cgraph" id="ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_cgraph">
<area shape="rect" title=" " alt="" coords="5,1651,60,1677"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="111,1387,161,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="115,1437,157,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="109,1651,163,1677"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="111,1778,161,1803"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="108,1827,164,1853"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1189,1158,1253,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1672,854,1725,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="646,1259,721,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1059,1867,1124,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="928,1614,985,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="925,322,989,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="212,587,283,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="331,727,373,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1312,1107,1404,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1327,1639,1389,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1563,1703,1624,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1452,1766,1515,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2025,1627,2081,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1790,1259,1849,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1790,854,1849,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1773,753,1865,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1913,589,1977,614"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="793,1310,847,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1052,1715,1131,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1193,1513,1250,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1179,1614,1264,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1315,1867,1401,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1058,499,1125,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="918,398,995,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="636,1361,731,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="421,727,485,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="909,550,1004,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="533,854,588,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="779,751,861,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="791,702,849,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1054,601,1129,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="657,905,710,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="909,1107,1004,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1066,398,1117,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1187,449,1256,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="220,1817,275,1842"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="222,1866,273,1891"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_icgraph" id="ade/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,159,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a06636ed0cda58c748d68e82d33d1afce" name="a06636ed0cda58c748d68e82d33d1afce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06636ed0cda58c748d68e82d33d1afce">&#9670;&#160;</a></span>sbrktest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbrktest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01415">1415</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1416</span>{</div>
<div class="line"><span class="lineno"> 1417</span>  <span class="keywordtype">int</span> fds[2], pid, pids[10], ppid;</div>
<div class="line"><span class="lineno"> 1418</span>  <span class="keywordtype">char</span> *a, *b, *c, *lastaddr, *oldbrk, *p, scratch;</div>
<div class="line"><span class="lineno"> 1419</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> amt;</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1422</span>  oldbrk = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1423</span> </div>
<div class="line"><span class="lineno"> 1424</span>  <span class="comment">// can one sbrk() less than a page?</span></div>
<div class="line"><span class="lineno"> 1425</span>  a = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1426</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno"> 1427</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 5000; i++){</div>
<div class="line"><span class="lineno"> 1428</span>    b = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(1);</div>
<div class="line"><span class="lineno"> 1429</span>    <span class="keywordflow">if</span>(b != a){</div>
<div class="line"><span class="lineno"> 1430</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test failed %d %x %x\n&quot;</span>, i, a, b);</div>
<div class="line"><span class="lineno"> 1431</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1432</span>    }</div>
<div class="line"><span class="lineno"> 1433</span>    *b = 1;</div>
<div class="line"><span class="lineno"> 1434</span>    a = b + 1;</div>
<div class="line"><span class="lineno"> 1435</span>  }</div>
<div class="line"><span class="lineno"> 1436</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno"> 1437</span>  <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno"> 1438</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1439</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1440</span>  }</div>
<div class="line"><span class="lineno"> 1441</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(1);</div>
<div class="line"><span class="lineno"> 1442</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(1);</div>
<div class="line"><span class="lineno"> 1443</span>  <span class="keywordflow">if</span>(c != a + 1){</div>
<div class="line"><span class="lineno"> 1444</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test failed post-fork\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1445</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1446</span>  }</div>
<div class="line"><span class="lineno"> 1447</span>  <span class="keywordflow">if</span>(pid == 0)</div>
<div class="line"><span class="lineno"> 1448</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1449</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>  <span class="comment">// can one grow address space to something big?</span></div>
<div class="line"><span class="lineno"> 1452</span><span class="preprocessor">#define BIG (100*1024*1024)</span></div>
<div class="line"><span class="lineno"> 1453</span>  a = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1454</span>  amt = (<a class="code hl_define" href="../../de/dc0/usertests_8c.html#a38eb76aa0a9a1bb1dac30c75be4a05b6">BIG</a>) - (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>)a;</div>
<div class="line"><span class="lineno"> 1455</span>  p = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(amt);</div>
<div class="line"><span class="lineno"> 1456</span>  <span class="keywordflow">if</span> (p != a) {</div>
<div class="line"><span class="lineno"> 1457</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test failed to grow big address space; enough phys mem?\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1458</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1459</span>  }</div>
<div class="line"><span class="lineno"> 1460</span>  lastaddr = (<span class="keywordtype">char</span>*) (<a class="code hl_define" href="../../de/dc0/usertests_8c.html#a38eb76aa0a9a1bb1dac30c75be4a05b6">BIG</a>-1);</div>
<div class="line"><span class="lineno"> 1461</span>  *lastaddr = 99;</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>  <span class="comment">// can one de-allocate?</span></div>
<div class="line"><span class="lineno"> 1464</span>  a = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1465</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(-4096);</div>
<div class="line"><span class="lineno"> 1466</span>  <span class="keywordflow">if</span>(c == (<span class="keywordtype">char</span>*)0xffffffff){</div>
<div class="line"><span class="lineno"> 1467</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk could not deallocate\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1468</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1469</span>  }</div>
<div class="line"><span class="lineno"> 1470</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1471</span>  <span class="keywordflow">if</span>(c != a - 4096){</div>
<div class="line"><span class="lineno"> 1472</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk deallocation produced wrong address, a %x c %x\n&quot;</span>, a, c);</div>
<div class="line"><span class="lineno"> 1473</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1474</span>  }</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>  <span class="comment">// can one re-allocate that page?</span></div>
<div class="line"><span class="lineno"> 1477</span>  a = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1478</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(4096);</div>
<div class="line"><span class="lineno"> 1479</span>  <span class="keywordflow">if</span>(c != a || <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0) != a + 4096){</div>
<div class="line"><span class="lineno"> 1480</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk re-allocation failed, a %x c %x\n&quot;</span>, a, c);</div>
<div class="line"><span class="lineno"> 1481</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1482</span>  }</div>
<div class="line"><span class="lineno"> 1483</span>  <span class="keywordflow">if</span>(*lastaddr == 99){</div>
<div class="line"><span class="lineno"> 1484</span>    <span class="comment">// should be zero</span></div>
<div class="line"><span class="lineno"> 1485</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk de-allocation didn&#39;t really deallocate\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1486</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1487</span>  }</div>
<div class="line"><span class="lineno"> 1488</span> </div>
<div class="line"><span class="lineno"> 1489</span>  a = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0);</div>
<div class="line"><span class="lineno"> 1490</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(-(<a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0) - oldbrk));</div>
<div class="line"><span class="lineno"> 1491</span>  <span class="keywordflow">if</span>(c != a){</div>
<div class="line"><span class="lineno"> 1492</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk downsize failed, a %x c %x\n&quot;</span>, a, c);</div>
<div class="line"><span class="lineno"> 1493</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1494</span>  }</div>
<div class="line"><span class="lineno"> 1495</span> </div>
<div class="line"><span class="lineno"> 1496</span>  <span class="comment">// can we read the kernel&#39;s memory?</span></div>
<div class="line"><span class="lineno"> 1497</span>  <span class="keywordflow">for</span>(a = (<span class="keywordtype">char</span>*)(<a class="code hl_define" href="../../d8/da9/memlayout_8h.html#a20cbfc19992a40ab9ccf4aa8ab8283d0">KERNBASE</a>); a &lt; (<span class="keywordtype">char</span>*) (<a class="code hl_define" href="../../d8/da9/memlayout_8h.html#a20cbfc19992a40ab9ccf4aa8ab8283d0">KERNBASE</a>+2000000); a += 50000){</div>
<div class="line"><span class="lineno"> 1498</span>    ppid = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7">getpid</a>();</div>
<div class="line"><span class="lineno"> 1499</span>    pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno"> 1500</span>    <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno"> 1501</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1502</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1503</span>    }</div>
<div class="line"><span class="lineno"> 1504</span>    <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno"> 1505</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;oops could read %x = %x\n&quot;</span>, a, *a);</div>
<div class="line"><span class="lineno"> 1506</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(ppid);</div>
<div class="line"><span class="lineno"> 1507</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1508</span>    }</div>
<div class="line"><span class="lineno"> 1509</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1510</span>  }</div>
<div class="line"><span class="lineno"> 1511</span> </div>
<div class="line"><span class="lineno"> 1512</span>  <span class="comment">// if we run the system out of memory, does it clean up the last</span></div>
<div class="line"><span class="lineno"> 1513</span>  <span class="comment">// failed allocation?</span></div>
<div class="line"><span class="lineno"> 1514</span>  <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d8/d53/structpipe.html">pipe</a>(fds) != 0){</div>
<div class="line"><span class="lineno"> 1515</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;pipe() failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1516</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1517</span>  }</div>
<div class="line"><span class="lineno"> 1518</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(pids)/<span class="keyword">sizeof</span>(pids[0]); i++){</div>
<div class="line"><span class="lineno"> 1519</span>    <span class="keywordflow">if</span>((pids[i] = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>()) == 0){</div>
<div class="line"><span class="lineno"> 1520</span>      <span class="comment">// allocate a lot of memory</span></div>
<div class="line"><span class="lineno"> 1521</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(<a class="code hl_define" href="../../de/dc0/usertests_8c.html#a38eb76aa0a9a1bb1dac30c75be4a05b6">BIG</a> - (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>)<a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0));</div>
<div class="line"><span class="lineno"> 1522</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fds[1], <span class="stringliteral">&quot;x&quot;</span>, 1);</div>
<div class="line"><span class="lineno"> 1523</span>      <span class="comment">// sit around until killed</span></div>
<div class="line"><span class="lineno"> 1524</span>      <span class="keywordflow">for</span>(;;) <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(1000);</div>
<div class="line"><span class="lineno"> 1525</span>    }</div>
<div class="line"><span class="lineno"> 1526</span>    <span class="keywordflow">if</span>(pids[i] != -1)</div>
<div class="line"><span class="lineno"> 1527</span>      <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fds[0], &amp;scratch, 1);</div>
<div class="line"><span class="lineno"> 1528</span>  }</div>
<div class="line"><span class="lineno"> 1529</span>  <span class="comment">// if those failed allocations freed up the pages they did allocate,</span></div>
<div class="line"><span class="lineno"> 1530</span>  <span class="comment">// we&#39;ll be able to allocate here</span></div>
<div class="line"><span class="lineno"> 1531</span>  c = <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(4096);</div>
<div class="line"><span class="lineno"> 1532</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(pids)/<span class="keyword">sizeof</span>(pids[0]); i++){</div>
<div class="line"><span class="lineno"> 1533</span>    <span class="keywordflow">if</span>(pids[i] == -1)</div>
<div class="line"><span class="lineno"> 1534</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1535</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(pids[i]);</div>
<div class="line"><span class="lineno"> 1536</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1537</span>  }</div>
<div class="line"><span class="lineno"> 1538</span>  <span class="keywordflow">if</span>(c == (<span class="keywordtype">char</span>*)0xffffffff){</div>
<div class="line"><span class="lineno"> 1539</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;failed sbrk leaked memory\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1540</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1541</span>  }</div>
<div class="line"><span class="lineno"> 1542</span> </div>
<div class="line"><span class="lineno"> 1543</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0) &gt; oldbrk)</div>
<div class="line"><span class="lineno"> 1544</span>    <a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(-(<a class="code hl_function" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9">sbrk</a>(0) - oldbrk));</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;sbrk test OK\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1547</span>}</div>
<div class="ttc" id="amemlayout_8h_html_a20cbfc19992a40ab9ccf4aa8ab8283d0"><div class="ttname"><a href="../../d8/da9/memlayout_8h.html#a20cbfc19992a40ab9ccf4aa8ab8283d0">KERNBASE</a></div><div class="ttdeci">#define KERNBASE</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da9/memlayout_8h_source.html#l00008">memlayout.h:8</a></div></div>
<div class="ttc" id="atypes_8h_html_a91ad9478d81a7aaf2593e8d9c3d06a14"><div class="ttname"><a href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a></div><div class="ttdeci">unsigned int uint</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00001">types.h:1</a></div></div>
<div class="ttc" id="ausertests_8c_html_a38eb76aa0a9a1bb1dac30c75be4a05b6"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a38eb76aa0a9a1bb1dac30c75be4a05b6">BIG</a></div><div class="ttdeci">#define BIG</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_cgraph" id="ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_cgraph">
<area shape="rect" title=" " alt="" coords="5,2197,75,2222"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="454,1766,497,1791"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="919,930,972,955"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="124,829,168,854"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a939cb25a305fe68aad9b365077f1a8c7" title=" " alt="" coords="447,2171,504,2197"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="673,2222,711,2247"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="450,2323,501,2349"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="562,2373,613,2398"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="785,702,832,727"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="123,2425,169,2450"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#af9b02dd9eafa02f44aa5e354a5260bc9" title=" " alt="" coords="123,2474,169,2499"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1307,1183,1371,1209"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1781,930,1835,955"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="771,1486,846,1511"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1184,854,1249,879"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1053,1614,1111,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1050,2070,1114,2095"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="552,1842,623,1867"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="671,1385,713,1410"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1421,1183,1513,1209"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1436,1411,1499,1437"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1672,1209,1733,1234"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1561,1209,1624,1234"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2135,1411,2191,1437"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1899,1127,1958,1153"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1899,1303,1958,1329"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1883,930,1975,955"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2023,1715,2087,1741"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1177,1665,1256,1690"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1310,1715,1367,1741"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1183,1918,1250,1943"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1043,1918,1121,1943"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="761,1082,856,1107"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="777,1309,841,1334"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1035,1663,1129,1689"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="918,1285,973,1310"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="917,1334,974,1359"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="904,1133,987,1158"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1191,322,1242,347"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1304,195,1373,221"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="221,474,296,499"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1187,651,1247,677"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1193,94,1240,119"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="217,753,300,778"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="914,398,977,423"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1054,499,1110,525"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="348,1817,399,1842"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="769,499,848,525"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1038,398,1126,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="560,2323,615,2349"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_icgraph" id="ade/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,173,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a02e1ca3f4db5f4bf8a683a0b7c18cc43" name="a02e1ca3f4db5f4bf8a683a0b7c18cc43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e1ca3f4db5f4bf8a683a0b7c18cc43">&#9670;&#160;</a></span>sharedfd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sharedfd </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00465">465</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  466</span>{</div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordtype">int</span> fd, pid, i, n, nc, np;</div>
<div class="line"><span class="lineno">  468</span>  <span class="keywordtype">char</span> <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[10];</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;sharedfd test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;sharedfd&quot;</span>);</div>
<div class="line"><span class="lineno">  473</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;sharedfd&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  474</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  475</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fstests: cannot open sharedfd for writing&quot;</span>);</div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  477</span>  }</div>
<div class="line"><span class="lineno">  478</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno">  479</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#a0098886a849eef10803e9f35ceec61b9">memset</a>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, pid==0?<span class="charliteral">&#39;c&#39;</span>:<span class="charliteral">&#39;p&#39;</span>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>));</div>
<div class="line"><span class="lineno">  480</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 1000; i++){</div>
<div class="line"><span class="lineno">  481</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)) != <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)){</div>
<div class="line"><span class="lineno">  482</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fstests: write sharedfd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  483</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  484</span>    }</div>
<div class="line"><span class="lineno">  485</span>  }</div>
<div class="line"><span class="lineno">  486</span>  <span class="keywordflow">if</span>(pid == 0)</div>
<div class="line"><span class="lineno">  487</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  488</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  489</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno">  490</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  491</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;sharedfd&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  492</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  493</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;fstests: cannot open sharedfd for reading\n&quot;</span>);</div>
<div class="line"><span class="lineno">  494</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  495</span>  }</div>
<div class="line"><span class="lineno">  496</span>  nc = np = 0;</div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordflow">while</span>((n = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>))) &gt; 0){</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">for</span>(i = 0; i &lt; <span class="keyword">sizeof</span>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#ad42dafc8306f25c145c246f973b420cf">buf</a>); i++){</div>
<div class="line"><span class="lineno">  499</span>      <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[i] == <span class="charliteral">&#39;c&#39;</span>)</div>
<div class="line"><span class="lineno">  500</span>        nc++;</div>
<div class="line"><span class="lineno">  501</span>      <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[i] == <span class="charliteral">&#39;p&#39;</span>)</div>
<div class="line"><span class="lineno">  502</span>        np++;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="line"><span class="lineno">  504</span>  }</div>
<div class="line"><span class="lineno">  505</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  506</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;sharedfd&quot;</span>);</div>
<div class="line"><span class="lineno">  507</span>  <span class="keywordflow">if</span>(nc == 10000 &amp;&amp; np == 10000){</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;sharedfd ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  509</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;sharedfd oops %d %d\n&quot;</span>, nc, np);</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  512</span>  }</div>
<div class="line"><span class="lineno">  513</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_cgraph" id="ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_cgraph">
<area shape="rect" title=" " alt="" coords="5,2023,77,2049"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="127,9,180,34"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="463,1555,505,1581"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1309,243,1379,269"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="131,727,175,753"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="459,2074,509,2099"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="567,2125,618,2150"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="791,1631,837,1657"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="128,2175,179,2201"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="130,2225,177,2250"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="125,2274,181,2299"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1312,1295,1376,1321"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1787,801,1840,826"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="777,1885,851,1910"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1189,1814,1255,1839"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1059,2062,1116,2087"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1055,1043,1119,1069"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="557,1175,628,1201"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="676,1505,719,1530"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1427,1241,1519,1266"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1441,1782,1504,1807"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1677,1713,1739,1738"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1567,1662,1629,1687"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2140,1915,2196,1941"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1905,1105,1963,1130"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1905,978,1963,1003"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1888,801,1980,826"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2028,1206,2092,1231"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="924,1758,977,1783"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1183,1966,1261,1991"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1315,2017,1373,2042"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1189,1155,1255,1181"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1049,1150,1126,1175"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="767,1758,861,1783"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="782,1378,846,1403"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1040,1459,1135,1485"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="923,1302,978,1327"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="922,1454,979,1479"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="909,1018,992,1043"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1197,499,1247,525"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="233,449,308,474"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1192,598,1252,623"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1199,549,1245,574"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="229,753,312,778"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="919,297,982,322"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1059,449,1115,474"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="360,1555,411,1581"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="775,297,853,322"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1043,347,1131,373"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="565,2074,620,2099"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_icgraph" id="ade/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,176,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a5d39024e15998d6a6865f4cd0f69738b" name="a5d39024e15998d6a6865f4cd0f69738b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d39024e15998d6a6865f4cd0f69738b">&#9670;&#160;</a></span>subdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void subdir </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00935">935</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  936</span>{</div>
<div class="line"><span class="lineno">  937</span>  <span class="keywordtype">int</span> fd, cc;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;subdir test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;ff&quot;</span>);</div>
<div class="line"><span class="lineno">  942</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  943</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;subdir mkdir dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  944</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  945</span>  }</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  948</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  949</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dd/ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  950</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  951</span>  }</div>
<div class="line"><span class="lineno">  952</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;ff&quot;</span>, 2);</div>
<div class="line"><span class="lineno">  953</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd&quot;</span>) &gt;= 0){</div>
<div class="line"><span class="lineno">  956</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd (non-empty dir) succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  957</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  958</span>  }</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;/dd/dd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  961</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;subdir mkdir dd/dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  962</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  963</span>  }</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/dd/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  966</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dd/dd/ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  969</span>  }</div>
<div class="line"><span class="lineno">  970</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;FF&quot;</span>, 2);</div>
<div class="line"><span class="lineno">  971</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/dd/../ff&quot;</span>, 0);</div>
<div class="line"><span class="lineno">  974</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  975</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open dd/dd/../ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  976</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  977</span>  }</div>
<div class="line"><span class="lineno">  978</span>  cc = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>));</div>
<div class="line"><span class="lineno">  979</span>  <span class="keywordflow">if</span>(cc != 2 || <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[0] != <span class="charliteral">&#39;f&#39;</span>){</div>
<div class="line"><span class="lineno">  980</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;dd/dd/../ff wrong content\n&quot;</span>);</div>
<div class="line"><span class="lineno">  981</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  982</span>  }</div>
<div class="line"><span class="lineno">  983</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;dd/dd/ff&quot;</span>, <span class="stringliteral">&quot;dd/dd/ffff&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  986</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link dd/dd/ff dd/dd/ffff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  987</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  988</span>  }</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/dd/ff&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  991</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/dd/ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  992</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  993</span>  }</div>
<div class="line"><span class="lineno">  994</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/dd/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>) &gt;= 0){</div>
<div class="line"><span class="lineno">  995</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open (unlinked) dd/dd/ff succeeded\n&quot;</span>);</div>
<div class="line"><span class="lineno">  996</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  997</span>  }</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1000</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1001</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1002</span>  }</div>
<div class="line"><span class="lineno"> 1003</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dd/../../dd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1004</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dd/../../dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1005</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1006</span>  }</div>
<div class="line"><span class="lineno"> 1007</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dd/../../../dd&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1008</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dd/../../dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1009</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1010</span>  }</div>
<div class="line"><span class="lineno"> 1011</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;./..&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1012</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir ./.. failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1013</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1014</span>  }</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/dd/ffff&quot;</span>, 0);</div>
<div class="line"><span class="lineno"> 1017</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno"> 1018</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open dd/dd/ffff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1019</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1020</span>  }</div>
<div class="line"><span class="lineno"> 1021</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)) != 2){</div>
<div class="line"><span class="lineno"> 1022</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;read dd/dd/ffff wrong len\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1023</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1024</span>  }</div>
<div class="line"><span class="lineno"> 1025</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/dd/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1028</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open (unlinked) dd/dd/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1029</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1030</span>  }</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/ff/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1033</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dd/ff/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1034</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1035</span>  }</div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd/xx/ff&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1037</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dd/xx/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1038</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1039</span>  }</div>
<div class="line"><span class="lineno"> 1040</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1041</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create dd succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1042</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1043</span>  }</div>
<div class="line"><span class="lineno"> 1044</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1045</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open dd rdwr succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1046</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1047</span>  }</div>
<div class="line"><span class="lineno"> 1048</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;dd&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a>) &gt;= 0){</div>
<div class="line"><span class="lineno"> 1049</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open dd wronly succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1050</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1051</span>  }</div>
<div class="line"><span class="lineno"> 1052</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;dd/ff/ff&quot;</span>, <span class="stringliteral">&quot;dd/dd/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1053</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link dd/ff/ff dd/dd/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1054</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1055</span>  }</div>
<div class="line"><span class="lineno"> 1056</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;dd/xx/ff&quot;</span>, <span class="stringliteral">&quot;dd/dd/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1057</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link dd/xx/ff dd/dd/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1058</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1059</span>  }</div>
<div class="line"><span class="lineno"> 1060</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;dd/ff&quot;</span>, <span class="stringliteral">&quot;dd/dd/ffff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1061</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;link dd/ff dd/dd/ffff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1062</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1063</span>  }</div>
<div class="line"><span class="lineno"> 1064</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dd/ff/ff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1065</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir dd/ff/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1066</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1067</span>  }</div>
<div class="line"><span class="lineno"> 1068</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dd/xx/ff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1069</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir dd/xx/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1070</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1071</span>  }</div>
<div class="line"><span class="lineno"> 1072</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62">mkdir</a>(<span class="stringliteral">&quot;dd/dd/ffff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1073</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;mkdir dd/dd/ffff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1074</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1075</span>  }</div>
<div class="line"><span class="lineno"> 1076</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/xx/ff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1077</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/xx/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1078</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1079</span>  }</div>
<div class="line"><span class="lineno"> 1080</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/ff/ff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1081</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/ff/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1082</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1083</span>  }</div>
<div class="line"><span class="lineno"> 1084</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dd/ff&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1085</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dd/ff succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1086</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1087</span>  }</div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f">chdir</a>(<span class="stringliteral">&quot;dd/xx&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1089</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;chdir dd/xx succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1090</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1091</span>  }</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/dd/ffff&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1094</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/dd/ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1095</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1096</span>  }</div>
<div class="line"><span class="lineno"> 1097</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/ff&quot;</span>) != 0){</div>
<div class="line"><span class="lineno"> 1098</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/ff failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1099</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1100</span>  }</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd&quot;</span>) == 0){</div>
<div class="line"><span class="lineno"> 1102</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink non-empty dd succeeded!\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1103</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1104</span>  }</div>
<div class="line"><span class="lineno"> 1105</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd/dd&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno"> 1106</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd/dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1107</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1108</span>  }</div>
<div class="line"><span class="lineno"> 1109</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;dd&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno"> 1110</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink dd failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1111</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1112</span>  }</div>
<div class="line"><span class="lineno"> 1113</span> </div>
<div class="line"><span class="lineno"> 1114</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;subdir ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1115</span>}</div>
<div class="ttc" id="afcntl_8h_html_a11b644a8526139c4cc1850dac1271ced"><div class="ttname"><a href="../../d7/d9f/fcntl_8h.html#a11b644a8526139c4cc1850dac1271ced">O_WRONLY</a></div><div class="ttdeci">#define O_WRONLY</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d9f/fcntl_8h_source.html#l00002">fcntl.h:2</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_cgraph" id="ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_cgraph">
<area shape="rect" title=" " alt="" coords="5,1689,63,1714"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#aebe305544f2eb0cf2c4a4f8b4c12bc0f" title=" " alt="" coords="113,1465,164,1490"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="112,1514,165,1539"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="117,1563,160,1589"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="117,1614,160,1639"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a034fad25eff1c559bf33767e574d1d62" title=" " alt="" coords="111,1663,166,1689"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="113,1713,164,1738"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="113,1762,164,1787"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="225,1813,275,1838"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="115,1863,162,1889"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="111,1913,167,1938"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1192,1158,1256,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1675,854,1728,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="649,1259,723,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1061,1867,1127,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="931,1614,988,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="927,322,991,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="215,575,285,601"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="333,727,376,753"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1315,1107,1407,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1329,1639,1392,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1565,1703,1627,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1455,1766,1517,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2028,1627,2084,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1793,1259,1851,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1793,854,1851,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1776,753,1868,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1916,601,1980,626"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="796,1310,849,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1055,1715,1133,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1195,1513,1253,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1181,1614,1267,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1318,1867,1403,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1061,499,1127,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="921,398,998,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="639,1361,733,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="424,727,488,753"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="912,550,1007,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="536,854,591,879"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="781,751,864,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="794,702,851,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1057,601,1131,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="659,905,713,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="912,1107,1007,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1069,398,1119,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1189,449,1259,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="223,1763,277,1789"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_icgraph" id="ade/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,161,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a6888f9f6d973f81f73091d1530ad212b" name="a6888f9f6d973f81f73091d1530ad212b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6888f9f6d973f81f73091d1530ad212b">&#9670;&#160;</a></span>uio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01699">1699</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1700</span>{</div>
<div class="line"><span class="lineno"> 1701</span><span class="preprocessor">  #define RTC_ADDR 0x70</span></div>
<div class="line"><span class="lineno"> 1702</span><span class="preprocessor">  #define RTC_DATA 0x71</span></div>
<div class="line"><span class="lineno"> 1703</span> </div>
<div class="line"><span class="lineno"> 1704</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#ab95f123a6c9bcfee6a343170ef8c5f69">ushort</a> port = 0;</div>
<div class="line"><span class="lineno"> 1705</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a> val = 0;</div>
<div class="line"><span class="lineno"> 1706</span>  <span class="keywordtype">int</span> pid;</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;uio test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1709</span>  pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>();</div>
<div class="line"><span class="lineno"> 1710</span>  <span class="keywordflow">if</span>(pid == 0){</div>
<div class="line"><span class="lineno"> 1711</span>    port = <a class="code hl_define" href="../../de/dc0/usertests_8c.html#a6ee8e8390002b24c20c7a1c64bc2c7ac">RTC_ADDR</a>;</div>
<div class="line"><span class="lineno"> 1712</span>    val = 0x09;  <span class="comment">/* year */</span></div>
<div class="line"><span class="lineno"> 1713</span>    <span class="comment">/* http://wiki.osdev.org/Inline_Assembly/Examples */</span></div>
<div class="line"><span class="lineno"> 1714</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;outb %0,%1&quot;</span>::<span class="stringliteral">&quot;a&quot;</span>(val), <span class="stringliteral">&quot;d&quot;</span> (port));</div>
<div class="line"><span class="lineno"> 1715</span>    port = <a class="code hl_define" href="../../de/dc0/usertests_8c.html#aa6e7096882c10a7c82c33f3589694b6e">RTC_DATA</a>;</div>
<div class="line"><span class="lineno"> 1716</span>    <span class="keyword">asm</span> <span class="keyword">volatile</span>(<span class="stringliteral">&quot;inb %1,%0&quot;</span> : <span class="stringliteral">&quot;=a&quot;</span> (val) : <span class="stringliteral">&quot;d&quot;</span> (port));</div>
<div class="line"><span class="lineno"> 1717</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;uio: uio succeeded; test FAILED\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1718</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1719</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(pid &lt; 0){</div>
<div class="line"><span class="lineno"> 1720</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a> (1, <span class="stringliteral">&quot;fork failed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1721</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1722</span>  }</div>
<div class="line"><span class="lineno"> 1723</span>  <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1724</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;uio test done\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1725</span>}</div>
<div class="ttc" id="atypes_8h_html_a65f85814a8290f9797005d3b28e7e5fc"><div class="ttname"><a href="../../d9/d49/types_8h.html#a65f85814a8290f9797005d3b28e7e5fc">uchar</a></div><div class="ttdeci">unsigned char uchar</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d49/types_8h_source.html#l00003">types.h:3</a></div></div>
<div class="ttc" id="ausertests_8c_html_a6ee8e8390002b24c20c7a1c64bc2c7ac"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a6ee8e8390002b24c20c7a1c64bc2c7ac">RTC_ADDR</a></div><div class="ttdeci">#define RTC_ADDR</div></div>
<div class="ttc" id="ausertests_8c_html_aa6e7096882c10a7c82c33f3589694b6e"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#aa6e7096882c10a7c82c33f3589694b6e">RTC_DATA</a></div><div class="ttdeci">#define RTC_DATA</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_cgraph" id="ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_cgraph">
<area shape="rect" title=" " alt="" coords="5,2161,44,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="417,1225,460,1250"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="92,1970,136,1996"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="413,2390,464,2416"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="745,2085,792,2110"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1275,1250,1339,1276"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1757,1276,1811,1301"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="731,1301,806,1326"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1144,2364,1209,2389"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1013,1808,1071,1833"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1010,896,1074,921"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="512,1098,583,1124"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="631,946,673,972"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1397,1225,1489,1250"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1412,2161,1475,2186"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1648,2009,1709,2034"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1537,2060,1600,2085"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2111,2313,2167,2338"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1875,1806,1934,1832"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1875,958,1934,984"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1859,1276,1951,1301"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1999,566,2063,592"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="879,1554,932,1580"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1137,1960,1216,1985"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1278,1702,1335,1728"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1264,1804,1349,1829"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1401,1958,1486,1984"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1143,896,1210,921"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1003,1098,1081,1124"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="721,1200,816,1225"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="737,640,801,665"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="995,845,1089,870"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="878,538,933,564"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="877,741,934,766"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1139,642,1214,668"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="864,489,947,514"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1151,2112,1202,2137"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1272,2212,1341,2237"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="188,1946,263,1972"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1147,490,1207,516"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1153,136,1200,161"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="184,1996,267,2021"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="874,1857,937,1882"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1014,2009,1070,2034"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="315,2060,365,2085"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="729,1946,808,1972"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="998,1857,1086,1882"/>
<area shape="rect" href="../../df/d5d/umalloc_8c.html#adebb229f063e66907017098087cbe791" title=" " alt="" coords="417,2110,461,2136"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="520,2365,575,2390"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="522,2414,573,2440"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_icgraph" id="ade/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,143,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a3331ced6fb67502a2e5277260d4f5aec" name="a3331ced6fb67502a2e5277260d4f5aec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3331ced6fb67502a2e5277260d4f5aec">&#9670;&#160;</a></span>unlinkread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unlinkread </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00657">657</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  658</span>{</div>
<div class="line"><span class="lineno">  659</span>  <span class="keywordtype">int</span> fd, fd1;</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinkread test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  662</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;unlinkread&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  663</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  664</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;create unlinkread failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  665</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  666</span>  }</div>
<div class="line"><span class="lineno">  667</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;hello&quot;</span>, 5);</div>
<div class="line"><span class="lineno">  668</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;unlinkread&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  671</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  672</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;open unlinkread failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  673</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  674</span>  }</div>
<div class="line"><span class="lineno">  675</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;unlinkread&quot;</span>) != 0){</div>
<div class="line"><span class="lineno">  676</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlink unlinkread failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  677</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  678</span>  }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  fd1 = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;unlinkread&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a> | <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  681</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd1, <span class="stringliteral">&quot;yyy&quot;</span>, 3);</div>
<div class="line"><span class="lineno">  682</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd1);</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)) != 5){</div>
<div class="line"><span class="lineno">  685</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinkread read failed&quot;</span>);</div>
<div class="line"><span class="lineno">  686</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  687</span>  }</div>
<div class="line"><span class="lineno">  688</span>  <span class="keywordflow">if</span>(<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>[0] != <span class="charliteral">&#39;h&#39;</span>){</div>
<div class="line"><span class="lineno">  689</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinkread wrong data\n&quot;</span>);</div>
<div class="line"><span class="lineno">  690</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  691</span>  }</div>
<div class="line"><span class="lineno">  692</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 10) != 10){</div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinkread write failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  694</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  695</span>  }</div>
<div class="line"><span class="lineno">  696</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  697</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;unlinkread&quot;</span>);</div>
<div class="line"><span class="lineno">  698</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(1, <span class="stringliteral">&quot;unlinkread ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  699</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_cgraph" id="ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_cgraph">
<area shape="rect" title=" " alt="" coords="5,1815,87,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="136,1387,189,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="141,1437,184,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="137,1766,188,1791"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="137,1815,188,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="249,1866,299,1891"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="139,1917,186,1942"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="135,1966,191,1991"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1216,1158,1280,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1699,854,1752,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="673,1259,747,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1085,1867,1151,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="955,1614,1012,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="951,322,1015,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="239,587,309,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="357,726,400,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1339,1107,1431,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1353,1639,1416,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1589,1703,1651,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1479,1766,1541,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2052,1627,2108,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1817,1259,1875,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1817,854,1875,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1800,753,1892,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1940,575,2004,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="820,1310,873,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1079,1715,1157,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1219,1513,1277,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1205,1614,1291,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1342,1867,1427,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1085,499,1151,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="945,398,1022,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="663,1361,757,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="448,726,512,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="936,550,1031,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="560,853,615,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="805,751,888,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="818,702,875,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1081,601,1155,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="683,905,737,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="936,1107,1031,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1093,398,1143,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1213,449,1283,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="247,1817,301,1842"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_icgraph" id="ade/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,185,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a426d02dfb5155266933466f604bed0b2" name="a426d02dfb5155266933466f604bed0b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426d02dfb5155266933466f604bed0b2">&#9670;&#160;</a></span>validateint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void validateint </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01550">1550</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1551</span>{</div>
<div class="line"><span class="lineno"> 1552</span>  <span class="keywordtype">int</span> res;</div>
<div class="line"><span class="lineno"> 1553</span>  <span class="keyword">asm</span>(<span class="stringliteral">&quot;mov %%esp, %%ebx\n\t&quot;</span></div>
<div class="line"><span class="lineno"> 1554</span>      <span class="stringliteral">&quot;mov %3, %%esp\n\t&quot;</span></div>
<div class="line"><span class="lineno"> 1555</span>      <span class="stringliteral">&quot;int %2\n\t&quot;</span></div>
<div class="line"><span class="lineno"> 1556</span>      <span class="stringliteral">&quot;mov %%ebx, %%esp&quot;</span> :</div>
<div class="line"><span class="lineno"> 1557</span>      <span class="stringliteral">&quot;=a&quot;</span> (res) :</div>
<div class="line"><span class="lineno"> 1558</span>      <span class="stringliteral">&quot;a&quot;</span> (<a class="code hl_define" href="../../de/ddf/syscall_8h.html#a77eac7fe66c659f7731cda964a7ce3dc">SYS_sleep</a>), <span class="stringliteral">&quot;n&quot;</span> (<a class="code hl_define" href="../../d5/d98/traps_8h.html#a6914c7173b6fe6d04e78d0876e39d95e">T_SYSCALL</a>), <span class="stringliteral">&quot;c&quot;</span> (p) :</div>
<div class="line"><span class="lineno"> 1559</span>      <span class="stringliteral">&quot;ebx&quot;</span>);</div>
<div class="line"><span class="lineno"> 1560</span>}</div>
<div class="ttc" id="asyscall_8h_html_a77eac7fe66c659f7731cda964a7ce3dc"><div class="ttname"><a href="../../de/ddf/syscall_8h.html#a77eac7fe66c659f7731cda964a7ce3dc">SYS_sleep</a></div><div class="ttdeci">#define SYS_sleep</div><div class="ttdef"><b>Definition:</b> <a href="../../de/ddf/syscall_8h_source.html#l00014">syscall.h:14</a></div></div>
<div class="ttc" id="atraps_8h_html_a6914c7173b6fe6d04e78d0876e39d95e"><div class="ttname"><a href="../../d5/d98/traps_8h.html#a6914c7173b6fe6d04e78d0876e39d95e">T_SYSCALL</a></div><div class="ttdeci">#define T_SYSCALL</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d98/traps_8h_source.html#l00027">traps.h:27</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a426d02dfb5155266933466f604bed0b2_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a426d02dfb5155266933466f604bed0b2_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a426d02dfb5155266933466f604bed0b2_icgraph" id="ade/dc0/usertests_8c_a426d02dfb5155266933466f604bed0b2_icgraph">
<area shape="rect" title=" " alt="" coords="241,5,323,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a98d8496ecb698b9400831f2718d805c3" title=" " alt="" coords="104,5,193,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a98d8496ecb698b9400831f2718d805c3" name="a98d8496ecb698b9400831f2718d805c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d8496ecb698b9400831f2718d805c3">&#9670;&#160;</a></span>validatetest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void validatetest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01563">1563</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1564</span>{</div>
<div class="line"><span class="lineno"> 1565</span>  <span class="keywordtype">int</span> hi, pid;</div>
<div class="line"><span class="lineno"> 1566</span>  <a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a> p;</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;validate test\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1569</span>  hi = 1100*1024;</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>  <span class="keywordflow">for</span>(p = 0; p &lt;= (<a class="code hl_typedef" href="../../d9/d49/types_8h.html#a91ad9478d81a7aaf2593e8d9c3d06a14">uint</a>)hi; p += 4096){</div>
<div class="line"><span class="lineno"> 1572</span>    <span class="keywordflow">if</span>((pid = <a class="code hl_function" href="../../d5/d64/defs_8h.html#acd2e1ded4bb6fce4500438bf928330f4">fork</a>()) == 0){</div>
<div class="line"><span class="lineno"> 1573</span>      <span class="comment">// try to crash the kernel by passing in a badly placed integer</span></div>
<div class="line"><span class="lineno"> 1574</span>      <a class="code hl_function" href="../../de/dc0/usertests_8c.html#a426d02dfb5155266933466f604bed0b2">validateint</a>((<span class="keywordtype">int</span>*)p);</div>
<div class="line"><span class="lineno"> 1575</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1576</span>    }</div>
<div class="line"><span class="lineno"> 1577</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(0);</div>
<div class="line"><span class="lineno"> 1578</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aca4a88f06b3ebbcc04330f7ae06c8507">sleep</a>(0);</div>
<div class="line"><span class="lineno"> 1579</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#ab893e9671d6bfe2b2604002a50639f21">kill</a>(pid);</div>
<div class="line"><span class="lineno"> 1580</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#af6f31822f7e737b4e414bdac1ccb59a4">wait</a>();</div>
<div class="line"><span class="lineno"> 1581</span> </div>
<div class="line"><span class="lineno"> 1582</span>    <span class="comment">// try to crash the kernel by passing in a bad string pointer</span></div>
<div class="line"><span class="lineno"> 1583</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828">link</a>(<span class="stringliteral">&quot;nosuchfile&quot;</span>, (<span class="keywordtype">char</span>*)p) != -1){</div>
<div class="line"><span class="lineno"> 1584</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;link should not succeed\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1585</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno"> 1586</span>    }</div>
<div class="line"><span class="lineno"> 1587</span>  }</div>
<div class="line"><span class="lineno"> 1588</span> </div>
<div class="line"><span class="lineno"> 1589</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;validate ok\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1590</span>}</div>
<div class="ttc" id="ausertests_8c_html_a426d02dfb5155266933466f604bed0b2"><div class="ttname"><a href="../../de/dc0/usertests_8c.html#a426d02dfb5155266933466f604bed0b2">validateint</a></div><div class="ttdeci">void validateint(int *p)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dc0/usertests_8c_source.html#l01550">usertests.c:1550</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_cgraph" id="ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,1842,95,1867"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="505,1501,548,1526"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="967,1918,1020,1943"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#acd2e1ded4bb6fce4500438bf928330f4" title=" " alt="" coords="161,657,205,682"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a650cf0caaaa8b75f653c1c92818d03a4" title=" " alt="" coords="721,246,759,271"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="501,1969,552,1994"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#af6f31822f7e737b4e414bdac1ccb59a4" title=" " alt="" coords="833,1411,880,1437"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a9f0ffa429d1a466322fb9b5bb084f828" title=" " alt="" coords="162,2019,205,2045"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a426d02dfb5155266933466f604bed0b2" title=" " alt="" coords="143,2069,224,2094"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1355,1259,1419,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1829,930,1883,955"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="819,1639,894,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1232,1867,1297,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="1101,2121,1159,2146"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="1098,917,1162,942"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="600,1107,671,1133"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="719,1665,761,1690"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1469,1158,1561,1183"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1484,1665,1547,1690"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1720,1462,1781,1487"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1609,1411,1672,1437"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2183,2070,2239,2095"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1947,1183,2006,1209"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1947,1107,2006,1133"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1931,930,2023,955"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="2071,1665,2135,1690"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1225,1969,1304,1994"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1358,2019,1415,2045"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1231,1259,1298,1285"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="1091,1209,1169,1234"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="809,2019,904,2045"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="825,1590,889,1615"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="1083,1614,1177,1639"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="966,1766,1021,1791"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="965,1614,1022,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1227,1715,1302,1741"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="952,1462,1035,1487"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1239,499,1290,525"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1352,449,1421,474"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1b57bfa0091c9be3ccc16dbb85ce3acf" title=" " alt="" coords="276,601,351,626"/>
<area shape="rect" href="../../d6/d13/file_8c.html#a9ef0346d08d8ed79ce2a9c03f9a4b4b2" title=" " alt="" coords="1235,94,1295,119"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a24a91383ab80b4b8a1ef1f4df896035c" title=" " alt="" coords="1241,145,1288,170"/>
<area shape="rect" href="../../d1/db0/string_8c.html#aca73516e4b2fdb2663e0d26f855ac3ca" title=" " alt="" coords="272,765,355,790"/>
<area shape="rect" href="../../de/de9/vm_8c.html#aa883924e2f068c520b695cdc168e1603" title=" " alt="" coords="962,651,1025,677"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#a5e965f6365c721b5b23c12d16d45c3dc" title=" " alt="" coords="1102,398,1158,423"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#aa1c6e6e76813ccb29a29bb119dba668a" title=" " alt="" coords="403,1349,453,1374"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a1c8a7a02e9391b5cf0984388216695c0" title=" " alt="" coords="817,385,896,410"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a6d3019ea15a9bfdc5131ae97f3623c49" title=" " alt="" coords="1086,651,1174,677"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="608,2018,663,2043"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="610,1969,661,1994"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_icgraph" id="ade/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,193,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a3a007a46ea6310b39a233e45d439f11a" name="a3a007a46ea6310b39a233e45d439f11a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a007a46ea6310b39a233e45d439f11a">&#9670;&#160;</a></span>writetest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writetest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00139">139</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>{</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordtype">int</span> fd;</div>
<div class="line"><span class="lineno">  142</span>  <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;small file test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  145</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;small&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  146</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;creat small succeeded; ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  148</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  149</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: creat small failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  150</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  151</span>  }</div>
<div class="line"><span class="lineno">  152</span>  <span class="keywordflow">for</span>(i = 0; i &lt; 100; i++){</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;aaaaaaaaaa&quot;</span>, 10) != 10){</div>
<div class="line"><span class="lineno">  154</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: write aa %d new file failed\n&quot;</span>, i);</div>
<div class="line"><span class="lineno">  155</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  156</span>    }</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <span class="stringliteral">&quot;bbbbbbbbbb&quot;</span>, 10) != 10){</div>
<div class="line"><span class="lineno">  158</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: write bb %d new file failed\n&quot;</span>, i);</div>
<div class="line"><span class="lineno">  159</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  160</span>    }</div>
<div class="line"><span class="lineno">  161</span>  }</div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;writes ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  163</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  164</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;small&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">if</span>(fd &gt;= 0){</div>
<div class="line"><span class="lineno">  166</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;open small succeeded ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  167</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: open small failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  169</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  170</span>  }</div>
<div class="line"><span class="lineno">  171</span>  i = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 2000);</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordflow">if</span>(i == 2000){</div>
<div class="line"><span class="lineno">  173</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;read succeeded ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  174</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;read failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  177</span>  }</div>
<div class="line"><span class="lineno">  178</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;small&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink small failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  183</span>  }</div>
<div class="line"><span class="lineno">  184</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;small file test ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  185</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_cgraph" id="ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_cgraph">
<area shape="rect" title=" " alt="" coords="5,1815,77,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="127,1387,180,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="132,1437,175,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="128,1766,179,1791"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="128,1815,179,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="239,1866,290,1891"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="130,1917,177,1942"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="125,1966,181,1991"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1207,1158,1271,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1689,854,1743,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="663,1259,738,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1076,1867,1141,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="945,1614,1003,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="942,322,1006,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="229,587,300,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="348,726,391,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1329,1107,1421,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1344,1639,1407,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1580,1703,1641,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1469,1766,1532,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2043,1627,2099,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1807,1259,1866,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1807,854,1866,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1791,753,1883,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1931,575,1995,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="811,1310,864,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1069,1715,1148,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1210,1513,1267,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1196,1614,1281,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1333,1867,1418,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1075,499,1142,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="935,398,1013,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="653,1361,748,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="439,726,503,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="927,550,1021,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="551,853,605,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="796,751,879,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="809,702,866,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1071,601,1146,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="674,905,727,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="927,1107,1021,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1083,398,1134,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1204,449,1273,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="237,1817,292,1842"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_icgraph" id="ade/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,176,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a48ac3cbd37dcf4c4e08b0572b3a0e9f3" name="a48ac3cbd37dcf4c4e08b0572b3a0e9f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ac3cbd37dcf4c4e08b0572b3a0e9f3">&#9670;&#160;</a></span>writetest1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void writetest1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00188">188</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  189</span>{</div>
<div class="line"><span class="lineno">  190</span>  <span class="keywordtype">int</span> i, fd, n;</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;big files test\n&quot;</span>);</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;big&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#ab40a23079c3b9a7e25ffdc8108c7fb02">O_CREATE</a>|<a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#abb0586253488ee61072b73557eeb873b">O_RDWR</a>);</div>
<div class="line"><span class="lineno">  195</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  196</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: creat big failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  197</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  198</span>  }</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">for</span>(i = 0; i &lt; <a class="code hl_define" href="../../df/d26/fs_8h.html#a714b2485a6dd312e37226e1f833728a9">MAXFILE</a>; i++){</div>
<div class="line"><span class="lineno">  201</span>    ((<span class="keywordtype">int</span>*)<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)[0] = i;</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe">write</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 512) != 512){</div>
<div class="line"><span class="lineno">  203</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: write big file failed\n&quot;</span>, i);</div>
<div class="line"><span class="lineno">  204</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  205</span>    }</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  fd = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07">open</a>(<span class="stringliteral">&quot;big&quot;</span>, <a class="code hl_define" href="../../d7/d9f/fcntl_8h.html#a7a68c9ffaac7dbcd652225dd7c06a54b">O_RDONLY</a>);</div>
<div class="line"><span class="lineno">  211</span>  <span class="keywordflow">if</span>(fd &lt; 0){</div>
<div class="line"><span class="lineno">  212</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;error: open big failed!\n&quot;</span>);</div>
<div class="line"><span class="lineno">  213</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  214</span>  }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>  n = 0;</div>
<div class="line"><span class="lineno">  217</span>  <span class="keywordflow">for</span>(;;){</div>
<div class="line"><span class="lineno">  218</span>    i = <a class="code hl_function" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77">read</a>(fd, <a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>, 512);</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span>(i == 0){</div>
<div class="line"><span class="lineno">  220</span>      <span class="keywordflow">if</span>(n == <a class="code hl_define" href="../../df/d26/fs_8h.html#a714b2485a6dd312e37226e1f833728a9">MAXFILE</a> - 1){</div>
<div class="line"><span class="lineno">  221</span>        <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;read only %d blocks from big&quot;</span>, n);</div>
<div class="line"><span class="lineno">  222</span>        <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  223</span>      }</div>
<div class="line"><span class="lineno">  224</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  225</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>(i != 512){</div>
<div class="line"><span class="lineno">  226</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;read failed %d\n&quot;</span>, i);</div>
<div class="line"><span class="lineno">  227</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  228</span>    }</div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">if</span>(((<span class="keywordtype">int</span>*)<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)[0] != n){</div>
<div class="line"><span class="lineno">  230</span>      <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;read content of block %d is %d\n&quot;</span>,</div>
<div class="line"><span class="lineno">  231</span>             n, ((<span class="keywordtype">int</span>*)<a class="code hl_struct" href="../../d9/dd0/structbuf.html">buf</a>)[0]);</div>
<div class="line"><span class="lineno">  232</span>      <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span>    n++;</div>
<div class="line"><span class="lineno">  235</span>  }</div>
<div class="line"><span class="lineno">  236</span>  <a class="code hl_function" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0">close</a>(fd);</div>
<div class="line"><span class="lineno">  237</span>  <span class="keywordflow">if</span>(<a class="code hl_function" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4">unlink</a>(<span class="stringliteral">&quot;big&quot;</span>) &lt; 0){</div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;unlink big failed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  239</span>    <a class="code hl_function" href="../../d5/d64/defs_8h.html#aaf98ef7cdde3a0dfb2e49919de3298b1">exit</a>();</div>
<div class="line"><span class="lineno">  240</span>  }</div>
<div class="line"><span class="lineno">  241</span>  <a class="code hl_function" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4">printf</a>(<a class="code hl_variable" href="../../de/dc0/usertests_8c.html#adc9da8a05ab98e52153fe99402f93613">stdout</a>, <span class="stringliteral">&quot;big files ok\n&quot;</span>);</div>
<div class="line"><span class="lineno">  242</span>}</div>
<div class="ttc" id="afs_8h_html_a714b2485a6dd312e37226e1f833728a9"><div class="ttname"><a href="../../df/d26/fs_8h.html#a714b2485a6dd312e37226e1f833728a9">MAXFILE</a></div><div class="ttdeci">#define MAXFILE</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d26/fs_8h_source.html#l00026">fs.h:26</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_cgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_cgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_cgraph" id="ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_cgraph">
<area shape="rect" title=" " alt="" coords="5,1815,84,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae152484c890a24e4d9b4980e7b965be0" title=" " alt="" coords="133,1387,187,1413"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#aaf98ef7cdde3a0dfb2e49919de3298b1" title=" " alt="" coords="139,1437,181,1462"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2c4414339f388561554c2deab11a1a07" title=" " alt="" coords="135,1766,185,1791"/>
<area shape="rect" href="../../d5/de1/forktest_8c.html#a249680925885256274fa9f02dd51cec4" title=" " alt="" coords="135,1815,185,1841"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#ae57e95d717eb7386cd8b935a0c136abe" title=" " alt="" coords="246,1866,297,1891"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a2d73522d6354b8a141ecfaa9585a0c77" title=" " alt="" coords="137,1917,183,1942"/>
<area shape="rect" href="../../d8/ddb/user_8h.html#a4ade26dbdb332f64c44daf49ba949ff4" title=" " alt="" coords="132,1966,188,1991"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aed377f16a085b00de3a4b32392adbdfb" title=" " alt="" coords="1213,1158,1277,1183"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a95c0aca5d6d7487933984f08b189917a" title=" " alt="" coords="1696,854,1749,879"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac96aa31ffc0500e749c62c4d377c21c9" title=" " alt="" coords="670,1259,745,1285"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a41af0935f3989aae450cf8988cd9c3a9" title=" " alt="" coords="1083,1867,1148,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad788da91743c333b5bed7c4a0dd12365" title=" " alt="" coords="952,1614,1009,1639"/>
<area shape="rect" href="../../d7/df8/log_8c.html#ac0f12be0ca0de555e60b27b06a57a65b" title=" " alt="" coords="949,322,1013,347"/>
<area shape="rect" href="../../d6/d13/file_8c.html#ae557c81ab89c24219146144bb6adaa2c" title=" " alt="" coords="236,587,307,613"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#ab3c447f135c68e4c3c1f8d5866f6e77b" title=" " alt="" coords="355,726,397,751"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a6ac35304ea80f01086b47edcc2328010" title=" " alt="" coords="1336,1107,1428,1133"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#aea48df3e5cfb903179ad3dc78ab502d9" title=" " alt="" coords="1351,1639,1413,1665"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ad427959ad025dabd8cd393b27ec39160" title=" " alt="" coords="1587,1703,1648,1729"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a206b749d1b7768dadce61cbcde7e0f1c" title=" " alt="" coords="1476,1766,1539,1791"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#ae3424f669269fef400ce29c3aeb43fdb" title=" " alt="" coords="2049,1627,2105,1653"/>
<area shape="rect" href="../../dc/df6/lapic_8c.html#a627f7996b64f99d885244a5102c85164" title=" " alt="" coords="1814,1259,1873,1285"/>
<area shape="rect" href="../../d0/d56/console_8c.html#a90f0742d846503e4ed1804f1df421ec6" title=" " alt="" coords="1814,854,1873,879"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a4105de9e2969515d6c6c795c4386f69f" title=" " alt="" coords="1797,753,1889,778"/>
<area shape="rect" href="../../d3/d2d/spinlock_8c.html#a1cee376aa9a00e754bf5481cd5f3d97b" title=" " alt="" coords="1937,575,2001,601"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#ae70cc0370342e46f6db3bec367232457" title=" " alt="" coords="817,1310,871,1335"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a9fa00b0be5d3c4781048861e2506eb63" title=" " alt="" coords="1076,1715,1155,1741"/>
<area shape="rect" href="../../d5/d64/defs_8h.html#a1d9e7047d3dfb57809a2541d8387705e" title=" " alt="" coords="1217,1513,1274,1538"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a02ca0670bc1fe12e38453082631ff360" title=" " alt="" coords="1203,1614,1288,1639"/>
<area shape="rect" href="../../de/de9/vm_8c.html#a87c90f0ab2a1b11c2b55f4e483bb8493" title=" " alt="" coords="1339,1867,1425,1893"/>
<area shape="rect" href="../../d3/dda/proc_8c.html#a4a34d9f03e436cfa09b88f735f6ee952" title=" " alt="" coords="1082,499,1149,525"/>
<area shape="rect" href="../../d1/d47/pipe_8c.html#a48642f54734698f6f881ee07723292cb" title=" " alt="" coords="942,398,1019,423"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aaad2d7a86d4859982dd9a132f5128ff2" title=" " alt="" coords="660,1361,755,1386"/>
<area shape="rect" href="../../d2/d5a/fs_8c.html#a7220afa8e5f4bea540eb95879ea7df6e" title=" " alt="" coords="445,726,509,751"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#aa997067c2c9bfef15af6fa0a10c20f4a" title=" " alt="" coords="933,550,1028,575"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#a30b8d2ef2300ed8e3d879a428fe39898" title=" " alt="" coords="557,853,612,878"/>
<area shape="rect" href="../../d1/db0/string_8c.html#a07f97e2ed1ce37955192d52de8f4911f" title=" " alt="" coords="803,751,885,777"/>
<area shape="rect" href="../../dc/de6/bio_8c.html#ab5335aeb503731104314321a78a6d727" title=" " alt="" coords="815,702,873,727"/>
<area shape="rect" href="../../d7/df8/log_8c.html#a7eacb0fbebe5ce4c7d3ddea15908b13d" title=" " alt="" coords="1078,601,1153,626"/>
<area shape="rect" href="../../da/d9b/memide_8c.html#a7f36b008f02088c86f76e98e05b55af5" title=" " alt="" coords="681,905,734,930"/>
<area shape="rect" href="../../d8/dd1/sleeplock_8c.html#a6fdbe54cbecd8fc67d74793b27adcf05" title=" " alt="" coords="933,1107,1028,1133"/>
<area shape="rect" href="../../d4/def/kalloc_8c.html#aced59ecf8411235f6dffc065236711a5" title=" " alt="" coords="1090,398,1141,423"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#aa9cdc2409c15ccd5ee3b2031576f4093" title=" " alt="" coords="1211,449,1280,474"/>
<area shape="rect" href="../../db/d8a/ulib_8c.html#a59b5e6e6105ef0e97aed266ec6fdfe60" title=" " alt="" coords="244,1817,299,1842"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_icgraph.png" border="0" usemap="#ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_icgraph" alt=""/></div>
<map name="ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_icgraph" id="ade/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_icgraph">
<area shape="rect" title=" " alt="" coords="104,5,183,31"/>
<area shape="rect" href="../../de/dc0/usertests_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title=" " alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad42dafc8306f25c145c246f973b420cf" name="ad42dafc8306f25c145c246f973b420cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad42dafc8306f25c145c246f973b420cf">&#9670;&#160;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char <a class="el" href="../../d9/dd0/structbuf.html">buf</a>[8192]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00011">11</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
<a id="ac75529abacd59858a9ff6165253d14ca" name="ac75529abacd59858a9ff6165253d14ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75529abacd59858a9ff6165253d14ca">&#9670;&#160;</a></span>echoargv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* echoargv[] = { &quot;echo&quot;, &quot;ALL&quot;, &quot;TESTS&quot;, &quot;PASSED&quot;, 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00013">13</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
<a id="aee754febd402311e2a552cb0d6ab6629" name="aee754febd402311e2a552cb0d6ab6629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee754febd402311e2a552cb0d6ab6629">&#9670;&#160;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char name[3]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00012">12</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
<a id="af0bd27c045c0317df893912a0142b21a" name="af0bd27c045c0317df893912a0142b21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bd27c045c0317df893912a0142b21a">&#9670;&#160;</a></span>randstate</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long randstate = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01740">1740</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
<a id="adc9da8a05ab98e52153fe99402f93613" name="adc9da8a05ab98e52153fe99402f93613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9da8a05ab98e52153fe99402f93613">&#9670;&#160;</a></span>stdout</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int stdout = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l00014">14</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
<a id="a7def0d79bfddb934aaf3fe627c97daf3" name="a7def0d79bfddb934aaf3fe627c97daf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7def0d79bfddb934aaf3fe627c97daf3">&#9670;&#160;</a></span>uninit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char uninit[10000]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../de/dc0/usertests_8c_source.html#l01593">1593</a> of file <a class="el" href="../../de/dc0/usertests_8c_source.html">usertests.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
