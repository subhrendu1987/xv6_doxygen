\hypertarget{usertests_8c}{}\doxysection{usertests.\+c File Reference}
\label{usertests_8c}\index{usertests.c@{usertests.c}}
{\ttfamily \#include \char`\"{}param.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}stat.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}user.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}fcntl.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}syscall.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}traps.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}memlayout.\+h\char`\"{}}\newline
Include dependency graph for usertests.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dac/usertests_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}{BIG}}~(100$\ast$1024$\ast$1024)
\item 
\#define \mbox{\hyperlink{usertests_8c_a6ee8e8390002b24c20c7a1c64bc2c7ac}{RTC\+\_\+\+ADDR}}~0x70
\item 
\#define \mbox{\hyperlink{usertests_8c_aa6e7096882c10a7c82c33f3589694b6e}{RTC\+\_\+\+DATA}}~0x71
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6}{iputtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a8faab06cc4d48335076b368f02709ee2}{exitiputtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7}{openiputtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07}{opentest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a3a007a46ea6310b39a233e45d439f11a}{writetest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3}{writetest1}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a6773439702f38f3835fb6195f77e001c}{createtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c}{dirtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a6f94e3b215d069b5419e87bafe80799a}{exectest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49}{pipe1}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a026b8c4ab2cb9af17e1c20d533981604}{preempt}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f}{exitwait}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43}{sharedfd}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6}{fourfiles}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf}{createdelete}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a3331ced6fb67502a2e5277260d4f5aec}{unlinkread}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608}{linktest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2}{concreate}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a1740f29f4ce6d3060fd79a9312edc315}{linkunlink}} ()
\item 
void \mbox{\hyperlink{usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a}{bigdir}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a5d39024e15998d6a6865f4cd0f69738b}{subdir}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a57e55b2d0161d62bb99765ca3de43e35}{bigwrite}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a86fe524d99d69c18a335512cf3405b31}{bigfile}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_abf4af50e65630225208fef177e267efb}{fourteen}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013}{rmdot}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f}{dirfile}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a267227083b00d0cc3141b34f5152ae04}{iref}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c}{forktest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a06636ed0cda58c748d68e82d33d1afce}{sbrktest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a426d02dfb5155266933466f604bed0b2}{validateint}} (int $\ast$p)
\item 
void \mbox{\hyperlink{usertests_8c_a98d8496ecb698b9400831f2718d805c3}{validatetest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7}{bsstest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_ac5b5d4517586be6396b4f3b37445945a}{bigargtest}} (void)
\item 
void \mbox{\hyperlink{usertests_8c_a37568127a326729b0576444a4a4509e1}{fsfull}} ()
\item 
void \mbox{\hyperlink{usertests_8c_a6888f9f6d973f81f73091d1530ad212b}{uio}} ()
\item 
void \mbox{\hyperlink{usertests_8c_a77cc2edce6e78f22dd9eb377462762f2}{argptest}} ()
\item 
unsigned int \mbox{\hyperlink{usertests_8c_a866c3f5e3e89035c3ba01b22d786d8bc}{rand}} ()
\item 
int \mbox{\hyperlink{usertests_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
char \mbox{\hyperlink{usertests_8c_ad42dafc8306f25c145c246f973b420cf}{buf}} \mbox{[}8192\mbox{]}
\item 
char \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}} \mbox{[}3\mbox{]}
\item 
char $\ast$ \mbox{\hyperlink{usertests_8c_ac75529abacd59858a9ff6165253d14ca}{echoargv}} \mbox{[}$\,$\mbox{]} = \{ \char`\"{}echo\char`\"{}, \char`\"{}ALL\char`\"{}, \char`\"{}TESTS\char`\"{}, \char`\"{}PASSED\char`\"{}, 0 \}
\item 
int \mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}} = 1
\item 
char \mbox{\hyperlink{usertests_8c_a7def0d79bfddb934aaf3fe627c97daf3}{uninit}} \mbox{[}10000\mbox{]}
\item 
unsigned long \mbox{\hyperlink{usertests_8c_af0bd27c045c0317df893912a0142b21a}{randstate}} = 1
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}\label{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}} 
\index{usertests.c@{usertests.c}!BIG@{BIG}}
\index{BIG@{BIG}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{BIG}{BIG}}
{\footnotesize\ttfamily \#define BIG~(100$\ast$1024$\ast$1024)}

\mbox{\Hypertarget{usertests_8c_a6ee8e8390002b24c20c7a1c64bc2c7ac}\label{usertests_8c_a6ee8e8390002b24c20c7a1c64bc2c7ac}} 
\index{usertests.c@{usertests.c}!RTC\_ADDR@{RTC\_ADDR}}
\index{RTC\_ADDR@{RTC\_ADDR}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{RTC\_ADDR}{RTC\_ADDR}}
{\footnotesize\ttfamily \#define RTC\+\_\+\+ADDR~0x70}

\mbox{\Hypertarget{usertests_8c_aa6e7096882c10a7c82c33f3589694b6e}\label{usertests_8c_aa6e7096882c10a7c82c33f3589694b6e}} 
\index{usertests.c@{usertests.c}!RTC\_DATA@{RTC\_DATA}}
\index{RTC\_DATA@{RTC\_DATA}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{RTC\_DATA}{RTC\_DATA}}
{\footnotesize\ttfamily \#define RTC\+\_\+\+DATA~0x71}



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{usertests_8c_a77cc2edce6e78f22dd9eb377462762f2}\label{usertests_8c_a77cc2edce6e78f22dd9eb377462762f2}} 
\index{usertests.c@{usertests.c}!argptest@{argptest}}
\index{argptest@{argptest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{argptest()}{argptest()}}
{\footnotesize\ttfamily void argptest (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01727}{1727}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01728 \{}
\DoxyCodeLine{01729   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{01730   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}init"{}}, \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}});}
\DoxyCodeLine{01731   \textcolor{keywordflow}{if} (fd < 0) \{}
\DoxyCodeLine{01732     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(2, \textcolor{stringliteral}{"{}open failed\(\backslash\)n"{}});}
\DoxyCodeLine{01733     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01734   \}}
\DoxyCodeLine{01735   \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0) -\/ 1, -\/1);}
\DoxyCodeLine{01736   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01737   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}arg test passed\(\backslash\)n"{}});}
\DoxyCodeLine{01738 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{de/dc0/usertests_8c_a77cc2edce6e78f22dd9eb377462762f2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_ac5b5d4517586be6396b4f3b37445945a}\label{usertests_8c_ac5b5d4517586be6396b4f3b37445945a}} 
\index{usertests.c@{usertests.c}!bigargtest@{bigargtest}}
\index{bigargtest@{bigargtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{bigargtest()}{bigargtest()}}
{\footnotesize\ttfamily void bigargtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01613}{1613}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01614 \{}
\DoxyCodeLine{01615   \textcolor{keywordtype}{int} pid, fd;}
\DoxyCodeLine{01616 }
\DoxyCodeLine{01617   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigarg-\/ok"{}});}
\DoxyCodeLine{01618   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{01619   \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{01620     \textcolor{keyword}{static} \textcolor{keywordtype}{char} *args[\mbox{\hyperlink{param_8h_a4c171d1ccc50f0b6ce7ad2f475eeba32}{MAXARG}}];}
\DoxyCodeLine{01621     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01622     \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{param_8h_a4c171d1ccc50f0b6ce7ad2f475eeba32}{MAXARG}}-\/1; i++)}
\DoxyCodeLine{01623       args[i] = \textcolor{stringliteral}{"{}bigargs test: failed\(\backslash\)n                                                                                                                                                                                                       "{}};}
\DoxyCodeLine{01624     args[\mbox{\hyperlink{param_8h_a4c171d1ccc50f0b6ce7ad2f475eeba32}{MAXARG}}-\/1] = 0;}
\DoxyCodeLine{01625     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bigarg test\(\backslash\)n"{}});}
\DoxyCodeLine{01626     \mbox{\hyperlink{defs_8h_aa7b4aae4a12acd187e23396214aeca47}{exec}}(\textcolor{stringliteral}{"{}echo"{}}, args);}
\DoxyCodeLine{01627     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bigarg test ok\(\backslash\)n"{}});}
\DoxyCodeLine{01628     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bigarg-\/ok"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01629     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01630     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01631   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{01632     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bigargtest: fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{01633     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01634   \}}
\DoxyCodeLine{01635   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01636   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bigarg-\/ok"{}}, 0);}
\DoxyCodeLine{01637   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01638     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bigarg test failed!\(\backslash\)n"{}});}
\DoxyCodeLine{01639     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01640   \}}
\DoxyCodeLine{01641   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01642   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigarg-\/ok"{}});}
\DoxyCodeLine{01643 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=213pt]{de/dc0/usertests_8c_ac5b5d4517586be6396b4f3b37445945a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a}\label{usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a}} 
\index{usertests.c@{usertests.c}!bigdir@{bigdir}}
\index{bigdir@{bigdir}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{bigdir()}{bigdir()}}
{\footnotesize\ttfamily void bigdir (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00893}{893}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00894 \{}
\DoxyCodeLine{00895   \textcolor{keywordtype}{int} i, fd;}
\DoxyCodeLine{00896   \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[10];}
\DoxyCodeLine{00897 }
\DoxyCodeLine{00898   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigdir test\(\backslash\)n"{}});}
\DoxyCodeLine{00899   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bd"{}});}
\DoxyCodeLine{00900 }
\DoxyCodeLine{00901   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bd"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{00902   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00903     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigdir create failed\(\backslash\)n"{}});}
\DoxyCodeLine{00904     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00905   \}}
\DoxyCodeLine{00906   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00907 }
\DoxyCodeLine{00908   \textcolor{keywordflow}{for}(i = 0; i < 500; i++)\{}
\DoxyCodeLine{00909     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'x'};}
\DoxyCodeLine{00910     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + (i / 64);}
\DoxyCodeLine{00911     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'0'} + (i \% 64);}
\DoxyCodeLine{00912     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[3] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00913     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}bd"{}}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}) != 0)\{}
\DoxyCodeLine{00914       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigdir link failed\(\backslash\)n"{}});}
\DoxyCodeLine{00915       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00916     \}}
\DoxyCodeLine{00917   \}}
\DoxyCodeLine{00918 }
\DoxyCodeLine{00919   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bd"{}});}
\DoxyCodeLine{00920   \textcolor{keywordflow}{for}(i = 0; i < 500; i++)\{}
\DoxyCodeLine{00921     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'x'};}
\DoxyCodeLine{00922     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + (i / 64);}
\DoxyCodeLine{00923     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'0'} + (i \% 64);}
\DoxyCodeLine{00924     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[3] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00925     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}) != 0)\{}
\DoxyCodeLine{00926       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigdir unlink failed"{}});}
\DoxyCodeLine{00927       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00928     \}}
\DoxyCodeLine{00929   \}}
\DoxyCodeLine{00930 }
\DoxyCodeLine{00931   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigdir ok\(\backslash\)n"{}});}
\DoxyCodeLine{00932 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=194pt]{de/dc0/usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a86fe524d99d69c18a335512cf3405b31}\label{usertests_8c_a86fe524d99d69c18a335512cf3405b31}} 
\index{usertests.c@{usertests.c}!bigfile@{bigfile}}
\index{bigfile@{bigfile}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{bigfile()}{bigfile()}}
{\footnotesize\ttfamily void bigfile (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01148}{1148}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01149 \{}
\DoxyCodeLine{01150   \textcolor{keywordtype}{int} fd, i, total, cc;}
\DoxyCodeLine{01151 }
\DoxyCodeLine{01152   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigfile test\(\backslash\)n"{}});}
\DoxyCodeLine{01153 }
\DoxyCodeLine{01154   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigfile"{}});}
\DoxyCodeLine{01155   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bigfile"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{01156   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01157     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}cannot create bigfile"{}});}
\DoxyCodeLine{01158     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01159   \}}
\DoxyCodeLine{01160   \textcolor{keywordflow}{for}(i = 0; i < 20; i++)\{}
\DoxyCodeLine{01161     \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(\mbox{\hyperlink{structbuf}{buf}}, i, 600);}
\DoxyCodeLine{01162     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 600) != 600)\{}
\DoxyCodeLine{01163       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}write bigfile failed\(\backslash\)n"{}});}
\DoxyCodeLine{01164       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01165     \}}
\DoxyCodeLine{01166   \}}
\DoxyCodeLine{01167   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01168 }
\DoxyCodeLine{01169   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bigfile"{}}, 0);}
\DoxyCodeLine{01170   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01171     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}cannot open bigfile\(\backslash\)n"{}});}
\DoxyCodeLine{01172     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01173   \}}
\DoxyCodeLine{01174   total = 0;}
\DoxyCodeLine{01175   \textcolor{keywordflow}{for}(i = 0; ; i++)\{}
\DoxyCodeLine{01176     cc = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 300);}
\DoxyCodeLine{01177     \textcolor{keywordflow}{if}(cc < 0)\{}
\DoxyCodeLine{01178       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}read bigfile failed\(\backslash\)n"{}});}
\DoxyCodeLine{01179       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01180     \}}
\DoxyCodeLine{01181     \textcolor{keywordflow}{if}(cc == 0)}
\DoxyCodeLine{01182       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01183     \textcolor{keywordflow}{if}(cc != 300)\{}
\DoxyCodeLine{01184       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}short read bigfile\(\backslash\)n"{}});}
\DoxyCodeLine{01185       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01186     \}}
\DoxyCodeLine{01187     \textcolor{keywordflow}{if}(\mbox{\hyperlink{structbuf}{buf}}[0] != i/2 || \mbox{\hyperlink{structbuf}{buf}}[299] != i/2)\{}
\DoxyCodeLine{01188       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}read bigfile wrong data\(\backslash\)n"{}});}
\DoxyCodeLine{01189       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01190     \}}
\DoxyCodeLine{01191     total += cc;}
\DoxyCodeLine{01192   \}}
\DoxyCodeLine{01193   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01194   \textcolor{keywordflow}{if}(total != 20*600)\{}
\DoxyCodeLine{01195     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}read bigfile wrong total\(\backslash\)n"{}});}
\DoxyCodeLine{01196     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01197   \}}
\DoxyCodeLine{01198   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigfile"{}});}
\DoxyCodeLine{01199 }
\DoxyCodeLine{01200   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigfile test ok\(\backslash\)n"{}});}
\DoxyCodeLine{01201 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{de/dc0/usertests_8c_a86fe524d99d69c18a335512cf3405b31_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a57e55b2d0161d62bb99765ca3de43e35}\label{usertests_8c_a57e55b2d0161d62bb99765ca3de43e35}} 
\index{usertests.c@{usertests.c}!bigwrite@{bigwrite}}
\index{bigwrite@{bigwrite}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{bigwrite()}{bigwrite()}}
{\footnotesize\ttfamily void bigwrite (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01119}{1119}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01120 \{}
\DoxyCodeLine{01121   \textcolor{keywordtype}{int} fd, sz;}
\DoxyCodeLine{01122 }
\DoxyCodeLine{01123   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigwrite test\(\backslash\)n"{}});}
\DoxyCodeLine{01124 }
\DoxyCodeLine{01125   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigwrite"{}});}
\DoxyCodeLine{01126   \textcolor{keywordflow}{for}(sz = 499; sz < 12*512; sz += 471)\{}
\DoxyCodeLine{01127     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}bigwrite"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{01128     \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01129       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}cannot create bigwrite\(\backslash\)n"{}});}
\DoxyCodeLine{01130       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01131     \}}
\DoxyCodeLine{01132     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01133     \textcolor{keywordflow}{for}(i = 0; i < 2; i++)\{}
\DoxyCodeLine{01134       \textcolor{keywordtype}{int} cc = \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, sz);}
\DoxyCodeLine{01135       \textcolor{keywordflow}{if}(cc != sz)\{}
\DoxyCodeLine{01136         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}write(\%d) ret \%d\(\backslash\)n"{}}, sz, cc);}
\DoxyCodeLine{01137         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01138       \}}
\DoxyCodeLine{01139     \}}
\DoxyCodeLine{01140     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01141     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}bigwrite"{}});}
\DoxyCodeLine{01142   \}}
\DoxyCodeLine{01143 }
\DoxyCodeLine{01144   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}bigwrite ok\(\backslash\)n"{}});}
\DoxyCodeLine{01145 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{de/dc0/usertests_8c_a57e55b2d0161d62bb99765ca3de43e35_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7}\label{usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7}} 
\index{usertests.c@{usertests.c}!bsstest@{bsstest}}
\index{bsstest@{bsstest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{bsstest()}{bsstest()}}
{\footnotesize\ttfamily void bsstest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01595}{1595}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01596 \{}
\DoxyCodeLine{01597   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01598 }
\DoxyCodeLine{01599   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bss test\(\backslash\)n"{}});}
\DoxyCodeLine{01600   \textcolor{keywordflow}{for}(i = 0; i < \textcolor{keyword}{sizeof}(\mbox{\hyperlink{usertests_8c_a7def0d79bfddb934aaf3fe627c97daf3}{uninit}}); i++)\{}
\DoxyCodeLine{01601     \textcolor{keywordflow}{if}(\mbox{\hyperlink{usertests_8c_a7def0d79bfddb934aaf3fe627c97daf3}{uninit}}[i] != \textcolor{charliteral}{'\(\backslash\)0'})\{}
\DoxyCodeLine{01602       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bss test failed\(\backslash\)n"{}});}
\DoxyCodeLine{01603       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01604     \}}
\DoxyCodeLine{01605   \}}
\DoxyCodeLine{01606   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}bss test ok\(\backslash\)n"{}});}
\DoxyCodeLine{01607 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=203pt]{de/dc0/usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2}\label{usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2}} 
\index{usertests.c@{usertests.c}!concreate@{concreate}}
\index{concreate@{concreate}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{concreate()}{concreate()}}
{\footnotesize\ttfamily void concreate (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00765}{765}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00766 \{}
\DoxyCodeLine{00767   \textcolor{keywordtype}{char} \mbox{\hyperlink{structfile}{file}}[3];}
\DoxyCodeLine{00768   \textcolor{keywordtype}{int} i, pid, n, fd;}
\DoxyCodeLine{00769   \textcolor{keywordtype}{char} fa[40];}
\DoxyCodeLine{00770   \textcolor{keyword}{struct }\{}
\DoxyCodeLine{00771     \mbox{\hyperlink{types_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}} inum;}
\DoxyCodeLine{00772     \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[14];}
\DoxyCodeLine{00773   \} de;}
\DoxyCodeLine{00774 }
\DoxyCodeLine{00775   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate test\(\backslash\)n"{}});}
\DoxyCodeLine{00776   \mbox{\hyperlink{structfile}{file}}[0] = \textcolor{charliteral}{'C'};}
\DoxyCodeLine{00777   \mbox{\hyperlink{structfile}{file}}[2] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00778   \textcolor{keywordflow}{for}(i = 0; i < 40; i++)\{}
\DoxyCodeLine{00779     \mbox{\hyperlink{structfile}{file}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00780     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00781     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00782     \textcolor{keywordflow}{if}(pid \&\& (i \% 3) == 1)\{}
\DoxyCodeLine{00783       \mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}C0"{}}, \mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00784     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pid == 0 \&\& (i \% 5) == 1)\{}
\DoxyCodeLine{00785       \mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}C0"{}}, \mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00786     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00787       fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{structfile}{file}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00788       \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00789         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate create \%s failed\(\backslash\)n"{}}, \mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00790         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00791       \}}
\DoxyCodeLine{00792       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00793     \}}
\DoxyCodeLine{00794     \textcolor{keywordflow}{if}(pid == 0)}
\DoxyCodeLine{00795       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00796     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00797       \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00798   \}}
\DoxyCodeLine{00799 }
\DoxyCodeLine{00800   \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(fa, 0, \textcolor{keyword}{sizeof}(fa));}
\DoxyCodeLine{00801   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}."{}}, 0);}
\DoxyCodeLine{00802   n = 0;}
\DoxyCodeLine{00803   \textcolor{keywordflow}{while}(\mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \&de, \textcolor{keyword}{sizeof}(de)) > 0)\{}
\DoxyCodeLine{00804     \textcolor{keywordflow}{if}(de.inum == 0)}
\DoxyCodeLine{00805       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00806     \textcolor{keywordflow}{if}(de.name[0] == \textcolor{charliteral}{'C'} \&\& de.name[2] == \textcolor{charliteral}{'\(\backslash\)0'})\{}
\DoxyCodeLine{00807       i = de.name[1] -\/ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00808       \textcolor{keywordflow}{if}(i < 0 || i >= \textcolor{keyword}{sizeof}(fa))\{}
\DoxyCodeLine{00809         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate weird file \%s\(\backslash\)n"{}}, de.name);}
\DoxyCodeLine{00810         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00811       \}}
\DoxyCodeLine{00812       \textcolor{keywordflow}{if}(fa[i])\{}
\DoxyCodeLine{00813         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate duplicate file \%s\(\backslash\)n"{}}, de.name);}
\DoxyCodeLine{00814         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00815       \}}
\DoxyCodeLine{00816       fa[i] = 1;}
\DoxyCodeLine{00817       n++;}
\DoxyCodeLine{00818     \}}
\DoxyCodeLine{00819   \}}
\DoxyCodeLine{00820   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00821 }
\DoxyCodeLine{00822   \textcolor{keywordflow}{if}(n != 40)\{}
\DoxyCodeLine{00823     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate not enough files in directory listing\(\backslash\)n"{}});}
\DoxyCodeLine{00824     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00825   \}}
\DoxyCodeLine{00826 }
\DoxyCodeLine{00827   \textcolor{keywordflow}{for}(i = 0; i < 40; i++)\{}
\DoxyCodeLine{00828     \mbox{\hyperlink{structfile}{file}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00829     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00830     \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00831       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00832       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00833     \}}
\DoxyCodeLine{00834     \textcolor{keywordflow}{if}(((i \% 3) == 0 \&\& pid == 0) ||}
\DoxyCodeLine{00835        ((i \% 3) == 1 \&\& pid != 0))\{}
\DoxyCodeLine{00836       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{structfile}{file}}, 0));}
\DoxyCodeLine{00837       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{structfile}{file}}, 0));}
\DoxyCodeLine{00838       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{structfile}{file}}, 0));}
\DoxyCodeLine{00839       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{structfile}{file}}, 0));}
\DoxyCodeLine{00840     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00841       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00842       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00843       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00844       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{structfile}{file}});}
\DoxyCodeLine{00845     \}}
\DoxyCodeLine{00846     \textcolor{keywordflow}{if}(pid == 0)}
\DoxyCodeLine{00847       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00848     \textcolor{keywordflow}{else}}
\DoxyCodeLine{00849       \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00850   \}}
\DoxyCodeLine{00851 }
\DoxyCodeLine{00852   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}concreate ok\(\backslash\)n"{}});}
\DoxyCodeLine{00853 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=213pt]{de/dc0/usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf}\label{usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf}} 
\index{usertests.c@{usertests.c}!createdelete@{createdelete}}
\index{createdelete@{createdelete}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{createdelete()}{createdelete()}}
{\footnotesize\ttfamily void createdelete (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00584}{584}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00585 \{}
\DoxyCodeLine{00586   \textcolor{keyword}{enum} \{ \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}} = 20 \};}
\DoxyCodeLine{00587   \textcolor{keywordtype}{int} pid, i, fd, pi;}
\DoxyCodeLine{00588   \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[32];}
\DoxyCodeLine{00589 }
\DoxyCodeLine{00590   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}createdelete test\(\backslash\)n"{}});}
\DoxyCodeLine{00591 }
\DoxyCodeLine{00592   \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00593     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00594     \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00595       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00596       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00597     \}}
\DoxyCodeLine{00598 }
\DoxyCodeLine{00599     \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{00600       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'p'} + pi;}
\DoxyCodeLine{00601       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00602       \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}}; i++)\{}
\DoxyCodeLine{00603         \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00604         fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00605         \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00606           \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create failed\(\backslash\)n"{}});}
\DoxyCodeLine{00607           \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00608         \}}
\DoxyCodeLine{00609         \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00610         \textcolor{keywordflow}{if}(i > 0 \&\& (i \% 2 ) == 0)\{}
\DoxyCodeLine{00611           \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + (i / 2);}
\DoxyCodeLine{00612           \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}) < 0)\{}
\DoxyCodeLine{00613             \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink failed\(\backslash\)n"{}});}
\DoxyCodeLine{00614             \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00615           \}}
\DoxyCodeLine{00616         \}}
\DoxyCodeLine{00617       \}}
\DoxyCodeLine{00618       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00619     \}}
\DoxyCodeLine{00620   \}}
\DoxyCodeLine{00621 }
\DoxyCodeLine{00622   \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00623     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00624   \}}
\DoxyCodeLine{00625 }
\DoxyCodeLine{00626   \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = 0;}
\DoxyCodeLine{00627   \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}}; i++)\{}
\DoxyCodeLine{00628     \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00629       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'p'} + pi;}
\DoxyCodeLine{00630       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00631       fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, 0);}
\DoxyCodeLine{00632       \textcolor{keywordflow}{if}((i == 0 || i >= \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}}/2) \&\& fd < 0)\{}
\DoxyCodeLine{00633         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}oops createdelete \%s didn't exist\(\backslash\)n"{}}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{00634         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00635       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((i >= 1 \&\& i < \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}}/2) \&\& fd >= 0)\{}
\DoxyCodeLine{00636         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}oops createdelete \%s did exist\(\backslash\)n"{}}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{00637         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00638       \}}
\DoxyCodeLine{00639       \textcolor{keywordflow}{if}(fd >= 0)}
\DoxyCodeLine{00640         \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00641     \}}
\DoxyCodeLine{00642   \}}
\DoxyCodeLine{00643 }
\DoxyCodeLine{00644   \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{forktest_8c_a0240ac851181b84ac374872dc5434ee4}{N}}; i++)\{}
\DoxyCodeLine{00645     \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00646       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'p'} + i;}
\DoxyCodeLine{00647       \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00648       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{00649     \}}
\DoxyCodeLine{00650   \}}
\DoxyCodeLine{00651 }
\DoxyCodeLine{00652   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}createdelete ok\(\backslash\)n"{}});}
\DoxyCodeLine{00653 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{de/dc0/usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a6773439702f38f3835fb6195f77e001c}\label{usertests_8c_a6773439702f38f3835fb6195f77e001c}} 
\index{usertests.c@{usertests.c}!createtest@{createtest}}
\index{createtest@{createtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{createtest()}{createtest()}}
{\footnotesize\ttfamily void createtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00245}{245}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00246 \{}
\DoxyCodeLine{00247   \textcolor{keywordtype}{int} i, fd;}
\DoxyCodeLine{00248 }
\DoxyCodeLine{00249   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}many creates, followed by unlink test\(\backslash\)n"{}});}
\DoxyCodeLine{00250 }
\DoxyCodeLine{00251   \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'a'};}
\DoxyCodeLine{00252   \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00253   \textcolor{keywordflow}{for}(i = 0; i < 52; i++)\{}
\DoxyCodeLine{00254     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00255     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00256     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00257   \}}
\DoxyCodeLine{00258   \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'a'};}
\DoxyCodeLine{00259   \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00260   \textcolor{keywordflow}{for}(i = 0; i < 52; i++)\{}
\DoxyCodeLine{00261     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + i;}
\DoxyCodeLine{00262     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{00263   \}}
\DoxyCodeLine{00264   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}many creates, followed by unlink; ok\(\backslash\)n"{}});}
\DoxyCodeLine{00265 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=295pt]{de/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{de/dc0/usertests_8c_a6773439702f38f3835fb6195f77e001c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f}\label{usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f}} 
\index{usertests.c@{usertests.c}!dirfile@{dirfile}}
\index{dirfile@{dirfile}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{dirfile()}{dirfile()}}
{\footnotesize\ttfamily void dirfile (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01284}{1284}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01285 \{}
\DoxyCodeLine{01286   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{01287 }
\DoxyCodeLine{01288   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}dir vs file\(\backslash\)n"{}});}
\DoxyCodeLine{01289 }
\DoxyCodeLine{01290   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dirfile"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01291   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01292     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dirfile failed\(\backslash\)n"{}});}
\DoxyCodeLine{01293     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01294   \}}
\DoxyCodeLine{01295   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01296   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dirfile"{}}) == 0)\{}
\DoxyCodeLine{01297     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dirfile succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01298     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01299   \}}
\DoxyCodeLine{01300   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dirfile/xx"{}}, 0);}
\DoxyCodeLine{01301   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{01302     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dirfile/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01303     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01304   \}}
\DoxyCodeLine{01305   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dirfile/xx"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01306   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{01307     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dirfile/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01308     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01309   \}}
\DoxyCodeLine{01310   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dirfile/xx"{}}) == 0)\{}
\DoxyCodeLine{01311     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir dirfile/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01312     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01313   \}}
\DoxyCodeLine{01314   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dirfile/xx"{}}) == 0)\{}
\DoxyCodeLine{01315     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dirfile/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01316     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01317   \}}
\DoxyCodeLine{01318   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}README"{}}, \textcolor{stringliteral}{"{}dirfile/xx"{}}) == 0)\{}
\DoxyCodeLine{01319     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link to dirfile/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01320     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01321   \}}
\DoxyCodeLine{01322   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dirfile"{}}) != 0)\{}
\DoxyCodeLine{01323     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dirfile failed!\(\backslash\)n"{}});}
\DoxyCodeLine{01324     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01325   \}}
\DoxyCodeLine{01326 }
\DoxyCodeLine{01327   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}."{}}, \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{01328   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{01329     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open . for writing succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01330     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01331   \}}
\DoxyCodeLine{01332   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}."{}}, 0);}
\DoxyCodeLine{01333   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}x"{}}, 1) > 0)\{}
\DoxyCodeLine{01334     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}write . succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01335     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01336   \}}
\DoxyCodeLine{01337   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01338 }
\DoxyCodeLine{01339   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}dir vs file OK\(\backslash\)n"{}});}
\DoxyCodeLine{01340 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=194pt]{de/dc0/usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c}\label{usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c}} 
\index{usertests.c@{usertests.c}!dirtest@{dirtest}}
\index{dirtest@{dirtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{dirtest()}{dirtest()}}
{\footnotesize\ttfamily void dirtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00267}{267}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00268 \{}
\DoxyCodeLine{00269   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir test\(\backslash\)n"{}});}
\DoxyCodeLine{00270 }
\DoxyCodeLine{00271   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dir0"{}}) < 0)\{}
\DoxyCodeLine{00272     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00273     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00274   \}}
\DoxyCodeLine{00275 }
\DoxyCodeLine{00276   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dir0"{}}) < 0)\{}
\DoxyCodeLine{00277     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}chdir dir0 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00278     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00279   \}}
\DoxyCodeLine{00280 }
\DoxyCodeLine{00281   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}.."{}}) < 0)\{}
\DoxyCodeLine{00282     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}chdir .. failed\(\backslash\)n"{}});}
\DoxyCodeLine{00283     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00284   \}}
\DoxyCodeLine{00285 }
\DoxyCodeLine{00286   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dir0"{}}) < 0)\{}
\DoxyCodeLine{00287     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink dir0 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00288     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00289   \}}
\DoxyCodeLine{00290   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00291 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a8db9f9a2634bab29096bab0b8bc6945c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a6f94e3b215d069b5419e87bafe80799a}\label{usertests_8c_a6f94e3b215d069b5419e87bafe80799a}} 
\index{usertests.c@{usertests.c}!exectest@{exectest}}
\index{exectest@{exectest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{exectest()}{exectest()}}
{\footnotesize\ttfamily void exectest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00294}{294}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00295 \{}
\DoxyCodeLine{00296   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}exec test\(\backslash\)n"{}});}
\DoxyCodeLine{00297   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_aa7b4aae4a12acd187e23396214aeca47}{exec}}(\textcolor{stringliteral}{"{}echo"{}}, \mbox{\hyperlink{usertests_8c_ac75529abacd59858a9ff6165253d14ca}{echoargv}}) < 0)\{}
\DoxyCodeLine{00298     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}exec echo failed\(\backslash\)n"{}});}
\DoxyCodeLine{00299     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00300   \}}
\DoxyCodeLine{00301 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{de/dc0/usertests_8c_a6f94e3b215d069b5419e87bafe80799a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a8faab06cc4d48335076b368f02709ee2}\label{usertests_8c_a8faab06cc4d48335076b368f02709ee2}} 
\index{usertests.c@{usertests.c}!exitiputtest@{exitiputtest}}
\index{exitiputtest@{exitiputtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{exitiputtest()}{exitiputtest()}}
{\footnotesize\ttfamily void exitiputtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00043}{43}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00044 \{}
\DoxyCodeLine{00045   \textcolor{keywordtype}{int} pid;}
\DoxyCodeLine{00046 }
\DoxyCodeLine{00047   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}exitiput test\(\backslash\)n"{}});}
\DoxyCodeLine{00048 }
\DoxyCodeLine{00049   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00050   \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00051     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00052     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00053   \}}
\DoxyCodeLine{00054   \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{00055     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}iputdir"{}}) < 0)\{}
\DoxyCodeLine{00056       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00057       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00058     \}}
\DoxyCodeLine{00059     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}iputdir"{}}) < 0)\{}
\DoxyCodeLine{00060       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}child chdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00061       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00062     \}}
\DoxyCodeLine{00063     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}../iputdir"{}}) < 0)\{}
\DoxyCodeLine{00064       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink ../iputdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00065       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00066     \}}
\DoxyCodeLine{00067     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00068   \}}
\DoxyCodeLine{00069   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00070   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}exitiput test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00071 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=219pt]{de/dc0/usertests_8c_a8faab06cc4d48335076b368f02709ee2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f}\label{usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f}} 
\index{usertests.c@{usertests.c}!exitwait@{exitwait}}
\index{exitwait@{exitwait}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{exitwait()}{exitwait()}}
{\footnotesize\ttfamily void exitwait (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00405}{405}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00406 \{}
\DoxyCodeLine{00407   \textcolor{keywordtype}{int} i, pid;}
\DoxyCodeLine{00408 }
\DoxyCodeLine{00409   \textcolor{keywordflow}{for}(i = 0; i < 100; i++)\{}
\DoxyCodeLine{00410     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00411     \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00412       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00413       \textcolor{keywordflow}{return};}
\DoxyCodeLine{00414     \}}
\DoxyCodeLine{00415     \textcolor{keywordflow}{if}(pid)\{}
\DoxyCodeLine{00416       \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}() != pid)\{}
\DoxyCodeLine{00417         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wait wrong pid\(\backslash\)n"{}});}
\DoxyCodeLine{00418         \textcolor{keywordflow}{return};}
\DoxyCodeLine{00419       \}}
\DoxyCodeLine{00420     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00421       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00422     \}}
\DoxyCodeLine{00423   \}}
\DoxyCodeLine{00424   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}exitwait ok\(\backslash\)n"{}});}
\DoxyCodeLine{00425 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{de/dc0/usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c}\label{usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c}} 
\index{usertests.c@{usertests.c}!forktest@{forktest}}
\index{forktest@{forktest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{forktest()}{forktest()}}
{\footnotesize\ttfamily void forktest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01380}{1380}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01381 \{}
\DoxyCodeLine{01382   \textcolor{keywordtype}{int} n, pid;}
\DoxyCodeLine{01383 }
\DoxyCodeLine{01384   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork test\(\backslash\)n"{}});}
\DoxyCodeLine{01385 }
\DoxyCodeLine{01386   \textcolor{keywordflow}{for}(n=0; n<1000; n++)\{}
\DoxyCodeLine{01387     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{01388     \textcolor{keywordflow}{if}(pid < 0)}
\DoxyCodeLine{01389       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01390     \textcolor{keywordflow}{if}(pid == 0)}
\DoxyCodeLine{01391       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01392   \}}
\DoxyCodeLine{01393 }
\DoxyCodeLine{01394   \textcolor{keywordflow}{if}(n == 1000)\{}
\DoxyCodeLine{01395     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork claimed to work 1000 times!\(\backslash\)n"{}});}
\DoxyCodeLine{01396     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01397   \}}
\DoxyCodeLine{01398 }
\DoxyCodeLine{01399   \textcolor{keywordflow}{for}(; n > 0; n-\/-\/)\{}
\DoxyCodeLine{01400     \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}() < 0)\{}
\DoxyCodeLine{01401       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wait stopped early\(\backslash\)n"{}});}
\DoxyCodeLine{01402       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01403     \}}
\DoxyCodeLine{01404   \}}
\DoxyCodeLine{01405 }
\DoxyCodeLine{01406   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}() != -\/1)\{}
\DoxyCodeLine{01407     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wait got too many\(\backslash\)n"{}});}
\DoxyCodeLine{01408     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01409   \}}
\DoxyCodeLine{01410 }
\DoxyCodeLine{01411   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork test OK\(\backslash\)n"{}});}
\DoxyCodeLine{01412 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=204pt]{de/dc0/usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6}\label{usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6}} 
\index{usertests.c@{usertests.c}!fourfiles@{fourfiles}}
\index{fourfiles@{fourfiles}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{fourfiles()}{fourfiles()}}
{\footnotesize\ttfamily void fourfiles (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00518}{518}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00519 \{}
\DoxyCodeLine{00520   \textcolor{keywordtype}{int} fd, pid, i, j, n, total, pi;}
\DoxyCodeLine{00521   \textcolor{keywordtype}{char} *names[] = \{ \textcolor{stringliteral}{"{}f0"{}}, \textcolor{stringliteral}{"{}f1"{}}, \textcolor{stringliteral}{"{}f2"{}}, \textcolor{stringliteral}{"{}f3"{}} \};}
\DoxyCodeLine{00522   \textcolor{keywordtype}{char} *fname;}
\DoxyCodeLine{00523 }
\DoxyCodeLine{00524   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fourfiles test\(\backslash\)n"{}});}
\DoxyCodeLine{00525 }
\DoxyCodeLine{00526   \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00527     fname = names[pi];}
\DoxyCodeLine{00528     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(fname);}
\DoxyCodeLine{00529 }
\DoxyCodeLine{00530     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00531     \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00532       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00533       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00534     \}}
\DoxyCodeLine{00535 }
\DoxyCodeLine{00536     \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{00537       fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(fname, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00538       \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00539         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create failed\(\backslash\)n"{}});}
\DoxyCodeLine{00540         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00541       \}}
\DoxyCodeLine{00542 }
\DoxyCodeLine{00543       \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(\mbox{\hyperlink{structbuf}{buf}}, \textcolor{charliteral}{'0'}+pi, 512);}
\DoxyCodeLine{00544       \textcolor{keywordflow}{for}(i = 0; i < 12; i++)\{}
\DoxyCodeLine{00545         \textcolor{keywordflow}{if}((n = \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 500)) != 500)\{}
\DoxyCodeLine{00546           \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}write failed \%d\(\backslash\)n"{}}, n);}
\DoxyCodeLine{00547           \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00548         \}}
\DoxyCodeLine{00549       \}}
\DoxyCodeLine{00550       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00551     \}}
\DoxyCodeLine{00552   \}}
\DoxyCodeLine{00553 }
\DoxyCodeLine{00554   \textcolor{keywordflow}{for}(pi = 0; pi < 4; pi++)\{}
\DoxyCodeLine{00555     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00556   \}}
\DoxyCodeLine{00557 }
\DoxyCodeLine{00558   \textcolor{keywordflow}{for}(i = 0; i < 2; i++)\{}
\DoxyCodeLine{00559     fname = names[i];}
\DoxyCodeLine{00560     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(fname, 0);}
\DoxyCodeLine{00561     total = 0;}
\DoxyCodeLine{00562     \textcolor{keywordflow}{while}((n = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}))) > 0)\{}
\DoxyCodeLine{00563       \textcolor{keywordflow}{for}(j = 0; j < n; j++)\{}
\DoxyCodeLine{00564         \textcolor{keywordflow}{if}(\mbox{\hyperlink{structbuf}{buf}}[j] != \textcolor{charliteral}{'0'}+i)\{}
\DoxyCodeLine{00565           \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wrong char\(\backslash\)n"{}});}
\DoxyCodeLine{00566           \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00567         \}}
\DoxyCodeLine{00568       \}}
\DoxyCodeLine{00569       total += n;}
\DoxyCodeLine{00570     \}}
\DoxyCodeLine{00571     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00572     \textcolor{keywordflow}{if}(total != 12*500)\{}
\DoxyCodeLine{00573       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wrong length \%d\(\backslash\)n"{}}, total);}
\DoxyCodeLine{00574       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00575     \}}
\DoxyCodeLine{00576     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(fname);}
\DoxyCodeLine{00577   \}}
\DoxyCodeLine{00578 }
\DoxyCodeLine{00579   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fourfiles ok\(\backslash\)n"{}});}
\DoxyCodeLine{00580 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=205pt]{de/dc0/usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_abf4af50e65630225208fef177e267efb}\label{usertests_8c_abf4af50e65630225208fef177e267efb}} 
\index{usertests.c@{usertests.c}!fourteen@{fourteen}}
\index{fourteen@{fourteen}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{fourteen()}{fourteen()}}
{\footnotesize\ttfamily void fourteen (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01204}{1204}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01205 \{}
\DoxyCodeLine{01206   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{01207 }
\DoxyCodeLine{01208   \textcolor{comment}{// DIRSIZ is 14.}}
\DoxyCodeLine{01209   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fourteen test\(\backslash\)n"{}});}
\DoxyCodeLine{01210 }
\DoxyCodeLine{01211   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}12345678901234"{}}) != 0)\{}
\DoxyCodeLine{01212     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir 12345678901234 failed\(\backslash\)n"{}});}
\DoxyCodeLine{01213     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01214   \}}
\DoxyCodeLine{01215   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}12345678901234/123456789012345"{}}) != 0)\{}
\DoxyCodeLine{01216     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir 12345678901234/123456789012345 failed\(\backslash\)n"{}});}
\DoxyCodeLine{01217     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01218   \}}
\DoxyCodeLine{01219   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}123456789012345/123456789012345/123456789012345"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01220   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01221     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create 123456789012345/123456789012345/123456789012345 failed\(\backslash\)n"{}});}
\DoxyCodeLine{01222     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01223   \}}
\DoxyCodeLine{01224   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01225   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}12345678901234/12345678901234/12345678901234"{}}, 0);}
\DoxyCodeLine{01226   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01227     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open 12345678901234/12345678901234/12345678901234 failed\(\backslash\)n"{}});}
\DoxyCodeLine{01228     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01229   \}}
\DoxyCodeLine{01230   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01231 }
\DoxyCodeLine{01232   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}12345678901234/12345678901234"{}}) == 0)\{}
\DoxyCodeLine{01233     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir 12345678901234/12345678901234 succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01234     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01235   \}}
\DoxyCodeLine{01236   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}123456789012345/12345678901234"{}}) == 0)\{}
\DoxyCodeLine{01237     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir 12345678901234/123456789012345 succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01238     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01239   \}}
\DoxyCodeLine{01240 }
\DoxyCodeLine{01241   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fourteen ok\(\backslash\)n"{}});}
\DoxyCodeLine{01242 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{de/dc0/usertests_8c_abf4af50e65630225208fef177e267efb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a37568127a326729b0576444a4a4509e1}\label{usertests_8c_a37568127a326729b0576444a4a4509e1}} 
\index{usertests.c@{usertests.c}!fsfull@{fsfull}}
\index{fsfull@{fsfull}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{fsfull()}{fsfull()}}
{\footnotesize\ttfamily void fsfull (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01648}{1648}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01649 \{}
\DoxyCodeLine{01650   \textcolor{keywordtype}{int} nfiles;}
\DoxyCodeLine{01651   \textcolor{keywordtype}{int} fsblocks = 0;}
\DoxyCodeLine{01652 }
\DoxyCodeLine{01653   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fsfull test\(\backslash\)n"{}});}
\DoxyCodeLine{01654 }
\DoxyCodeLine{01655   \textcolor{keywordflow}{for}(nfiles = 0; ; nfiles++)\{}
\DoxyCodeLine{01656     \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[64];}
\DoxyCodeLine{01657     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'f'};}
\DoxyCodeLine{01658     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + nfiles / 1000;}
\DoxyCodeLine{01659     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'0'} + (nfiles \% 1000) / 100;}
\DoxyCodeLine{01660     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[3] = \textcolor{charliteral}{'0'} + (nfiles \% 100) / 10;}
\DoxyCodeLine{01661     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[4] = \textcolor{charliteral}{'0'} + (nfiles \% 10);}
\DoxyCodeLine{01662     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[5] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01663     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}writing \%s\(\backslash\)n"{}}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{01664     \textcolor{keywordtype}{int} fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{01665     \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01666       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open \%s failed\(\backslash\)n"{}}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{01667       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01668     \}}
\DoxyCodeLine{01669     \textcolor{keywordtype}{int} total = 0;}
\DoxyCodeLine{01670     \textcolor{keywordflow}{while}(1)\{}
\DoxyCodeLine{01671       \textcolor{keywordtype}{int} cc = \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 512);}
\DoxyCodeLine{01672       \textcolor{keywordflow}{if}(cc < 512)}
\DoxyCodeLine{01673         \textcolor{keywordflow}{break};}
\DoxyCodeLine{01674       total += cc;}
\DoxyCodeLine{01675       fsblocks++;}
\DoxyCodeLine{01676     \}}
\DoxyCodeLine{01677     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wrote \%d bytes\(\backslash\)n"{}}, total);}
\DoxyCodeLine{01678     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01679     \textcolor{keywordflow}{if}(total == 0)}
\DoxyCodeLine{01680       \textcolor{keywordflow}{break};}
\DoxyCodeLine{01681   \}}
\DoxyCodeLine{01682 }
\DoxyCodeLine{01683   \textcolor{keywordflow}{while}(nfiles >= 0)\{}
\DoxyCodeLine{01684     \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[64];}
\DoxyCodeLine{01685     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[0] = \textcolor{charliteral}{'f'};}
\DoxyCodeLine{01686     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[1] = \textcolor{charliteral}{'0'} + nfiles / 1000;}
\DoxyCodeLine{01687     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[2] = \textcolor{charliteral}{'0'} + (nfiles \% 1000) / 100;}
\DoxyCodeLine{01688     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[3] = \textcolor{charliteral}{'0'} + (nfiles \% 100) / 10;}
\DoxyCodeLine{01689     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[4] = \textcolor{charliteral}{'0'} + (nfiles \% 10);}
\DoxyCodeLine{01690     \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[5] = \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01691     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}});}
\DoxyCodeLine{01692     nfiles-\/-\/;}
\DoxyCodeLine{01693   \}}
\DoxyCodeLine{01694 }
\DoxyCodeLine{01695   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fsfull test finished\(\backslash\)n"{}});}
\DoxyCodeLine{01696 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{de/dc0/usertests_8c_a37568127a326729b0576444a4a4509e1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6}\label{usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6}} 
\index{usertests.c@{usertests.c}!iputtest@{iputtest}}
\index{iputtest@{iputtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{iputtest()}{iputtest()}}
{\footnotesize\ttfamily void iputtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00018}{18}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019 \{}
\DoxyCodeLine{00020   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}iput test\(\backslash\)n"{}});}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}iputdir"{}}) < 0)\{}
\DoxyCodeLine{00023     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00024     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00025   \}}
\DoxyCodeLine{00026   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}iputdir"{}}) < 0)\{}
\DoxyCodeLine{00027     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}chdir iputdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00028     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00029   \}}
\DoxyCodeLine{00030   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}../iputdir"{}}) < 0)\{}
\DoxyCodeLine{00031     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink ../iputdir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00032     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00033   \}}
\DoxyCodeLine{00034   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}/"{}}) < 0)\{}
\DoxyCodeLine{00035     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}chdir / failed\(\backslash\)n"{}});}
\DoxyCodeLine{00036     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00037   \}}
\DoxyCodeLine{00038   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}iput test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00039 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=203pt]{de/dc0/usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a267227083b00d0cc3141b34f5152ae04}\label{usertests_8c_a267227083b00d0cc3141b34f5152ae04}} 
\index{usertests.c@{usertests.c}!iref@{iref}}
\index{iref@{iref}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{iref()}{iref()}}
{\footnotesize\ttfamily void iref (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01344}{1344}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01345 \{}
\DoxyCodeLine{01346   \textcolor{keywordtype}{int} i, fd;}
\DoxyCodeLine{01347 }
\DoxyCodeLine{01348   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}empty file name\(\backslash\)n"{}});}
\DoxyCodeLine{01349 }
\DoxyCodeLine{01350   \textcolor{comment}{// the 50 is NINODE}}
\DoxyCodeLine{01351   \textcolor{keywordflow}{for}(i = 0; i < 50 + 1; i++)\{}
\DoxyCodeLine{01352     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}irefd"{}}) != 0)\{}
\DoxyCodeLine{01353       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir irefd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01354       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01355     \}}
\DoxyCodeLine{01356     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}irefd"{}}) != 0)\{}
\DoxyCodeLine{01357       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir irefd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01358       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01359     \}}
\DoxyCodeLine{01360 }
\DoxyCodeLine{01361     \mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01362     \mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}README"{}}, \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{01363     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01364     \textcolor{keywordflow}{if}(fd >= 0)}
\DoxyCodeLine{01365       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01366     fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}xx"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}});}
\DoxyCodeLine{01367     \textcolor{keywordflow}{if}(fd >= 0)}
\DoxyCodeLine{01368       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01369     \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}xx"{}});}
\DoxyCodeLine{01370   \}}
\DoxyCodeLine{01371 }
\DoxyCodeLine{01372   \mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}/"{}});}
\DoxyCodeLine{01373   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}empty file name OK\(\backslash\)n"{}});}
\DoxyCodeLine{01374 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=184pt]{de/dc0/usertests_8c_a267227083b00d0cc3141b34f5152ae04_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608}\label{usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608}} 
\index{usertests.c@{usertests.c}!linktest@{linktest}}
\index{linktest@{linktest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{linktest()}{linktest()}}
{\footnotesize\ttfamily void linktest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00702}{702}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00703 \{}
\DoxyCodeLine{00704   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{00705 }
\DoxyCodeLine{00706   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}linktest\(\backslash\)n"{}});}
\DoxyCodeLine{00707 }
\DoxyCodeLine{00708   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}lf1"{}});}
\DoxyCodeLine{00709   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}lf2"{}});}
\DoxyCodeLine{00710 }
\DoxyCodeLine{00711   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}lf1"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00712   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00713     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create lf1 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00714     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00715   \}}
\DoxyCodeLine{00716   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}hello"{}}, 5) != 5)\{}
\DoxyCodeLine{00717     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}write lf1 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00718     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00719   \}}
\DoxyCodeLine{00720   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00721 }
\DoxyCodeLine{00722   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}lf1"{}}, \textcolor{stringliteral}{"{}lf2"{}}) < 0)\{}
\DoxyCodeLine{00723     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link lf1 lf2 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00724     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00725   \}}
\DoxyCodeLine{00726   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}lf1"{}});}
\DoxyCodeLine{00727 }
\DoxyCodeLine{00728   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}lf1"{}}, 0) >= 0)\{}
\DoxyCodeLine{00729     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinked lf1 but it is still there!\(\backslash\)n"{}});}
\DoxyCodeLine{00730     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00731   \}}
\DoxyCodeLine{00732 }
\DoxyCodeLine{00733   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}lf2"{}}, 0);}
\DoxyCodeLine{00734   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00735     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open lf2 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00736     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00737   \}}
\DoxyCodeLine{00738   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}})) != 5)\{}
\DoxyCodeLine{00739     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}read lf2 failed\(\backslash\)n"{}});}
\DoxyCodeLine{00740     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00741   \}}
\DoxyCodeLine{00742   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00743 }
\DoxyCodeLine{00744   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}lf2"{}}, \textcolor{stringliteral}{"{}lf2"{}}) >= 0)\{}
\DoxyCodeLine{00745     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link lf2 lf2 succeeded! oops\(\backslash\)n"{}});}
\DoxyCodeLine{00746     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00747   \}}
\DoxyCodeLine{00748 }
\DoxyCodeLine{00749   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}lf2"{}});}
\DoxyCodeLine{00750   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}lf2"{}}, \textcolor{stringliteral}{"{}lf1"{}}) >= 0)\{}
\DoxyCodeLine{00751     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link non-\/existant succeeded! oops\(\backslash\)n"{}});}
\DoxyCodeLine{00752     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00753   \}}
\DoxyCodeLine{00754 }
\DoxyCodeLine{00755   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}."{}}, \textcolor{stringliteral}{"{}lf1"{}}) >= 0)\{}
\DoxyCodeLine{00756     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link . lf1 succeeded! oops\(\backslash\)n"{}});}
\DoxyCodeLine{00757     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00758   \}}
\DoxyCodeLine{00759 }
\DoxyCodeLine{00760   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}linktest ok\(\backslash\)n"{}});}
\DoxyCodeLine{00761 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=202pt]{de/dc0/usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a1740f29f4ce6d3060fd79a9312edc315}\label{usertests_8c_a1740f29f4ce6d3060fd79a9312edc315}} 
\index{usertests.c@{usertests.c}!linkunlink@{linkunlink}}
\index{linkunlink@{linkunlink}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{linkunlink()}{linkunlink()}}
{\footnotesize\ttfamily void linkunlink (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00858}{858}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00859 \{}
\DoxyCodeLine{00860   \textcolor{keywordtype}{int} pid, i;}
\DoxyCodeLine{00861 }
\DoxyCodeLine{00862   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}linkunlink test\(\backslash\)n"{}});}
\DoxyCodeLine{00863 }
\DoxyCodeLine{00864   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}x"{}});}
\DoxyCodeLine{00865   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00866   \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00867     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00868     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00869   \}}
\DoxyCodeLine{00870 }
\DoxyCodeLine{00871   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} x = (pid ? 1 : 97);}
\DoxyCodeLine{00872   \textcolor{keywordflow}{for}(i = 0; i < 100; i++)\{}
\DoxyCodeLine{00873     x = x * 1103515245 + 12345;}
\DoxyCodeLine{00874     \textcolor{keywordflow}{if}((x \% 3) == 0)\{}
\DoxyCodeLine{00875       \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}x"{}}, \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}} | \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}));}
\DoxyCodeLine{00876     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}((x \% 3) == 1)\{}
\DoxyCodeLine{00877       \mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}cat"{}}, \textcolor{stringliteral}{"{}x"{}});}
\DoxyCodeLine{00878     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00879       \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}x"{}});}
\DoxyCodeLine{00880     \}}
\DoxyCodeLine{00881   \}}
\DoxyCodeLine{00882 }
\DoxyCodeLine{00883   \textcolor{keywordflow}{if}(pid)}
\DoxyCodeLine{00884     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00885   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00886     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00887 }
\DoxyCodeLine{00888   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}linkunlink ok\(\backslash\)n"{}});}
\DoxyCodeLine{00889 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=211pt]{de/dc0/usertests_8c_a1740f29f4ce6d3060fd79a9312edc315_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{usertests_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{usertests.c@{usertests.c}!main@{main}}
\index{main@{main}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01749}{1749}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01750 \{}
\DoxyCodeLine{01751   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}usertests starting\(\backslash\)n"{}});}
\DoxyCodeLine{01752 }
\DoxyCodeLine{01753   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}usertests.ran"{}}, 0) >= 0)\{}
\DoxyCodeLine{01754     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}already ran user tests -\/-\/ rebuild fs.img\(\backslash\)n"{}});}
\DoxyCodeLine{01755     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01756   \}}
\DoxyCodeLine{01757   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}usertests.ran"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}));}
\DoxyCodeLine{01758 }
\DoxyCodeLine{01759   \mbox{\hyperlink{usertests_8c_a77cc2edce6e78f22dd9eb377462762f2}{argptest}}();}
\DoxyCodeLine{01760   \mbox{\hyperlink{usertests_8c_a425a0efe4f459decf4b5ea14517ab3cf}{createdelete}}();}
\DoxyCodeLine{01761   \mbox{\hyperlink{usertests_8c_a1740f29f4ce6d3060fd79a9312edc315}{linkunlink}}();}
\DoxyCodeLine{01762   \mbox{\hyperlink{usertests_8c_a5a12affe4fdfaa172d85da9a6adf98d2}{concreate}}();}
\DoxyCodeLine{01763   \mbox{\hyperlink{usertests_8c_a77a4432bc67dfb513f1c1d698c2c4ea6}{fourfiles}}();}
\DoxyCodeLine{01764   \mbox{\hyperlink{usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43}{sharedfd}}();}
\DoxyCodeLine{01765 }
\DoxyCodeLine{01766   \mbox{\hyperlink{usertests_8c_ac5b5d4517586be6396b4f3b37445945a}{bigargtest}}();}
\DoxyCodeLine{01767   \mbox{\hyperlink{usertests_8c_a57e55b2d0161d62bb99765ca3de43e35}{bigwrite}}();}
\DoxyCodeLine{01768   \mbox{\hyperlink{usertests_8c_ac5b5d4517586be6396b4f3b37445945a}{bigargtest}}();}
\DoxyCodeLine{01769   \mbox{\hyperlink{usertests_8c_a0b0ff95e564df3c3e8fc977226b75de7}{bsstest}}();}
\DoxyCodeLine{01770   \mbox{\hyperlink{usertests_8c_a06636ed0cda58c748d68e82d33d1afce}{sbrktest}}();}
\DoxyCodeLine{01771   \mbox{\hyperlink{usertests_8c_a98d8496ecb698b9400831f2718d805c3}{validatetest}}();}
\DoxyCodeLine{01772 }
\DoxyCodeLine{01773   \mbox{\hyperlink{usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07}{opentest}}();}
\DoxyCodeLine{01774   \mbox{\hyperlink{usertests_8c_a3a007a46ea6310b39a233e45d439f11a}{writetest}}();}
\DoxyCodeLine{01775   \mbox{\hyperlink{usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3}{writetest1}}();}
\DoxyCodeLine{01776   \mbox{\hyperlink{usertests_8c_a6773439702f38f3835fb6195f77e001c}{createtest}}();}
\DoxyCodeLine{01777 }
\DoxyCodeLine{01778   \mbox{\hyperlink{usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7}{openiputtest}}();}
\DoxyCodeLine{01779   \mbox{\hyperlink{usertests_8c_a8faab06cc4d48335076b368f02709ee2}{exitiputtest}}();}
\DoxyCodeLine{01780   \mbox{\hyperlink{usertests_8c_ac9fe56d8f6e4ed1c9677b06cb7b325e6}{iputtest}}();}
\DoxyCodeLine{01781 }
\DoxyCodeLine{01782   \mbox{\hyperlink{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}{mem}}();}
\DoxyCodeLine{01783   \mbox{\hyperlink{usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49}{pipe1}}();}
\DoxyCodeLine{01784   \mbox{\hyperlink{usertests_8c_a026b8c4ab2cb9af17e1c20d533981604}{preempt}}();}
\DoxyCodeLine{01785   \mbox{\hyperlink{usertests_8c_a330ed2370fe27045b8bec1eb0bd7818f}{exitwait}}();}
\DoxyCodeLine{01786 }
\DoxyCodeLine{01787   \mbox{\hyperlink{usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013}{rmdot}}();}
\DoxyCodeLine{01788   \mbox{\hyperlink{usertests_8c_abf4af50e65630225208fef177e267efb}{fourteen}}();}
\DoxyCodeLine{01789   \mbox{\hyperlink{usertests_8c_a86fe524d99d69c18a335512cf3405b31}{bigfile}}();}
\DoxyCodeLine{01790   \mbox{\hyperlink{usertests_8c_a5d39024e15998d6a6865f4cd0f69738b}{subdir}}();}
\DoxyCodeLine{01791   \mbox{\hyperlink{usertests_8c_a4eeee588d4689a58fc140a7d5d7b0608}{linktest}}();}
\DoxyCodeLine{01792   \mbox{\hyperlink{usertests_8c_a3331ced6fb67502a2e5277260d4f5aec}{unlinkread}}();}
\DoxyCodeLine{01793   \mbox{\hyperlink{usertests_8c_aedd6d3f148dd5c99b47900215c1ac43f}{dirfile}}();}
\DoxyCodeLine{01794   \mbox{\hyperlink{usertests_8c_a267227083b00d0cc3141b34f5152ae04}{iref}}();}
\DoxyCodeLine{01795   \mbox{\hyperlink{usertests_8c_a0ef8ccf57bc8c491407ec513b234f83c}{forktest}}();}
\DoxyCodeLine{01796   \mbox{\hyperlink{usertests_8c_aa0d46fcb43667c805b84ea7e1ff6100a}{bigdir}}(); \textcolor{comment}{// slow}}
\DoxyCodeLine{01797 }
\DoxyCodeLine{01798   \mbox{\hyperlink{usertests_8c_a6888f9f6d973f81f73091d1530ad212b}{uio}}();}
\DoxyCodeLine{01799 }
\DoxyCodeLine{01800   \mbox{\hyperlink{usertests_8c_a6f94e3b215d069b5419e87bafe80799a}{exectest}}();}
\DoxyCodeLine{01801 }
\DoxyCodeLine{01802   \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01803 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/dc0/usertests_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}\label{usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a}} 
\index{usertests.c@{usertests.c}!mem@{mem}}
\index{mem@{mem}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{mem()}{mem()}}
{\footnotesize\ttfamily void mem (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00428}{428}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00429 \{}
\DoxyCodeLine{00430   \textcolor{keywordtype}{void} *m1, *m2;}
\DoxyCodeLine{00431   \textcolor{keywordtype}{int} pid, ppid;}
\DoxyCodeLine{00432 }
\DoxyCodeLine{00433   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mem test\(\backslash\)n"{}});}
\DoxyCodeLine{00434   ppid = \mbox{\hyperlink{user_8h_a939cb25a305fe68aad9b365077f1a8c7}{getpid}}();}
\DoxyCodeLine{00435   \textcolor{keywordflow}{if}((pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}()) == 0)\{}
\DoxyCodeLine{00436     m1 = 0;}
\DoxyCodeLine{00437     \textcolor{keywordflow}{while}((m2 = \mbox{\hyperlink{umalloc_8c_ac131c16d1dcb6bea908d0237c82e981d}{malloc}}(10001)) != 0)\{}
\DoxyCodeLine{00438       *(\textcolor{keywordtype}{char}**)m2 = m1;}
\DoxyCodeLine{00439       m1 = m2;}
\DoxyCodeLine{00440     \}}
\DoxyCodeLine{00441     \textcolor{keywordflow}{while}(m1)\{}
\DoxyCodeLine{00442       m2 = *(\textcolor{keywordtype}{char}**)m1;}
\DoxyCodeLine{00443       \mbox{\hyperlink{umalloc_8c_adebb229f063e66907017098087cbe791}{free}}(m1);}
\DoxyCodeLine{00444       m1 = m2;}
\DoxyCodeLine{00445     \}}
\DoxyCodeLine{00446     m1 = \mbox{\hyperlink{umalloc_8c_ac131c16d1dcb6bea908d0237c82e981d}{malloc}}(1024*20);}
\DoxyCodeLine{00447     \textcolor{keywordflow}{if}(m1 == 0)\{}
\DoxyCodeLine{00448       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}couldn't allocate mem?!!\(\backslash\)n"{}});}
\DoxyCodeLine{00449       \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(ppid);}
\DoxyCodeLine{00450       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00451     \}}
\DoxyCodeLine{00452     \mbox{\hyperlink{umalloc_8c_adebb229f063e66907017098087cbe791}{free}}(m1);}
\DoxyCodeLine{00453     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mem ok\(\backslash\)n"{}});}
\DoxyCodeLine{00454     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00455   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00456     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00457   \}}
\DoxyCodeLine{00458 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/dc0/usertests_8c_aa1c6e6e76813ccb29a29bb119dba668a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7}\label{usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7}} 
\index{usertests.c@{usertests.c}!openiputtest@{openiputtest}}
\index{openiputtest@{openiputtest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{openiputtest()}{openiputtest()}}
{\footnotesize\ttfamily void openiputtest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00085}{85}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00086 \{}
\DoxyCodeLine{00087   \textcolor{keywordtype}{int} pid;}
\DoxyCodeLine{00088 }
\DoxyCodeLine{00089   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}openiput test\(\backslash\)n"{}});}
\DoxyCodeLine{00090   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}oidir"{}}) < 0)\{}
\DoxyCodeLine{00091     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}mkdir oidir failed\(\backslash\)n"{}});}
\DoxyCodeLine{00092     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00093   \}}
\DoxyCodeLine{00094   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00095   \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{00096     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{00097     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00098   \}}
\DoxyCodeLine{00099   \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{00100     \textcolor{keywordtype}{int} fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}oidir"{}}, \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00101     \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{00102       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open directory for write succeeded\(\backslash\)n"{}});}
\DoxyCodeLine{00103       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00104     \}}
\DoxyCodeLine{00105     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00106   \}}
\DoxyCodeLine{00107   \mbox{\hyperlink{defs_8h_aca4a88f06b3ebbcc04330f7ae06c8507}{sleep}}(1);}
\DoxyCodeLine{00108   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}oidir"{}}) != 0)\{}
\DoxyCodeLine{00109     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink failed\(\backslash\)n"{}});}
\DoxyCodeLine{00110     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00111   \}}
\DoxyCodeLine{00112   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00113   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}openiput test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00114 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{de/dc0/usertests_8c_a3208ed001a225f5d9ea3fb37f46810c7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07}\label{usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07}} 
\index{usertests.c@{usertests.c}!opentest@{opentest}}
\index{opentest@{opentest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{opentest()}{opentest()}}
{\footnotesize\ttfamily void opentest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00119}{119}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120 \{}
\DoxyCodeLine{00121   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{00122 }
\DoxyCodeLine{00123   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open test\(\backslash\)n"{}});}
\DoxyCodeLine{00124   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}echo"{}}, 0);}
\DoxyCodeLine{00125   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00126     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open echo failed!\(\backslash\)n"{}});}
\DoxyCodeLine{00127     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00128   \}}
\DoxyCodeLine{00129   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00130   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}doesnotexist"{}}, 0);}
\DoxyCodeLine{00131   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{00132     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open doesnotexist succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{00133     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00134   \}}
\DoxyCodeLine{00135   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00136 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{de/dc0/usertests_8c_ae7c61791dd2cfb8ad59b4c6e87685c07_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49}\label{usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49}} 
\index{usertests.c@{usertests.c}!pipe1@{pipe1}}
\index{pipe1@{pipe1}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{pipe1()}{pipe1()}}
{\footnotesize\ttfamily void pipe1 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00306}{306}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00307 \{}
\DoxyCodeLine{00308   \textcolor{keywordtype}{int} fds[2], pid;}
\DoxyCodeLine{00309   \textcolor{keywordtype}{int} seq, i, n, cc, total;}
\DoxyCodeLine{00310 }
\DoxyCodeLine{00311   \textcolor{keywordflow}{if}(\mbox{\hyperlink{structpipe}{pipe}}(fds) != 0)\{}
\DoxyCodeLine{00312     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe() failed\(\backslash\)n"{}});}
\DoxyCodeLine{00313     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00314   \}}
\DoxyCodeLine{00315   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00316   seq = 0;}
\DoxyCodeLine{00317   \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{00318     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fds[0]);}
\DoxyCodeLine{00319     \textcolor{keywordflow}{for}(n = 0; n < 5; n++)\{}
\DoxyCodeLine{00320       \textcolor{keywordflow}{for}(i = 0; i < 1033; i++)}
\DoxyCodeLine{00321         \mbox{\hyperlink{structbuf}{buf}}[i] = seq++;}
\DoxyCodeLine{00322       \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fds[1], \mbox{\hyperlink{structbuf}{buf}}, 1033) != 1033)\{}
\DoxyCodeLine{00323         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe1 oops 1\(\backslash\)n"{}});}
\DoxyCodeLine{00324         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00325       \}}
\DoxyCodeLine{00326     \}}
\DoxyCodeLine{00327     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00328   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pid > 0)\{}
\DoxyCodeLine{00329     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fds[1]);}
\DoxyCodeLine{00330     total = 0;}
\DoxyCodeLine{00331     cc = 1;}
\DoxyCodeLine{00332     \textcolor{keywordflow}{while}((n = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fds[0], \mbox{\hyperlink{structbuf}{buf}}, cc)) > 0)\{}
\DoxyCodeLine{00333       \textcolor{keywordflow}{for}(i = 0; i < n; i++)\{}
\DoxyCodeLine{00334         \textcolor{keywordflow}{if}((\mbox{\hyperlink{structbuf}{buf}}[i] \& 0xff) != (seq++ \& 0xff))\{}
\DoxyCodeLine{00335           \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe1 oops 2\(\backslash\)n"{}});}
\DoxyCodeLine{00336           \textcolor{keywordflow}{return};}
\DoxyCodeLine{00337         \}}
\DoxyCodeLine{00338       \}}
\DoxyCodeLine{00339       total += n;}
\DoxyCodeLine{00340       cc = cc * 2;}
\DoxyCodeLine{00341       \textcolor{keywordflow}{if}(cc > \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}))}
\DoxyCodeLine{00342         cc = \textcolor{keyword}{sizeof}(\mbox{\hyperlink{usertests_8c_ad42dafc8306f25c145c246f973b420cf}{buf}});}
\DoxyCodeLine{00343     \}}
\DoxyCodeLine{00344     \textcolor{keywordflow}{if}(total != 5 * 1033)\{}
\DoxyCodeLine{00345       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe1 oops 3 total \%d\(\backslash\)n"{}}, total);}
\DoxyCodeLine{00346       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00347     \}}
\DoxyCodeLine{00348     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fds[0]);}
\DoxyCodeLine{00349     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00350   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00351     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fork() failed\(\backslash\)n"{}});}
\DoxyCodeLine{00352     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00353   \}}
\DoxyCodeLine{00354   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe1 ok\(\backslash\)n"{}});}
\DoxyCodeLine{00355 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=194pt]{de/dc0/usertests_8c_a16ae754fb9c5622d44d0c3ce62ad7c49_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a026b8c4ab2cb9af17e1c20d533981604}\label{usertests_8c_a026b8c4ab2cb9af17e1c20d533981604}} 
\index{usertests.c@{usertests.c}!preempt@{preempt}}
\index{preempt@{preempt}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{preempt()}{preempt()}}
{\footnotesize\ttfamily void preempt (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00359}{359}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00360 \{}
\DoxyCodeLine{00361   \textcolor{keywordtype}{int} pid1, pid2, pid3;}
\DoxyCodeLine{00362   \textcolor{keywordtype}{int} pfds[2];}
\DoxyCodeLine{00363 }
\DoxyCodeLine{00364   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}preempt: "{}});}
\DoxyCodeLine{00365   pid1 = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00366   \textcolor{keywordflow}{if}(pid1 == 0)}
\DoxyCodeLine{00367     \textcolor{keywordflow}{for}(;;)}
\DoxyCodeLine{00368       ;}
\DoxyCodeLine{00369 }
\DoxyCodeLine{00370   pid2 = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00371   \textcolor{keywordflow}{if}(pid2 == 0)}
\DoxyCodeLine{00372     \textcolor{keywordflow}{for}(;;)}
\DoxyCodeLine{00373       ;}
\DoxyCodeLine{00374 }
\DoxyCodeLine{00375   \mbox{\hyperlink{structpipe}{pipe}}(pfds);}
\DoxyCodeLine{00376   pid3 = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00377   \textcolor{keywordflow}{if}(pid3 == 0)\{}
\DoxyCodeLine{00378     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(pfds[0]);}
\DoxyCodeLine{00379     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(pfds[1], \textcolor{stringliteral}{"{}x"{}}, 1) != 1)}
\DoxyCodeLine{00380       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}preempt write error"{}});}
\DoxyCodeLine{00381     \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(pfds[1]);}
\DoxyCodeLine{00382     \textcolor{keywordflow}{for}(;;)}
\DoxyCodeLine{00383       ;}
\DoxyCodeLine{00384   \}}
\DoxyCodeLine{00385 }
\DoxyCodeLine{00386   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(pfds[1]);}
\DoxyCodeLine{00387   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(pfds[0], \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}})) != 1)\{}
\DoxyCodeLine{00388     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}preempt read error"{}});}
\DoxyCodeLine{00389     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00390   \}}
\DoxyCodeLine{00391   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(pfds[0]);}
\DoxyCodeLine{00392   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}kill... "{}});}
\DoxyCodeLine{00393   \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pid1);}
\DoxyCodeLine{00394   \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pid2);}
\DoxyCodeLine{00395   \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pid3);}
\DoxyCodeLine{00396   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}wait... "{}});}
\DoxyCodeLine{00397   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00398   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00399   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00400   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}preempt ok\(\backslash\)n"{}});}
\DoxyCodeLine{00401 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{de/dc0/usertests_8c_a026b8c4ab2cb9af17e1c20d533981604_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a866c3f5e3e89035c3ba01b22d786d8bc}\label{usertests_8c_a866c3f5e3e89035c3ba01b22d786d8bc}} 
\index{usertests.c@{usertests.c}!rand@{rand}}
\index{rand@{rand}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{rand()}{rand()}}
{\footnotesize\ttfamily unsigned int rand (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01742}{1742}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01743 \{}
\DoxyCodeLine{01744   \mbox{\hyperlink{usertests_8c_af0bd27c045c0317df893912a0142b21a}{randstate}} = \mbox{\hyperlink{usertests_8c_af0bd27c045c0317df893912a0142b21a}{randstate}} * 1664525 + 1013904223;}
\DoxyCodeLine{01745   \textcolor{keywordflow}{return} \mbox{\hyperlink{usertests_8c_af0bd27c045c0317df893912a0142b21a}{randstate}};}
\DoxyCodeLine{01746 \}}

\end{DoxyCode}
\mbox{\Hypertarget{usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013}\label{usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013}} 
\index{usertests.c@{usertests.c}!rmdot@{rmdot}}
\index{rmdot@{rmdot}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{rmdot()}{rmdot()}}
{\footnotesize\ttfamily void rmdot (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01245}{1245}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01246 \{}
\DoxyCodeLine{01247   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}rmdot test\(\backslash\)n"{}});}
\DoxyCodeLine{01248   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dots"{}}) != 0)\{}
\DoxyCodeLine{01249     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir dots failed\(\backslash\)n"{}});}
\DoxyCodeLine{01250     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01251   \}}
\DoxyCodeLine{01252   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dots"{}}) != 0)\{}
\DoxyCodeLine{01253     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dots failed\(\backslash\)n"{}});}
\DoxyCodeLine{01254     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01255   \}}
\DoxyCodeLine{01256   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}."{}}) == 0)\{}
\DoxyCodeLine{01257     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}rm . worked!\(\backslash\)n"{}});}
\DoxyCodeLine{01258     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01259   \}}
\DoxyCodeLine{01260   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}.."{}}) == 0)\{}
\DoxyCodeLine{01261     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}rm .. worked!\(\backslash\)n"{}});}
\DoxyCodeLine{01262     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01263   \}}
\DoxyCodeLine{01264   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}/"{}}) != 0)\{}
\DoxyCodeLine{01265     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir / failed\(\backslash\)n"{}});}
\DoxyCodeLine{01266     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01267   \}}
\DoxyCodeLine{01268   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dots/."{}}) == 0)\{}
\DoxyCodeLine{01269     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dots/. worked!\(\backslash\)n"{}});}
\DoxyCodeLine{01270     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01271   \}}
\DoxyCodeLine{01272   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dots/.."{}}) == 0)\{}
\DoxyCodeLine{01273     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dots/.. worked!\(\backslash\)n"{}});}
\DoxyCodeLine{01274     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01275   \}}
\DoxyCodeLine{01276   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dots"{}}) != 0)\{}
\DoxyCodeLine{01277     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dots failed!\(\backslash\)n"{}});}
\DoxyCodeLine{01278     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01279   \}}
\DoxyCodeLine{01280   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}rmdot ok\(\backslash\)n"{}});}
\DoxyCodeLine{01281 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=195pt]{de/dc0/usertests_8c_a6b22568d42b584ed4b0dc4e2b0677013_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a06636ed0cda58c748d68e82d33d1afce}\label{usertests_8c_a06636ed0cda58c748d68e82d33d1afce}} 
\index{usertests.c@{usertests.c}!sbrktest@{sbrktest}}
\index{sbrktest@{sbrktest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{sbrktest()}{sbrktest()}}
{\footnotesize\ttfamily void sbrktest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01415}{1415}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01416 \{}
\DoxyCodeLine{01417   \textcolor{keywordtype}{int} fds[2], pid, pids[10], ppid;}
\DoxyCodeLine{01418   \textcolor{keywordtype}{char} *a, *b, *c, *lastaddr, *oldbrk, *p, scratch;}
\DoxyCodeLine{01419   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} amt;}
\DoxyCodeLine{01420 }
\DoxyCodeLine{01421   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test\(\backslash\)n"{}});}
\DoxyCodeLine{01422   oldbrk = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01423 }
\DoxyCodeLine{01424   \textcolor{comment}{// can one sbrk() less than a page?}}
\DoxyCodeLine{01425   a = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01426   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{01427   \textcolor{keywordflow}{for}(i = 0; i < 5000; i++)\{}
\DoxyCodeLine{01428     b = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(1);}
\DoxyCodeLine{01429     \textcolor{keywordflow}{if}(b != a)\{}
\DoxyCodeLine{01430       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test failed \%d \%x \%x\(\backslash\)n"{}}, i, a, b);}
\DoxyCodeLine{01431       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01432     \}}
\DoxyCodeLine{01433     *b = 1;}
\DoxyCodeLine{01434     a = b + 1;}
\DoxyCodeLine{01435   \}}
\DoxyCodeLine{01436   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{01437   \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{01438     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{01439     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01440   \}}
\DoxyCodeLine{01441   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(1);}
\DoxyCodeLine{01442   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(1);}
\DoxyCodeLine{01443   \textcolor{keywordflow}{if}(c != a + 1)\{}
\DoxyCodeLine{01444     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test failed post-\/fork\(\backslash\)n"{}});}
\DoxyCodeLine{01445     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01446   \}}
\DoxyCodeLine{01447   \textcolor{keywordflow}{if}(pid == 0)}
\DoxyCodeLine{01448     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01449   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01450 }
\DoxyCodeLine{01451   \textcolor{comment}{// can one grow address space to something big?}}
\DoxyCodeLine{01452 \textcolor{preprocessor}{\#define BIG (100*1024*1024)}}
\DoxyCodeLine{01453   a = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01454   amt = (\mbox{\hyperlink{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}{BIG}}) -\/ (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})a;}
\DoxyCodeLine{01455   p = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(amt);}
\DoxyCodeLine{01456   \textcolor{keywordflow}{if} (p != a) \{}
\DoxyCodeLine{01457     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test failed to grow big address space; enough phys mem?\(\backslash\)n"{}});}
\DoxyCodeLine{01458     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01459   \}}
\DoxyCodeLine{01460   lastaddr = (\textcolor{keywordtype}{char}*) (\mbox{\hyperlink{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}{BIG}}-\/1);}
\DoxyCodeLine{01461   *lastaddr = 99;}
\DoxyCodeLine{01462 }
\DoxyCodeLine{01463   \textcolor{comment}{// can one de-\/allocate?}}
\DoxyCodeLine{01464   a = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01465   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(-\/4096);}
\DoxyCodeLine{01466   \textcolor{keywordflow}{if}(c == (\textcolor{keywordtype}{char}*)0xffffffff)\{}
\DoxyCodeLine{01467     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk could not deallocate\(\backslash\)n"{}});}
\DoxyCodeLine{01468     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01469   \}}
\DoxyCodeLine{01470   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01471   \textcolor{keywordflow}{if}(c != a -\/ 4096)\{}
\DoxyCodeLine{01472     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk deallocation produced wrong address, a \%x c \%x\(\backslash\)n"{}}, a, c);}
\DoxyCodeLine{01473     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01474   \}}
\DoxyCodeLine{01475 }
\DoxyCodeLine{01476   \textcolor{comment}{// can one re-\/allocate that page?}}
\DoxyCodeLine{01477   a = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01478   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(4096);}
\DoxyCodeLine{01479   \textcolor{keywordflow}{if}(c != a || \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0) != a + 4096)\{}
\DoxyCodeLine{01480     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk re-\/allocation failed, a \%x c \%x\(\backslash\)n"{}}, a, c);}
\DoxyCodeLine{01481     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01482   \}}
\DoxyCodeLine{01483   \textcolor{keywordflow}{if}(*lastaddr == 99)\{}
\DoxyCodeLine{01484     \textcolor{comment}{// should be zero}}
\DoxyCodeLine{01485     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk de-\/allocation didn't really deallocate\(\backslash\)n"{}});}
\DoxyCodeLine{01486     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01487   \}}
\DoxyCodeLine{01488 }
\DoxyCodeLine{01489   a = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0);}
\DoxyCodeLine{01490   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(-\/(\mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0) -\/ oldbrk));}
\DoxyCodeLine{01491   \textcolor{keywordflow}{if}(c != a)\{}
\DoxyCodeLine{01492     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk downsize failed, a \%x c \%x\(\backslash\)n"{}}, a, c);}
\DoxyCodeLine{01493     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01494   \}}
\DoxyCodeLine{01495 }
\DoxyCodeLine{01496   \textcolor{comment}{// can we read the kernel's memory?}}
\DoxyCodeLine{01497   \textcolor{keywordflow}{for}(a = (\textcolor{keywordtype}{char}*)(\mbox{\hyperlink{memlayout_8h_a20cbfc19992a40ab9ccf4aa8ab8283d0}{KERNBASE}}); a < (\textcolor{keywordtype}{char}*) (\mbox{\hyperlink{memlayout_8h_a20cbfc19992a40ab9ccf4aa8ab8283d0}{KERNBASE}}+2000000); a += 50000)\{}
\DoxyCodeLine{01498     ppid = \mbox{\hyperlink{user_8h_a939cb25a305fe68aad9b365077f1a8c7}{getpid}}();}
\DoxyCodeLine{01499     pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{01500     \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{01501       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{01502       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01503     \}}
\DoxyCodeLine{01504     \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{01505       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}oops could read \%x = \%x\(\backslash\)n"{}}, a, *a);}
\DoxyCodeLine{01506       \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(ppid);}
\DoxyCodeLine{01507       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01508     \}}
\DoxyCodeLine{01509     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01510   \}}
\DoxyCodeLine{01511 }
\DoxyCodeLine{01512   \textcolor{comment}{// if we run the system out of memory, does it clean up the last}}
\DoxyCodeLine{01513   \textcolor{comment}{// failed allocation?}}
\DoxyCodeLine{01514   \textcolor{keywordflow}{if}(\mbox{\hyperlink{structpipe}{pipe}}(fds) != 0)\{}
\DoxyCodeLine{01515     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}pipe() failed\(\backslash\)n"{}});}
\DoxyCodeLine{01516     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01517   \}}
\DoxyCodeLine{01518   \textcolor{keywordflow}{for}(i = 0; i < \textcolor{keyword}{sizeof}(pids)/\textcolor{keyword}{sizeof}(pids[0]); i++)\{}
\DoxyCodeLine{01519     \textcolor{keywordflow}{if}((pids[i] = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}()) == 0)\{}
\DoxyCodeLine{01520       \textcolor{comment}{// allocate a lot of memory}}
\DoxyCodeLine{01521       \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(\mbox{\hyperlink{usertests_8c_a38eb76aa0a9a1bb1dac30c75be4a05b6}{BIG}} -\/ (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})\mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0));}
\DoxyCodeLine{01522       \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fds[1], \textcolor{stringliteral}{"{}x"{}}, 1);}
\DoxyCodeLine{01523       \textcolor{comment}{// sit around until killed}}
\DoxyCodeLine{01524       \textcolor{keywordflow}{for}(;;) \mbox{\hyperlink{defs_8h_aca4a88f06b3ebbcc04330f7ae06c8507}{sleep}}(1000);}
\DoxyCodeLine{01525     \}}
\DoxyCodeLine{01526     \textcolor{keywordflow}{if}(pids[i] != -\/1)}
\DoxyCodeLine{01527       \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fds[0], \&scratch, 1);}
\DoxyCodeLine{01528   \}}
\DoxyCodeLine{01529   \textcolor{comment}{// if those failed allocations freed up the pages they did allocate,}}
\DoxyCodeLine{01530   \textcolor{comment}{// we'll be able to allocate here}}
\DoxyCodeLine{01531   c = \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(4096);}
\DoxyCodeLine{01532   \textcolor{keywordflow}{for}(i = 0; i < \textcolor{keyword}{sizeof}(pids)/\textcolor{keyword}{sizeof}(pids[0]); i++)\{}
\DoxyCodeLine{01533     \textcolor{keywordflow}{if}(pids[i] == -\/1)}
\DoxyCodeLine{01534       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{01535     \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pids[i]);}
\DoxyCodeLine{01536     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01537   \}}
\DoxyCodeLine{01538   \textcolor{keywordflow}{if}(c == (\textcolor{keywordtype}{char}*)0xffffffff)\{}
\DoxyCodeLine{01539     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}failed sbrk leaked memory\(\backslash\)n"{}});}
\DoxyCodeLine{01540     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01541   \}}
\DoxyCodeLine{01542 }
\DoxyCodeLine{01543   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0) > oldbrk)}
\DoxyCodeLine{01544     \mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(-\/(\mbox{\hyperlink{user_8h_af9b02dd9eafa02f44aa5e354a5260bc9}{sbrk}}(0) -\/ oldbrk));}
\DoxyCodeLine{01545 }
\DoxyCodeLine{01546   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}sbrk test OK\(\backslash\)n"{}});}
\DoxyCodeLine{01547 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=206pt]{de/dc0/usertests_8c_a06636ed0cda58c748d68e82d33d1afce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43}\label{usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43}} 
\index{usertests.c@{usertests.c}!sharedfd@{sharedfd}}
\index{sharedfd@{sharedfd}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{sharedfd()}{sharedfd()}}
{\footnotesize\ttfamily void sharedfd (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00465}{465}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00466 \{}
\DoxyCodeLine{00467   \textcolor{keywordtype}{int} fd, pid, i, n, nc, np;}
\DoxyCodeLine{00468   \textcolor{keywordtype}{char} \mbox{\hyperlink{structbuf}{buf}}[10];}
\DoxyCodeLine{00469 }
\DoxyCodeLine{00470   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}sharedfd test\(\backslash\)n"{}});}
\DoxyCodeLine{00471 }
\DoxyCodeLine{00472   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}sharedfd"{}});}
\DoxyCodeLine{00473   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}sharedfd"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00474   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00475     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fstests: cannot open sharedfd for writing"{}});}
\DoxyCodeLine{00476     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00477   \}}
\DoxyCodeLine{00478   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00479   \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(\mbox{\hyperlink{structbuf}{buf}}, pid==0?\textcolor{charliteral}{'c'}:\textcolor{charliteral}{'p'}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}));}
\DoxyCodeLine{00480   \textcolor{keywordflow}{for}(i = 0; i < 1000; i++)\{}
\DoxyCodeLine{00481     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}})) != \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}))\{}
\DoxyCodeLine{00482       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fstests: write sharedfd failed\(\backslash\)n"{}});}
\DoxyCodeLine{00483       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00484     \}}
\DoxyCodeLine{00485   \}}
\DoxyCodeLine{00486   \textcolor{keywordflow}{if}(pid == 0)}
\DoxyCodeLine{00487     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00488   \textcolor{keywordflow}{else}}
\DoxyCodeLine{00489     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00490   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00491   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}sharedfd"{}}, 0);}
\DoxyCodeLine{00492   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00493     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}fstests: cannot open sharedfd for reading\(\backslash\)n"{}});}
\DoxyCodeLine{00494     \textcolor{keywordflow}{return};}
\DoxyCodeLine{00495   \}}
\DoxyCodeLine{00496   nc = np = 0;}
\DoxyCodeLine{00497   \textcolor{keywordflow}{while}((n = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}))) > 0)\{}
\DoxyCodeLine{00498     \textcolor{keywordflow}{for}(i = 0; i < \textcolor{keyword}{sizeof}(\mbox{\hyperlink{usertests_8c_ad42dafc8306f25c145c246f973b420cf}{buf}}); i++)\{}
\DoxyCodeLine{00499       \textcolor{keywordflow}{if}(\mbox{\hyperlink{structbuf}{buf}}[i] == \textcolor{charliteral}{'c'})}
\DoxyCodeLine{00500         nc++;}
\DoxyCodeLine{00501       \textcolor{keywordflow}{if}(\mbox{\hyperlink{structbuf}{buf}}[i] == \textcolor{charliteral}{'p'})}
\DoxyCodeLine{00502         np++;}
\DoxyCodeLine{00503     \}}
\DoxyCodeLine{00504   \}}
\DoxyCodeLine{00505   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00506   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}sharedfd"{}});}
\DoxyCodeLine{00507   \textcolor{keywordflow}{if}(nc == 10000 \&\& np == 10000)\{}
\DoxyCodeLine{00508     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}sharedfd ok\(\backslash\)n"{}});}
\DoxyCodeLine{00509   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00510     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}sharedfd oops \%d \%d\(\backslash\)n"{}}, nc, np);}
\DoxyCodeLine{00511     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00512   \}}
\DoxyCodeLine{00513 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{de/dc0/usertests_8c_a02e1ca3f4db5f4bf8a683a0b7c18cc43_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a5d39024e15998d6a6865f4cd0f69738b}\label{usertests_8c_a5d39024e15998d6a6865f4cd0f69738b}} 
\index{usertests.c@{usertests.c}!subdir@{subdir}}
\index{subdir@{subdir}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{subdir()}{subdir()}}
{\footnotesize\ttfamily void subdir (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00935}{935}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00936 \{}
\DoxyCodeLine{00937   \textcolor{keywordtype}{int} fd, cc;}
\DoxyCodeLine{00938 }
\DoxyCodeLine{00939   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}subdir test\(\backslash\)n"{}});}
\DoxyCodeLine{00940 }
\DoxyCodeLine{00941   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}ff"{}});}
\DoxyCodeLine{00942   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dd"{}}) != 0)\{}
\DoxyCodeLine{00943     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}subdir mkdir dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{00944     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00945   \}}
\DoxyCodeLine{00946 }
\DoxyCodeLine{00947   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/ff"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00948   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00949     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dd/ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{00950     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00951   \}}
\DoxyCodeLine{00952   \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}ff"{}}, 2);}
\DoxyCodeLine{00953   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00954 }
\DoxyCodeLine{00955   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd"{}}) >= 0)\{}
\DoxyCodeLine{00956     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd (non-\/empty dir) succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{00957     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00958   \}}
\DoxyCodeLine{00959 }
\DoxyCodeLine{00960   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}/dd/dd"{}}) != 0)\{}
\DoxyCodeLine{00961     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}subdir mkdir dd/dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{00962     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00963   \}}
\DoxyCodeLine{00964 }
\DoxyCodeLine{00965   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/dd/ff"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00966   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00967     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dd/dd/ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{00968     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00969   \}}
\DoxyCodeLine{00970   \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}FF"{}}, 2);}
\DoxyCodeLine{00971   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00972 }
\DoxyCodeLine{00973   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/dd/../ff"{}}, 0);}
\DoxyCodeLine{00974   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00975     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open dd/dd/../ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{00976     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00977   \}}
\DoxyCodeLine{00978   cc = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}}));}
\DoxyCodeLine{00979   \textcolor{keywordflow}{if}(cc != 2 || \mbox{\hyperlink{structbuf}{buf}}[0] != \textcolor{charliteral}{'f'})\{}
\DoxyCodeLine{00980     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}dd/dd/../ff wrong content\(\backslash\)n"{}});}
\DoxyCodeLine{00981     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00982   \}}
\DoxyCodeLine{00983   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00984 }
\DoxyCodeLine{00985   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}dd/dd/ff"{}}, \textcolor{stringliteral}{"{}dd/dd/ffff"{}}) != 0)\{}
\DoxyCodeLine{00986     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link dd/dd/ff dd/dd/ffff failed\(\backslash\)n"{}});}
\DoxyCodeLine{00987     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00988   \}}
\DoxyCodeLine{00989 }
\DoxyCodeLine{00990   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/dd/ff"{}}) != 0)\{}
\DoxyCodeLine{00991     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/dd/ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{00992     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00993   \}}
\DoxyCodeLine{00994   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/dd/ff"{}}, \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}}) >= 0)\{}
\DoxyCodeLine{00995     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open (unlinked) dd/dd/ff succeeded\(\backslash\)n"{}});}
\DoxyCodeLine{00996     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00997   \}}
\DoxyCodeLine{00998 }
\DoxyCodeLine{00999   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dd"{}}) != 0)\{}
\DoxyCodeLine{01000     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01001     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01002   \}}
\DoxyCodeLine{01003   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dd/../../dd"{}}) != 0)\{}
\DoxyCodeLine{01004     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dd/../../dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01005     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01006   \}}
\DoxyCodeLine{01007   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dd/../../../dd"{}}) != 0)\{}
\DoxyCodeLine{01008     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dd/../../dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01009     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01010   \}}
\DoxyCodeLine{01011   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}./.."{}}) != 0)\{}
\DoxyCodeLine{01012     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir ./.. failed\(\backslash\)n"{}});}
\DoxyCodeLine{01013     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01014   \}}
\DoxyCodeLine{01015 }
\DoxyCodeLine{01016   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/dd/ffff"{}}, 0);}
\DoxyCodeLine{01017   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{01018     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open dd/dd/ffff failed\(\backslash\)n"{}});}
\DoxyCodeLine{01019     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01020   \}}
\DoxyCodeLine{01021   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}})) != 2)\{}
\DoxyCodeLine{01022     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}read dd/dd/ffff wrong len\(\backslash\)n"{}});}
\DoxyCodeLine{01023     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01024   \}}
\DoxyCodeLine{01025   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{01026 }
\DoxyCodeLine{01027   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/dd/ff"{}}, \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}}) >= 0)\{}
\DoxyCodeLine{01028     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open (unlinked) dd/dd/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01029     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01030   \}}
\DoxyCodeLine{01031 }
\DoxyCodeLine{01032   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/ff/ff"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}}) >= 0)\{}
\DoxyCodeLine{01033     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dd/ff/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01034     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01035   \}}
\DoxyCodeLine{01036   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd/xx/ff"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}}) >= 0)\{}
\DoxyCodeLine{01037     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dd/xx/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01038     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01039   \}}
\DoxyCodeLine{01040   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}) >= 0)\{}
\DoxyCodeLine{01041     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create dd succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01042     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01043   \}}
\DoxyCodeLine{01044   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd"{}}, \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}}) >= 0)\{}
\DoxyCodeLine{01045     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open dd rdwr succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01046     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01047   \}}
\DoxyCodeLine{01048   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}dd"{}}, \mbox{\hyperlink{fcntl_8h_a11b644a8526139c4cc1850dac1271ced}{O\_WRONLY}}) >= 0)\{}
\DoxyCodeLine{01049     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open dd wronly succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01050     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01051   \}}
\DoxyCodeLine{01052   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}dd/ff/ff"{}}, \textcolor{stringliteral}{"{}dd/dd/xx"{}}) == 0)\{}
\DoxyCodeLine{01053     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link dd/ff/ff dd/dd/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01054     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01055   \}}
\DoxyCodeLine{01056   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}dd/xx/ff"{}}, \textcolor{stringliteral}{"{}dd/dd/xx"{}}) == 0)\{}
\DoxyCodeLine{01057     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link dd/xx/ff dd/dd/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01058     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01059   \}}
\DoxyCodeLine{01060   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}dd/ff"{}}, \textcolor{stringliteral}{"{}dd/dd/ffff"{}}) == 0)\{}
\DoxyCodeLine{01061     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}link dd/ff dd/dd/ffff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01062     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01063   \}}
\DoxyCodeLine{01064   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dd/ff/ff"{}}) == 0)\{}
\DoxyCodeLine{01065     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir dd/ff/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01066     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01067   \}}
\DoxyCodeLine{01068   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dd/xx/ff"{}}) == 0)\{}
\DoxyCodeLine{01069     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir dd/xx/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01070     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01071   \}}
\DoxyCodeLine{01072   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a034fad25eff1c559bf33767e574d1d62}{mkdir}}(\textcolor{stringliteral}{"{}dd/dd/ffff"{}}) == 0)\{}
\DoxyCodeLine{01073     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}mkdir dd/dd/ffff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01074     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01075   \}}
\DoxyCodeLine{01076   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/xx/ff"{}}) == 0)\{}
\DoxyCodeLine{01077     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/xx/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01078     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01079   \}}
\DoxyCodeLine{01080   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/ff/ff"{}}) == 0)\{}
\DoxyCodeLine{01081     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/ff/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01082     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01083   \}}
\DoxyCodeLine{01084   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dd/ff"{}}) == 0)\{}
\DoxyCodeLine{01085     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dd/ff succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01086     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01087   \}}
\DoxyCodeLine{01088   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_aebe305544f2eb0cf2c4a4f8b4c12bc0f}{chdir}}(\textcolor{stringliteral}{"{}dd/xx"{}}) == 0)\{}
\DoxyCodeLine{01089     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}chdir dd/xx succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01090     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01091   \}}
\DoxyCodeLine{01092 }
\DoxyCodeLine{01093   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/dd/ffff"{}}) != 0)\{}
\DoxyCodeLine{01094     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/dd/ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{01095     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01096   \}}
\DoxyCodeLine{01097   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/ff"{}}) != 0)\{}
\DoxyCodeLine{01098     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/ff failed\(\backslash\)n"{}});}
\DoxyCodeLine{01099     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01100   \}}
\DoxyCodeLine{01101   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd"{}}) == 0)\{}
\DoxyCodeLine{01102     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink non-\/empty dd succeeded!\(\backslash\)n"{}});}
\DoxyCodeLine{01103     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01104   \}}
\DoxyCodeLine{01105   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd/dd"{}}) < 0)\{}
\DoxyCodeLine{01106     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd/dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01107     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01108   \}}
\DoxyCodeLine{01109   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}dd"{}}) < 0)\{}
\DoxyCodeLine{01110     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink dd failed\(\backslash\)n"{}});}
\DoxyCodeLine{01111     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01112   \}}
\DoxyCodeLine{01113 }
\DoxyCodeLine{01114   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}subdir ok\(\backslash\)n"{}});}
\DoxyCodeLine{01115 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=197pt]{de/dc0/usertests_8c_a5d39024e15998d6a6865f4cd0f69738b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a6888f9f6d973f81f73091d1530ad212b}\label{usertests_8c_a6888f9f6d973f81f73091d1530ad212b}} 
\index{usertests.c@{usertests.c}!uio@{uio}}
\index{uio@{uio}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{uio()}{uio()}}
{\footnotesize\ttfamily void uio (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01699}{1699}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01700 \{}
\DoxyCodeLine{01701 \textcolor{preprocessor}{  \#define RTC\_ADDR 0x70}}
\DoxyCodeLine{01702 \textcolor{preprocessor}{  \#define RTC\_DATA 0x71}}
\DoxyCodeLine{01703 }
\DoxyCodeLine{01704   \mbox{\hyperlink{types_8h_ab95f123a6c9bcfee6a343170ef8c5f69}{ushort}} port = 0;}
\DoxyCodeLine{01705   \mbox{\hyperlink{types_8h_a65f85814a8290f9797005d3b28e7e5fc}{uchar}} val = 0;}
\DoxyCodeLine{01706   \textcolor{keywordtype}{int} pid;}
\DoxyCodeLine{01707 }
\DoxyCodeLine{01708   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}uio test\(\backslash\)n"{}});}
\DoxyCodeLine{01709   pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{01710   \textcolor{keywordflow}{if}(pid == 0)\{}
\DoxyCodeLine{01711     port = \mbox{\hyperlink{usertests_8c_a6ee8e8390002b24c20c7a1c64bc2c7ac}{RTC\_ADDR}};}
\DoxyCodeLine{01712     val = 0x09;  \textcolor{comment}{/* year */}}
\DoxyCodeLine{01713     \textcolor{comment}{/* http://wiki.osdev.org/Inline\_Assembly/Examples */}}
\DoxyCodeLine{01714     \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}outb \%0,\%1"{}}::\textcolor{stringliteral}{"{}a"{}}(val), \textcolor{stringliteral}{"{}d"{}} (port));}
\DoxyCodeLine{01715     port = \mbox{\hyperlink{usertests_8c_aa6e7096882c10a7c82c33f3589694b6e}{RTC\_DATA}};}
\DoxyCodeLine{01716     \textcolor{keyword}{asm} \textcolor{keyword}{volatile}(\textcolor{stringliteral}{"{}inb \%1,\%0"{}} : \textcolor{stringliteral}{"{}=a"{}} (val) : \textcolor{stringliteral}{"{}d"{}} (port));}
\DoxyCodeLine{01717     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}uio: uio succeeded; test FAILED\(\backslash\)n"{}});}
\DoxyCodeLine{01718     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01719   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(pid < 0)\{}
\DoxyCodeLine{01720     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}} (1, \textcolor{stringliteral}{"{}fork failed\(\backslash\)n"{}});}
\DoxyCodeLine{01721     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01722   \}}
\DoxyCodeLine{01723   \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01724   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}uio test done\(\backslash\)n"{}});}
\DoxyCodeLine{01725 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=183pt]{de/dc0/usertests_8c_a6888f9f6d973f81f73091d1530ad212b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a3331ced6fb67502a2e5277260d4f5aec}\label{usertests_8c_a3331ced6fb67502a2e5277260d4f5aec}} 
\index{usertests.c@{usertests.c}!unlinkread@{unlinkread}}
\index{unlinkread@{unlinkread}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{unlinkread()}{unlinkread()}}
{\footnotesize\ttfamily void unlinkread (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00657}{657}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00658 \{}
\DoxyCodeLine{00659   \textcolor{keywordtype}{int} fd, fd1;}
\DoxyCodeLine{00660 }
\DoxyCodeLine{00661   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinkread test\(\backslash\)n"{}});}
\DoxyCodeLine{00662   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}unlinkread"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00663   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00664     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}create unlinkread failed\(\backslash\)n"{}});}
\DoxyCodeLine{00665     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00666   \}}
\DoxyCodeLine{00667   \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}hello"{}}, 5);}
\DoxyCodeLine{00668   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00669 }
\DoxyCodeLine{00670   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}unlinkread"{}}, \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00671   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00672     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}open unlinkread failed\(\backslash\)n"{}});}
\DoxyCodeLine{00673     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00674   \}}
\DoxyCodeLine{00675   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}unlinkread"{}}) != 0)\{}
\DoxyCodeLine{00676     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlink unlinkread failed\(\backslash\)n"{}});}
\DoxyCodeLine{00677     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00678   \}}
\DoxyCodeLine{00679 }
\DoxyCodeLine{00680   fd1 = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}unlinkread"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}} | \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00681   \mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd1, \textcolor{stringliteral}{"{}yyy"{}}, 3);}
\DoxyCodeLine{00682   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd1);}
\DoxyCodeLine{00683 }
\DoxyCodeLine{00684   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structbuf}{buf}})) != 5)\{}
\DoxyCodeLine{00685     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinkread read failed"{}});}
\DoxyCodeLine{00686     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00687   \}}
\DoxyCodeLine{00688   \textcolor{keywordflow}{if}(\mbox{\hyperlink{structbuf}{buf}}[0] != \textcolor{charliteral}{'h'})\{}
\DoxyCodeLine{00689     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinkread wrong data\(\backslash\)n"{}});}
\DoxyCodeLine{00690     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00691   \}}
\DoxyCodeLine{00692   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 10) != 10)\{}
\DoxyCodeLine{00693     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinkread write failed\(\backslash\)n"{}});}
\DoxyCodeLine{00694     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00695   \}}
\DoxyCodeLine{00696   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00697   \mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}unlinkread"{}});}
\DoxyCodeLine{00698   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(1, \textcolor{stringliteral}{"{}unlinkread ok\(\backslash\)n"{}});}
\DoxyCodeLine{00699 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=215pt]{de/dc0/usertests_8c_a3331ced6fb67502a2e5277260d4f5aec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a426d02dfb5155266933466f604bed0b2}\label{usertests_8c_a426d02dfb5155266933466f604bed0b2}} 
\index{usertests.c@{usertests.c}!validateint@{validateint}}
\index{validateint@{validateint}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{validateint()}{validateint()}}
{\footnotesize\ttfamily void validateint (\begin{DoxyParamCaption}\item[{int $\ast$}]{p }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01550}{1550}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01551 \{}
\DoxyCodeLine{01552   \textcolor{keywordtype}{int} res;}
\DoxyCodeLine{01553   \textcolor{keyword}{asm}(\textcolor{stringliteral}{"{}mov \%\%esp, \%\%ebx\(\backslash\)n\(\backslash\)t"{}}}
\DoxyCodeLine{01554       \textcolor{stringliteral}{"{}mov \%3, \%\%esp\(\backslash\)n\(\backslash\)t"{}}}
\DoxyCodeLine{01555       \textcolor{stringliteral}{"{}int \%2\(\backslash\)n\(\backslash\)t"{}}}
\DoxyCodeLine{01556       \textcolor{stringliteral}{"{}mov \%\%ebx, \%\%esp"{}} :}
\DoxyCodeLine{01557       \textcolor{stringliteral}{"{}=a"{}} (res) :}
\DoxyCodeLine{01558       \textcolor{stringliteral}{"{}a"{}} (\mbox{\hyperlink{syscall_8h_a77eac7fe66c659f7731cda964a7ce3dc}{SYS\_sleep}}), \textcolor{stringliteral}{"{}n"{}} (\mbox{\hyperlink{traps_8h_a6914c7173b6fe6d04e78d0876e39d95e}{T\_SYSCALL}}), \textcolor{stringliteral}{"{}c"{}} (p) :}
\DoxyCodeLine{01559       \textcolor{stringliteral}{"{}ebx"{}});}
\DoxyCodeLine{01560 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{de/dc0/usertests_8c_a426d02dfb5155266933466f604bed0b2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a98d8496ecb698b9400831f2718d805c3}\label{usertests_8c_a98d8496ecb698b9400831f2718d805c3}} 
\index{usertests.c@{usertests.c}!validatetest@{validatetest}}
\index{validatetest@{validatetest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{validatetest()}{validatetest()}}
{\footnotesize\ttfamily void validatetest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01563}{1563}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01564 \{}
\DoxyCodeLine{01565   \textcolor{keywordtype}{int} hi, pid;}
\DoxyCodeLine{01566   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} p;}
\DoxyCodeLine{01567 }
\DoxyCodeLine{01568   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}validate test\(\backslash\)n"{}});}
\DoxyCodeLine{01569   hi = 1100*1024;}
\DoxyCodeLine{01570 }
\DoxyCodeLine{01571   \textcolor{keywordflow}{for}(p = 0; p <= (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})hi; p += 4096)\{}
\DoxyCodeLine{01572     \textcolor{keywordflow}{if}((pid = \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}()) == 0)\{}
\DoxyCodeLine{01573       \textcolor{comment}{// try to crash the kernel by passing in a badly placed integer}}
\DoxyCodeLine{01574       \mbox{\hyperlink{usertests_8c_a426d02dfb5155266933466f604bed0b2}{validateint}}((\textcolor{keywordtype}{int}*)p);}
\DoxyCodeLine{01575       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01576     \}}
\DoxyCodeLine{01577     \mbox{\hyperlink{defs_8h_aca4a88f06b3ebbcc04330f7ae06c8507}{sleep}}(0);}
\DoxyCodeLine{01578     \mbox{\hyperlink{defs_8h_aca4a88f06b3ebbcc04330f7ae06c8507}{sleep}}(0);}
\DoxyCodeLine{01579     \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pid);}
\DoxyCodeLine{01580     \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{01581 }
\DoxyCodeLine{01582     \textcolor{comment}{// try to crash the kernel by passing in a bad string pointer}}
\DoxyCodeLine{01583     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a9f0ffa429d1a466322fb9b5bb084f828}{link}}(\textcolor{stringliteral}{"{}nosuchfile"{}}, (\textcolor{keywordtype}{char}*)p) != -\/1)\{}
\DoxyCodeLine{01584       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}link should not succeed\(\backslash\)n"{}});}
\DoxyCodeLine{01585       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{01586     \}}
\DoxyCodeLine{01587   \}}
\DoxyCodeLine{01588 }
\DoxyCodeLine{01589   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}validate ok\(\backslash\)n"{}});}
\DoxyCodeLine{01590 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=221pt]{de/dc0/usertests_8c_a98d8496ecb698b9400831f2718d805c3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a3a007a46ea6310b39a233e45d439f11a}\label{usertests_8c_a3a007a46ea6310b39a233e45d439f11a}} 
\index{usertests.c@{usertests.c}!writetest@{writetest}}
\index{writetest@{writetest}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{writetest()}{writetest()}}
{\footnotesize\ttfamily void writetest (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00139}{139}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00140 \{}
\DoxyCodeLine{00141   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{00142   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}small file test\(\backslash\)n"{}});}
\DoxyCodeLine{00145   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}small"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00146   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{00147     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}creat small succeeded; ok\(\backslash\)n"{}});}
\DoxyCodeLine{00148   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00149     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: creat small failed!\(\backslash\)n"{}});}
\DoxyCodeLine{00150     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00151   \}}
\DoxyCodeLine{00152   \textcolor{keywordflow}{for}(i = 0; i < 100; i++)\{}
\DoxyCodeLine{00153     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}aaaaaaaaaa"{}}, 10) != 10)\{}
\DoxyCodeLine{00154       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: write aa \%d new file failed\(\backslash\)n"{}}, i);}
\DoxyCodeLine{00155       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00156     \}}
\DoxyCodeLine{00157     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \textcolor{stringliteral}{"{}bbbbbbbbbb"{}}, 10) != 10)\{}
\DoxyCodeLine{00158       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: write bb \%d new file failed\(\backslash\)n"{}}, i);}
\DoxyCodeLine{00159       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00160     \}}
\DoxyCodeLine{00161   \}}
\DoxyCodeLine{00162   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}writes ok\(\backslash\)n"{}});}
\DoxyCodeLine{00163   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00164   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}small"{}}, \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}});}
\DoxyCodeLine{00165   \textcolor{keywordflow}{if}(fd >= 0)\{}
\DoxyCodeLine{00166     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}open small succeeded ok\(\backslash\)n"{}});}
\DoxyCodeLine{00167   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00168     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: open small failed!\(\backslash\)n"{}});}
\DoxyCodeLine{00169     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00170   \}}
\DoxyCodeLine{00171   i = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 2000);}
\DoxyCodeLine{00172   \textcolor{keywordflow}{if}(i == 2000)\{}
\DoxyCodeLine{00173     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}read succeeded ok\(\backslash\)n"{}});}
\DoxyCodeLine{00174   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00175     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}read failed\(\backslash\)n"{}});}
\DoxyCodeLine{00176     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00177   \}}
\DoxyCodeLine{00178   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00179 }
\DoxyCodeLine{00180   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}small"{}}) < 0)\{}
\DoxyCodeLine{00181     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink small failed\(\backslash\)n"{}});}
\DoxyCodeLine{00182     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00183   \}}
\DoxyCodeLine{00184   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}small file test ok\(\backslash\)n"{}});}
\DoxyCodeLine{00185 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{de/dc0/usertests_8c_a3a007a46ea6310b39a233e45d439f11a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3}\label{usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3}} 
\index{usertests.c@{usertests.c}!writetest1@{writetest1}}
\index{writetest1@{writetest1}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{writetest1()}{writetest1()}}
{\footnotesize\ttfamily void writetest1 (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00188}{188}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00189 \{}
\DoxyCodeLine{00190   \textcolor{keywordtype}{int} i, fd, n;}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}big files test\(\backslash\)n"{}});}
\DoxyCodeLine{00193 }
\DoxyCodeLine{00194   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}big"{}}, \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}}|\mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00195   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00196     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: creat big failed!\(\backslash\)n"{}});}
\DoxyCodeLine{00197     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00198   \}}
\DoxyCodeLine{00199 }
\DoxyCodeLine{00200   \textcolor{keywordflow}{for}(i = 0; i < \mbox{\hyperlink{fs_8h_a714b2485a6dd312e37226e1f833728a9}{MAXFILE}}; i++)\{}
\DoxyCodeLine{00201     ((\textcolor{keywordtype}{int}*)\mbox{\hyperlink{structbuf}{buf}})[0] = i;}
\DoxyCodeLine{00202     \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_ae57e95d717eb7386cd8b935a0c136abe}{write}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 512) != 512)\{}
\DoxyCodeLine{00203       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: write big file failed\(\backslash\)n"{}}, i);}
\DoxyCodeLine{00204       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00205     \}}
\DoxyCodeLine{00206   \}}
\DoxyCodeLine{00207 }
\DoxyCodeLine{00208   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00209 }
\DoxyCodeLine{00210   fd = \mbox{\hyperlink{user_8h_a2c4414339f388561554c2deab11a1a07}{open}}(\textcolor{stringliteral}{"{}big"{}}, \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}});}
\DoxyCodeLine{00211   \textcolor{keywordflow}{if}(fd < 0)\{}
\DoxyCodeLine{00212     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}error: open big failed!\(\backslash\)n"{}});}
\DoxyCodeLine{00213     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00214   \}}
\DoxyCodeLine{00215 }
\DoxyCodeLine{00216   n = 0;}
\DoxyCodeLine{00217   \textcolor{keywordflow}{for}(;;)\{}
\DoxyCodeLine{00218     i = \mbox{\hyperlink{user_8h_a2d73522d6354b8a141ecfaa9585a0c77}{read}}(fd, \mbox{\hyperlink{structbuf}{buf}}, 512);}
\DoxyCodeLine{00219     \textcolor{keywordflow}{if}(i == 0)\{}
\DoxyCodeLine{00220       \textcolor{keywordflow}{if}(n == \mbox{\hyperlink{fs_8h_a714b2485a6dd312e37226e1f833728a9}{MAXFILE}} -\/ 1)\{}
\DoxyCodeLine{00221         \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}read only \%d blocks from big"{}}, n);}
\DoxyCodeLine{00222         \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00223       \}}
\DoxyCodeLine{00224       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00225     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(i != 512)\{}
\DoxyCodeLine{00226       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}read failed \%d\(\backslash\)n"{}}, i);}
\DoxyCodeLine{00227       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00228     \}}
\DoxyCodeLine{00229     \textcolor{keywordflow}{if}(((\textcolor{keywordtype}{int}*)\mbox{\hyperlink{structbuf}{buf}})[0] != n)\{}
\DoxyCodeLine{00230       \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}read content of block \%d is \%d\(\backslash\)n"{}},}
\DoxyCodeLine{00231              n, ((\textcolor{keywordtype}{int}*)\mbox{\hyperlink{structbuf}{buf}})[0]);}
\DoxyCodeLine{00232       \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00233     \}}
\DoxyCodeLine{00234     n++;}
\DoxyCodeLine{00235   \}}
\DoxyCodeLine{00236   \mbox{\hyperlink{user_8h_ae152484c890a24e4d9b4980e7b965be0}{close}}(fd);}
\DoxyCodeLine{00237   \textcolor{keywordflow}{if}(\mbox{\hyperlink{user_8h_a4ade26dbdb332f64c44daf49ba949ff4}{unlink}}(\textcolor{stringliteral}{"{}big"{}}) < 0)\{}
\DoxyCodeLine{00238     \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}unlink big failed\(\backslash\)n"{}});}
\DoxyCodeLine{00239     \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00240   \}}
\DoxyCodeLine{00241   \mbox{\hyperlink{forktest_8c_a249680925885256274fa9f02dd51cec4}{printf}}(\mbox{\hyperlink{usertests_8c_adc9da8a05ab98e52153fe99402f93613}{stdout}}, \textcolor{stringliteral}{"{}big files ok\(\backslash\)n"{}});}
\DoxyCodeLine{00242 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=213pt]{de/dc0/usertests_8c_a48ac3cbd37dcf4c4e08b0572b3a0e9f3_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{usertests_8c_ad42dafc8306f25c145c246f973b420cf}\label{usertests_8c_ad42dafc8306f25c145c246f973b420cf}} 
\index{usertests.c@{usertests.c}!buf@{buf}}
\index{buf@{buf}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{buf}{buf}}
{\footnotesize\ttfamily char \mbox{\hyperlink{structbuf}{buf}}\mbox{[}8192\mbox{]}}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00011}{11}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

\mbox{\Hypertarget{usertests_8c_ac75529abacd59858a9ff6165253d14ca}\label{usertests_8c_ac75529abacd59858a9ff6165253d14ca}} 
\index{usertests.c@{usertests.c}!echoargv@{echoargv}}
\index{echoargv@{echoargv}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{echoargv}{echoargv}}
{\footnotesize\ttfamily char$\ast$ echoargv\mbox{[}$\,$\mbox{]} = \{ \char`\"{}echo\char`\"{}, \char`\"{}ALL\char`\"{}, \char`\"{}TESTS\char`\"{}, \char`\"{}PASSED\char`\"{}, 0 \}}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00013}{13}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

\mbox{\Hypertarget{usertests_8c_aee754febd402311e2a552cb0d6ab6629}\label{usertests_8c_aee754febd402311e2a552cb0d6ab6629}} 
\index{usertests.c@{usertests.c}!name@{name}}
\index{name@{name}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{name}{name}}
{\footnotesize\ttfamily char name\mbox{[}3\mbox{]}}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00012}{12}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

\mbox{\Hypertarget{usertests_8c_af0bd27c045c0317df893912a0142b21a}\label{usertests_8c_af0bd27c045c0317df893912a0142b21a}} 
\index{usertests.c@{usertests.c}!randstate@{randstate}}
\index{randstate@{randstate}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{randstate}{randstate}}
{\footnotesize\ttfamily unsigned long randstate = 1}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01740}{1740}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

\mbox{\Hypertarget{usertests_8c_adc9da8a05ab98e52153fe99402f93613}\label{usertests_8c_adc9da8a05ab98e52153fe99402f93613}} 
\index{usertests.c@{usertests.c}!stdout@{stdout}}
\index{stdout@{stdout}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{stdout}{stdout}}
{\footnotesize\ttfamily int stdout = 1}



Definition at line \mbox{\hyperlink{usertests_8c_source_l00014}{14}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

\mbox{\Hypertarget{usertests_8c_a7def0d79bfddb934aaf3fe627c97daf3}\label{usertests_8c_a7def0d79bfddb934aaf3fe627c97daf3}} 
\index{usertests.c@{usertests.c}!uninit@{uninit}}
\index{uninit@{uninit}!usertests.c@{usertests.c}}
\doxysubsubsection{\texorpdfstring{uninit}{uninit}}
{\footnotesize\ttfamily char uninit\mbox{[}10000\mbox{]}}



Definition at line \mbox{\hyperlink{usertests_8c_source_l01593}{1593}} of file \mbox{\hyperlink{usertests_8c_source}{usertests.\+c}}.

