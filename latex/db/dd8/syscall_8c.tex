\hypertarget{syscall_8c}{}\doxysection{syscall.\+c File Reference}
\label{syscall_8c}\index{syscall.c@{syscall.c}}
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}param.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}memlayout.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}mmu.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}proc.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}x86.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}syscall.\+h\char`\"{}}\newline
Include dependency graph for syscall.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/ddf/syscall_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{syscall_8c_a918cadc6c55aa7ac38982659c27a3a75}{fetchint}} (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} addr, int $\ast$ip)
\item 
int \mbox{\hyperlink{syscall_8c_ace37b4584713ab6bda44a282a298961f}{fetchstr}} (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} addr, char $\ast$$\ast$pp)
\item 
int \mbox{\hyperlink{syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3}{argint}} (int n, int $\ast$ip)
\item 
int \mbox{\hyperlink{syscall_8c_a6ade9205d1f46b759cf93b60513a3421}{argptr}} (int n, char $\ast$$\ast$pp, int size)
\item 
int \mbox{\hyperlink{syscall_8c_a662eedd65f3e2165093842b80e3bc024}{argstr}} (int n, char $\ast$$\ast$pp)
\item 
int \mbox{\hyperlink{syscall_8c_ad1c5f8693cb35b9605fee09eebdda640}{sys\+\_\+chdir}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a32945488fd39bc405757177b37cd2250}{sys\+\_\+close}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a8f8b9e2d98e8b444f23a39ae8992feff}{sys\+\_\+dup}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_aeaa813ddeb6a5fac3c45714c7351c526}{sys\+\_\+exec}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_aee72faa31a0c32b410aba558ef1d59f2}{sys\+\_\+exit}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a3b05102e512b34446a54334f916ba5cd}{sys\+\_\+fork}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ac243c8f20f5fb2e3e257b5007af2c204}{sys\+\_\+fstat}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ac81965412a0725574b8c72afda11243e}{sys\+\_\+getpid}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ad766b54842470b464a6497bb5c514e59}{sys\+\_\+kill}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a759600870314007ac558871239122fb7}{sys\+\_\+link}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a057e5bce2de7a87ebfd2dc33967bca4a}{sys\+\_\+mkdir}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a25697aa3d828b5878d38170d724adb27}{sys\+\_\+mknod}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a74e45efc661ca17c068bc283b3842e6d}{sys\+\_\+open}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a9a70db941def46ec25939e6c2d30e399}{sys\+\_\+pipe}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a54bf714d9e898cbdcbc061b280bbfae0}{sys\+\_\+read}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ab21d46be776cf6075a997af525a1a628}{sys\+\_\+sbrk}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a59778ec9bfa6b6f2100b43fbba000573}{sys\+\_\+sleep}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ae1e58ee11d41f643929520d8c1640da7}{sys\+\_\+unlink}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_ad202e06addda05ba6fe60f05d3f61913}{sys\+\_\+wait}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a687d939a9e4792af15db96f2c2f34378}{sys\+\_\+write}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_aaf8553903ba8f2776247679d4db0d121}{sys\+\_\+uptime}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a05c333cee816dc0cb3bf7dbe435dfcef}{sys\+\_\+halt}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a9eeed93775248f221437260b177591b8}{sys\+\_\+cps}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_abc90a5b53d06206904d099c62efc1696}{sys\+\_\+chpr}} (void)
\item 
int \mbox{\hyperlink{syscall_8c_a65e52d7f297b2757ffbf46e4deccf188}{sys\+\_\+getprocs}} (void)
\item 
void \mbox{\hyperlink{syscall_8c_acd6bcafe6626fe8e7d00cacdbc3cc4f1}{syscall}} (void)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3}\label{syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3}} 
\index{syscall.c@{syscall.c}!argint@{argint}}
\index{argint@{argint}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{argint()}{argint()}}
{\footnotesize\ttfamily int argint (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{int $\ast$}]{ip }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00050}{50}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00051 \{}
\DoxyCodeLine{00052   \textcolor{keywordflow}{return} \mbox{\hyperlink{syscall_8c_a918cadc6c55aa7ac38982659c27a3a75}{fetchint}}((\mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>tf-\/>esp) + 4 + 4*n, ip);}
\DoxyCodeLine{00053 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{db/dd8/syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a6ade9205d1f46b759cf93b60513a3421}\label{syscall_8c_a6ade9205d1f46b759cf93b60513a3421}} 
\index{syscall.c@{syscall.c}!argptr@{argptr}}
\index{argptr@{argptr}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{argptr()}{argptr()}}
{\footnotesize\ttfamily int argptr (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{char $\ast$$\ast$}]{pp,  }\item[{int}]{size }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00059}{59}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060 \{}
\DoxyCodeLine{00061   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00062   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *curproc = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}();}
\DoxyCodeLine{00063  }
\DoxyCodeLine{00064   \textcolor{keywordflow}{if}(\mbox{\hyperlink{syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3}{argint}}(n, \&i) < 0)}
\DoxyCodeLine{00065     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00066   \textcolor{keywordflow}{if}(size < 0 || (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})i >= curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}} || (\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}})i+size > curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}})}
\DoxyCodeLine{00067     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00068   *pp = (\textcolor{keywordtype}{char}*)i;}
\DoxyCodeLine{00069   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00070 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a6ade9205d1f46b759cf93b60513a3421_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{db/dd8/syscall_8c_a6ade9205d1f46b759cf93b60513a3421_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a662eedd65f3e2165093842b80e3bc024}\label{syscall_8c_a662eedd65f3e2165093842b80e3bc024}} 
\index{syscall.c@{syscall.c}!argstr@{argstr}}
\index{argstr@{argstr}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{argstr()}{argstr()}}
{\footnotesize\ttfamily int argstr (\begin{DoxyParamCaption}\item[{int}]{n,  }\item[{char $\ast$$\ast$}]{pp }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00077}{77}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00078 \{}
\DoxyCodeLine{00079   \textcolor{keywordtype}{int} addr;}
\DoxyCodeLine{00080   \textcolor{keywordflow}{if}(\mbox{\hyperlink{syscall_8c_ade56ef2176f85cd61e7b91b400e7d4d3}{argint}}(n, \&addr) < 0)}
\DoxyCodeLine{00081     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00082   \textcolor{keywordflow}{return} \mbox{\hyperlink{syscall_8c_ace37b4584713ab6bda44a282a298961f}{fetchstr}}(addr, pp);}
\DoxyCodeLine{00083 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a662eedd65f3e2165093842b80e3bc024_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{db/dd8/syscall_8c_a662eedd65f3e2165093842b80e3bc024_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a918cadc6c55aa7ac38982659c27a3a75}\label{syscall_8c_a918cadc6c55aa7ac38982659c27a3a75}} 
\index{syscall.c@{syscall.c}!fetchint@{fetchint}}
\index{fetchint@{fetchint}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{fetchint()}{fetchint()}}
{\footnotesize\ttfamily int fetchint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{addr,  }\item[{int $\ast$}]{ip }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00018}{18}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00019 \{}
\DoxyCodeLine{00020   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *curproc = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}();}
\DoxyCodeLine{00021 }
\DoxyCodeLine{00022   \textcolor{keywordflow}{if}(addr >= curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}} || addr+4 > curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}})}
\DoxyCodeLine{00023     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00024   *ip = *(\textcolor{keywordtype}{int}*)(addr);}
\DoxyCodeLine{00025   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00026 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a918cadc6c55aa7ac38982659c27a3a75_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a918cadc6c55aa7ac38982659c27a3a75_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ace37b4584713ab6bda44a282a298961f}\label{syscall_8c_ace37b4584713ab6bda44a282a298961f}} 
\index{syscall.c@{syscall.c}!fetchstr@{fetchstr}}
\index{fetchstr@{fetchstr}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{fetchstr()}{fetchstr()}}
{\footnotesize\ttfamily int fetchstr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}}}]{addr,  }\item[{char $\ast$$\ast$}]{pp }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00032}{32}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033 \{}
\DoxyCodeLine{00034   \textcolor{keywordtype}{char} *s, *ep;}
\DoxyCodeLine{00035   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *curproc = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}();}
\DoxyCodeLine{00036 }
\DoxyCodeLine{00037   \textcolor{keywordflow}{if}(addr >= curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}})}
\DoxyCodeLine{00038     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00039   *pp = (\textcolor{keywordtype}{char}*)addr;}
\DoxyCodeLine{00040   ep = (\textcolor{keywordtype}{char}*)curproc-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}};}
\DoxyCodeLine{00041   \textcolor{keywordflow}{for}(s = *pp; s < ep; s++)\{}
\DoxyCodeLine{00042     \textcolor{keywordflow}{if}(*s == 0)}
\DoxyCodeLine{00043       \textcolor{keywordflow}{return} s -\/ *pp;}
\DoxyCodeLine{00044   \}}
\DoxyCodeLine{00045   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00046 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ace37b4584713ab6bda44a282a298961f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=310pt]{db/dd8/syscall_8c_ace37b4584713ab6bda44a282a298961f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ad1c5f8693cb35b9605fee09eebdda640}\label{syscall_8c_ad1c5f8693cb35b9605fee09eebdda640}} 
\index{syscall.c@{syscall.c}!sys\_chdir@{sys\_chdir}}
\index{sys\_chdir@{sys\_chdir}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_chdir()}{sys\_chdir()}}
{\footnotesize\ttfamily int sys\+\_\+chdir (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00372}{372}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00373 \{}
\DoxyCodeLine{00374   \textcolor{keywordtype}{char} *path;}
\DoxyCodeLine{00375   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip;}
\DoxyCodeLine{00376   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *curproc = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}();}
\DoxyCodeLine{00377   }
\DoxyCodeLine{00378   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00379   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path) < 0 || (ip = \mbox{\hyperlink{defs_8h_acde7d3975db286253e584452ba03a54f}{namei}}(path)) == 0)\{}
\DoxyCodeLine{00380     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00381     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00382   \}}
\DoxyCodeLine{00383   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(ip);}
\DoxyCodeLine{00384   \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} != \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}})\{}
\DoxyCodeLine{00385     \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00386     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00387     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00388   \}}
\DoxyCodeLine{00389   \mbox{\hyperlink{defs_8h_af301c10ad8ced77a5dfb2de3a64c666c}{iunlock}}(ip);}
\DoxyCodeLine{00390   \mbox{\hyperlink{defs_8h_a29530a0afdfe924818d8c70b6724528d}{iput}}(curproc-\/>\mbox{\hyperlink{structproc_a493bc338ce008a838eef521972a35257}{cwd}});}
\DoxyCodeLine{00391   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00392   curproc-\/>\mbox{\hyperlink{structproc_a493bc338ce008a838eef521972a35257}{cwd}} = ip;}
\DoxyCodeLine{00393   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00394 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ad1c5f8693cb35b9605fee09eebdda640_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_abc90a5b53d06206904d099c62efc1696}\label{syscall_8c_abc90a5b53d06206904d099c62efc1696}} 
\index{syscall.c@{syscall.c}!sys\_chpr@{sys\_chpr}}
\index{sys\_chpr@{sys\_chpr}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_chpr()}{sys\_chpr()}}
{\footnotesize\ttfamily int sys\+\_\+chpr (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00125}{125}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00126 \{}
\DoxyCodeLine{00127   \textcolor{keywordtype}{int} pid, pr;}
\DoxyCodeLine{00128   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(0, \&pid) < 0)}
\DoxyCodeLine{00129     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00130   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(1, \&pr) < 0)}
\DoxyCodeLine{00131     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a2ca17a3161c80e3e4894ec6a96e0a281}{chpr}}(pid, pr);}
\DoxyCodeLine{00134 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_abc90a5b53d06206904d099c62efc1696_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a32945488fd39bc405757177b37cd2250}\label{syscall_8c_a32945488fd39bc405757177b37cd2250}} 
\index{syscall.c@{syscall.c}!sys\_close@{sys\_close}}
\index{sys\_close@{sys\_close}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_close()}{sys\_close()}}
{\footnotesize\ttfamily int sys\+\_\+close (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00094}{94}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00095 \{}
\DoxyCodeLine{00096   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{00097   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00098 }
\DoxyCodeLine{00099   \textcolor{keywordflow}{if}(argfd(0, \&fd, \&f) < 0)}
\DoxyCodeLine{00100     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00101   \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>\mbox{\hyperlink{structproc_a4a9eb0352efe3fc097c91fccfaac50bd}{ofile}}[fd] = 0;}
\DoxyCodeLine{00102   \mbox{\hyperlink{defs_8h_ac865ee0b2d70f753d61d1fefef9de0f6}{fileclose}}(f);}
\DoxyCodeLine{00103   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00104 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a32945488fd39bc405757177b37cd2250_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a9eeed93775248f221437260b177591b8}\label{syscall_8c_a9eeed93775248f221437260b177591b8}} 
\index{syscall.c@{syscall.c}!sys\_cps@{sys\_cps}}
\index{sys\_cps@{sys\_cps}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_cps()}{sys\_cps()}}
{\footnotesize\ttfamily int sys\+\_\+cps (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00119}{119}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120 \{}
\DoxyCodeLine{00121   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a1e777db371a84ab92eb05662e4fa12d4}{cps}}();}
\DoxyCodeLine{00122 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a9eeed93775248f221437260b177591b8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a8f8b9e2d98e8b444f23a39ae8992feff}\label{syscall_8c_a8f8b9e2d98e8b444f23a39ae8992feff}} 
\index{syscall.c@{syscall.c}!sys\_dup@{sys\_dup}}
\index{sys\_dup@{sys\_dup}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_dup()}{sys\_dup()}}
{\footnotesize\ttfamily int sys\+\_\+dup (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00056}{56}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057 \{}
\DoxyCodeLine{00058   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00059   \textcolor{keywordtype}{int} fd;}
\DoxyCodeLine{00060 }
\DoxyCodeLine{00061   \textcolor{keywordflow}{if}(argfd(0, 0, \&f) < 0)}
\DoxyCodeLine{00062     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00063   \textcolor{keywordflow}{if}((fd=fdalloc(f)) < 0)}
\DoxyCodeLine{00064     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00065   \mbox{\hyperlink{defs_8h_a67aac4011147fe1ec585211e23580721}{filedup}}(f);}
\DoxyCodeLine{00066   \textcolor{keywordflow}{return} fd;}
\DoxyCodeLine{00067 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a8f8b9e2d98e8b444f23a39ae8992feff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_aeaa813ddeb6a5fac3c45714c7351c526}\label{syscall_8c_aeaa813ddeb6a5fac3c45714c7351c526}} 
\index{syscall.c@{syscall.c}!sys\_exec@{sys\_exec}}
\index{sys\_exec@{sys\_exec}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_exec()}{sys\_exec()}}
{\footnotesize\ttfamily int sys\+\_\+exec (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00397}{397}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00398 \{}
\DoxyCodeLine{00399   \textcolor{keywordtype}{char} *path, *\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}[\mbox{\hyperlink{param_8h_a4c171d1ccc50f0b6ce7ad2f475eeba32}{MAXARG}}];}
\DoxyCodeLine{00400   \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{00401   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} uargv, uarg;}
\DoxyCodeLine{00402 }
\DoxyCodeLine{00403   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path) < 0 || \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(1, (\textcolor{keywordtype}{int}*)\&uargv) < 0)\{}
\DoxyCodeLine{00404     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00405   \}}
\DoxyCodeLine{00406   \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}, 0, \textcolor{keyword}{sizeof}(\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}));}
\DoxyCodeLine{00407   \textcolor{keywordflow}{for}(i=0;; i++)\{}
\DoxyCodeLine{00408     \textcolor{keywordflow}{if}(i >= \mbox{\hyperlink{defs_8h_afacd331296c10f360da7640e0d68429f}{NELEM}}(\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}))}
\DoxyCodeLine{00409       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00410     \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_ab8c95490fad429ac2701653041f2efcf}{fetchint}}(uargv+4*i, (\textcolor{keywordtype}{int}*)\&uarg) < 0)}
\DoxyCodeLine{00411       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00412     \textcolor{keywordflow}{if}(uarg == 0)\{}
\DoxyCodeLine{00413       \mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}[i] = 0;}
\DoxyCodeLine{00414       \textcolor{keywordflow}{break};}
\DoxyCodeLine{00415     \}}
\DoxyCodeLine{00416     \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a386d969a02c926521cf2e1816069a4dc}{fetchstr}}(uarg, \&\mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}}[i]) < 0)}
\DoxyCodeLine{00417       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00418   \}}
\DoxyCodeLine{00419   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_aa7b4aae4a12acd187e23396214aeca47}{exec}}(path, \mbox{\hyperlink{init_8c_abd1a2cf54950f450187ef24c1cdcac0c}{argv}});}
\DoxyCodeLine{00420 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_aeaa813ddeb6a5fac3c45714c7351c526_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_aee72faa31a0c32b410aba558ef1d59f2}\label{syscall_8c_aee72faa31a0c32b410aba558ef1d59f2}} 
\index{syscall.c@{syscall.c}!sys\_exit@{sys\_exit}}
\index{sys\_exit@{sys\_exit}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_exit()}{sys\_exit()}}
{\footnotesize\ttfamily int sys\+\_\+exit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00025}{25}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00026 \{}
\DoxyCodeLine{00027   \mbox{\hyperlink{defs_8h_aaf98ef7cdde3a0dfb2e49919de3298b1}{exit}}();}
\DoxyCodeLine{00028   \textcolor{keywordflow}{return} 0;  \textcolor{comment}{// not reached}}
\DoxyCodeLine{00029 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_aee72faa31a0c32b410aba558ef1d59f2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a3b05102e512b34446a54334f916ba5cd}\label{syscall_8c_a3b05102e512b34446a54334f916ba5cd}} 
\index{syscall.c@{syscall.c}!sys\_fork@{sys\_fork}}
\index{sys\_fork@{sys\_fork}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_fork()}{sys\_fork()}}
{\footnotesize\ttfamily int sys\+\_\+fork (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00019}{19}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00020 \{}
\DoxyCodeLine{00021   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_acd2e1ded4bb6fce4500438bf928330f4}{fork}}();}
\DoxyCodeLine{00022 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a3b05102e512b34446a54334f916ba5cd_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ac243c8f20f5fb2e3e257b5007af2c204}\label{syscall_8c_ac243c8f20f5fb2e3e257b5007af2c204}} 
\index{syscall.c@{syscall.c}!sys\_fstat@{sys\_fstat}}
\index{sys\_fstat@{sys\_fstat}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_fstat()}{sys\_fstat()}}
{\footnotesize\ttfamily int sys\+\_\+fstat (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00107}{107}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00108 \{}
\DoxyCodeLine{00109   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00110   \textcolor{keyword}{struct }\mbox{\hyperlink{structstat}{stat}} *st;}
\DoxyCodeLine{00111 }
\DoxyCodeLine{00112   \textcolor{keywordflow}{if}(argfd(0, 0, \&f) < 0 || \mbox{\hyperlink{defs_8h_a05c7464938c27eb91540c06ec6137f26}{argptr}}(1, (\textcolor{keywordtype}{void}*)\&st, \textcolor{keyword}{sizeof}(*st)) < 0)}
\DoxyCodeLine{00113     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00114   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_ac4979f97957194db01001985b1bfa84e}{filestat}}(f, st);}
\DoxyCodeLine{00115 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ac243c8f20f5fb2e3e257b5007af2c204_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ac81965412a0725574b8c72afda11243e}\label{syscall_8c_ac81965412a0725574b8c72afda11243e}} 
\index{syscall.c@{syscall.c}!sys\_getpid@{sys\_getpid}}
\index{sys\_getpid@{sys\_getpid}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_getpid()}{sys\_getpid()}}
{\footnotesize\ttfamily int sys\+\_\+getpid (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00048}{48}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00049 \{}
\DoxyCodeLine{00050   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>\mbox{\hyperlink{structproc_acf2bdf54d1f957ccbcdc987007029944}{pid}};}
\DoxyCodeLine{00051 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ac81965412a0725574b8c72afda11243e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a65e52d7f297b2757ffbf46e4deccf188}\label{syscall_8c_a65e52d7f297b2757ffbf46e4deccf188}} 
\index{syscall.c@{syscall.c}!sys\_getprocs@{sys\_getprocs}}
\index{sys\_getprocs@{sys\_getprocs}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_getprocs()}{sys\_getprocs()}}
{\footnotesize\ttfamily int sys\+\_\+getprocs (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00137}{137}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00137                   \{}
\DoxyCodeLine{00138   \textcolor{comment}{// declare local variables for max uproc size, struct uproc, and counter}}
\DoxyCodeLine{00139   \textcolor{keywordtype}{int} max;}
\DoxyCodeLine{00140   \textcolor{keyword}{struct }\mbox{\hyperlink{structuproc}{uproc}} *p;}
\DoxyCodeLine{00141   \textcolor{keywordtype}{int} i=0;}
\DoxyCodeLine{00142 }
\DoxyCodeLine{00143   \textcolor{comment}{// if argint has trouble, return error -\/1}}
\DoxyCodeLine{00144   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(0,\&max) < 0)}
\DoxyCodeLine{00145     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00146 }
\DoxyCodeLine{00147   \textcolor{comment}{// if argptr for allocating struct size has trouble, return -\/1}}
\DoxyCodeLine{00148   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a05c7464938c27eb91540c06ec6137f26}{argptr}}(1,(\textcolor{keywordtype}{char}**)\&p, max*\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \mbox{\hyperlink{structuproc}{uproc}})) < 0)}
\DoxyCodeLine{00149     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00150 }
\DoxyCodeLine{00151   \textcolor{comment}{// create pointer to ptable processes}}
\DoxyCodeLine{00152   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *ptr = \mbox{\hyperlink{sysproc_8c_ae184b491d39d06a7ba30c72b18472ad3}{ptable}}.proc;}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   \textcolor{comment}{// loop through ptable}}
\DoxyCodeLine{00155   \textcolor{keywordflow}{for}(; ptr < \&\mbox{\hyperlink{sysproc_8c_ae184b491d39d06a7ba30c72b18472ad3}{ptable}}.proc[\mbox{\hyperlink{param_8h_a810c5b751df5bb30588613ed91095129}{NPROC}}]; ptr++)}
\DoxyCodeLine{00156   \{}
\DoxyCodeLine{00157     \textcolor{keywordflow}{if}(!(ptr-\/>\mbox{\hyperlink{structproc_a0f2fe91548a1382672ae26e29ca9e736}{state}} == \mbox{\hyperlink{proc_8h_aa1ced7d2b60040fded3fa873d0c03ba7aa09b651ef326a9d8efcee5cc5b720ab4}{UNUSED}}))}
\DoxyCodeLine{00158     \{}
\DoxyCodeLine{00159       \textcolor{comment}{// if the process in ptable is not UNUSED, assign pid, parent pid, and name to uproc}}
\DoxyCodeLine{00160       p[i].pid = ptr-\/>\mbox{\hyperlink{structproc_acf2bdf54d1f957ccbcdc987007029944}{pid}};}
\DoxyCodeLine{00161       p[i].ppid = ptr-\/>\mbox{\hyperlink{structproc_a14ea8849701ffafba4d142725de154d4}{parent}}-\/>\mbox{\hyperlink{structproc_acf2bdf54d1f957ccbcdc987007029944}{pid}};}
\DoxyCodeLine{00162       \mbox{\hyperlink{defs_8h_a66107cd2364627727a36cef6c773b39c}{strncpy}}(p[i].\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, ptr-\/>\mbox{\hyperlink{structproc_ac04af53e17d24b90c3cbfab56d658d62}{name}}, 16);}
\DoxyCodeLine{00163       \textcolor{comment}{// add 1 to the process counter}}
\DoxyCodeLine{00164       i++;}
\DoxyCodeLine{00165     \}}
\DoxyCodeLine{00166   \}}
\DoxyCodeLine{00167   }
\DoxyCodeLine{00168   \textcolor{comment}{// return the number of processes that are not UNUSED}}
\DoxyCodeLine{00169   \textcolor{keywordflow}{return} i;}
\DoxyCodeLine{00170 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a65e52d7f297b2757ffbf46e4deccf188_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a05c333cee816dc0cb3bf7dbe435dfcef}\label{syscall_8c_a05c333cee816dc0cb3bf7dbe435dfcef}} 
\index{syscall.c@{syscall.c}!sys\_halt@{sys\_halt}}
\index{sys\_halt@{sys\_halt}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_halt()}{sys\_halt()}}
{\footnotesize\ttfamily int sys\+\_\+halt (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00111}{111}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00112 \{}
\DoxyCodeLine{00113   outb(0xf4, 0x00);}
\DoxyCodeLine{00114   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00115 \}}

\end{DoxyCode}
\mbox{\Hypertarget{syscall_8c_ad766b54842470b464a6497bb5c514e59}\label{syscall_8c_ad766b54842470b464a6497bb5c514e59}} 
\index{syscall.c@{syscall.c}!sys\_kill@{sys\_kill}}
\index{sys\_kill@{sys\_kill}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_kill()}{sys\_kill()}}
{\footnotesize\ttfamily int sys\+\_\+kill (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00038}{38}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00039 \{}
\DoxyCodeLine{00040   \textcolor{keywordtype}{int} pid;}
\DoxyCodeLine{00041 }
\DoxyCodeLine{00042   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(0, \&pid) < 0)}
\DoxyCodeLine{00043     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00044   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_ab893e9671d6bfe2b2604002a50639f21}{kill}}(pid);}
\DoxyCodeLine{00045 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ad766b54842470b464a6497bb5c514e59_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a759600870314007ac558871239122fb7}\label{syscall_8c_a759600870314007ac558871239122fb7}} 
\index{syscall.c@{syscall.c}!sys\_link@{sys\_link}}
\index{sys\_link@{sys\_link}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_link()}{sys\_link()}}
{\footnotesize\ttfamily int sys\+\_\+link (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00119}{119}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00120 \{}
\DoxyCodeLine{00121   \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[\mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}}], *\textcolor{keyword}{new}, *old;}
\DoxyCodeLine{00122   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *dp, *ip;}
\DoxyCodeLine{00123 }
\DoxyCodeLine{00124   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&old) < 0 || \mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(1, \&\textcolor{keyword}{new}) < 0)}
\DoxyCodeLine{00125     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00126 }
\DoxyCodeLine{00127   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00128   \textcolor{keywordflow}{if}((ip = \mbox{\hyperlink{defs_8h_acde7d3975db286253e584452ba03a54f}{namei}}(old)) == 0)\{}
\DoxyCodeLine{00129     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00130     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00131   \}}
\DoxyCodeLine{00132 }
\DoxyCodeLine{00133   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(ip);}
\DoxyCodeLine{00134   \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}})\{}
\DoxyCodeLine{00135     \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00136     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00137     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00138   \}}
\DoxyCodeLine{00139 }
\DoxyCodeLine{00140   ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}}++;}
\DoxyCodeLine{00141   \mbox{\hyperlink{defs_8h_a2ee6784c123b2a2656d88b5b357f2253}{iupdate}}(ip);}
\DoxyCodeLine{00142   \mbox{\hyperlink{defs_8h_af301c10ad8ced77a5dfb2de3a64c666c}{iunlock}}(ip);}
\DoxyCodeLine{00143 }
\DoxyCodeLine{00144   \textcolor{keywordflow}{if}((dp = \mbox{\hyperlink{defs_8h_a699674601988291ebcc47d902f18bee8}{nameiparent}}(\textcolor{keyword}{new}, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})) == 0)}
\DoxyCodeLine{00145     \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{00146   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(dp);}
\DoxyCodeLine{00147   \textcolor{keywordflow}{if}(dp-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}} != ip-\/>\mbox{\hyperlink{structinode_a121742a89c4531f03a7de1613d5be605}{dev}} || \mbox{\hyperlink{defs_8h_ae4ccea0aa02557162963e597737f665a}{dirlink}}(dp, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, ip-\/>\mbox{\hyperlink{structinode_a8acc2b9df0bfc6856da62925763db7fe}{inum}}) < 0)\{}
\DoxyCodeLine{00148     \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(dp);}
\DoxyCodeLine{00149     \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{00150   \}}
\DoxyCodeLine{00151   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(dp);}
\DoxyCodeLine{00152   \mbox{\hyperlink{defs_8h_a29530a0afdfe924818d8c70b6724528d}{iput}}(ip);}
\DoxyCodeLine{00153 }
\DoxyCodeLine{00154   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00155 }
\DoxyCodeLine{00156   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00157 }
\DoxyCodeLine{00158 bad:}
\DoxyCodeLine{00159   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(ip);}
\DoxyCodeLine{00160   ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}}-\/-\/;}
\DoxyCodeLine{00161   \mbox{\hyperlink{defs_8h_a2ee6784c123b2a2656d88b5b357f2253}{iupdate}}(ip);}
\DoxyCodeLine{00162   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00163   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00164   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00165 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a759600870314007ac558871239122fb7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a057e5bce2de7a87ebfd2dc33967bca4a}\label{syscall_8c_a057e5bce2de7a87ebfd2dc33967bca4a}} 
\index{syscall.c@{syscall.c}!sys\_mkdir@{sys\_mkdir}}
\index{sys\_mkdir@{sys\_mkdir}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_mkdir()}{sys\_mkdir()}}
{\footnotesize\ttfamily int sys\+\_\+mkdir (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00336}{336}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00337 \{}
\DoxyCodeLine{00338   \textcolor{keywordtype}{char} *path;}
\DoxyCodeLine{00339   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip;}
\DoxyCodeLine{00340 }
\DoxyCodeLine{00341   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00342   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path) < 0 || (ip = create(path, \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}}, 0, 0)) == 0)\{}
\DoxyCodeLine{00343     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00344     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00345   \}}
\DoxyCodeLine{00346   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00347   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00348   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00349 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a057e5bce2de7a87ebfd2dc33967bca4a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a25697aa3d828b5878d38170d724adb27}\label{syscall_8c_a25697aa3d828b5878d38170d724adb27}} 
\index{syscall.c@{syscall.c}!sys\_mknod@{sys\_mknod}}
\index{sys\_mknod@{sys\_mknod}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_mknod()}{sys\_mknod()}}
{\footnotesize\ttfamily int sys\+\_\+mknod (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00352}{352}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00353 \{}
\DoxyCodeLine{00354   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip;}
\DoxyCodeLine{00355   \textcolor{keywordtype}{char} *path;}
\DoxyCodeLine{00356   \textcolor{keywordtype}{int} \mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}, \mbox{\hyperlink{structinode_a37878866e7905b666db2aa33076076a2}{minor}};}
\DoxyCodeLine{00357 }
\DoxyCodeLine{00358   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00359   \textcolor{keywordflow}{if}((\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path)) < 0 ||}
\DoxyCodeLine{00360      \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(1, \&\mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}) < 0 ||}
\DoxyCodeLine{00361      \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(2, \&\mbox{\hyperlink{structinode_a37878866e7905b666db2aa33076076a2}{minor}}) < 0 ||}
\DoxyCodeLine{00362      (ip = create(path, \mbox{\hyperlink{stat_8h_a62b045a3e4fdf204bdddda0f3fc3d8c4}{T\_DEV}}, \mbox{\hyperlink{structinode_a34af7242018a977dace5730683850875}{major}}, \mbox{\hyperlink{structinode_a37878866e7905b666db2aa33076076a2}{minor}})) == 0)\{}
\DoxyCodeLine{00363     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00364     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00365   \}}
\DoxyCodeLine{00366   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00367   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00368   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00369 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a25697aa3d828b5878d38170d724adb27_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a74e45efc661ca17c068bc283b3842e6d}\label{syscall_8c_a74e45efc661ca17c068bc283b3842e6d}} 
\index{syscall.c@{syscall.c}!sys\_open@{sys\_open}}
\index{sys\_open@{sys\_open}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_open()}{sys\_open()}}
{\footnotesize\ttfamily int sys\+\_\+open (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00286}{286}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00287 \{}
\DoxyCodeLine{00288   \textcolor{keywordtype}{char} *path;}
\DoxyCodeLine{00289   \textcolor{keywordtype}{int} fd, omode;}
\DoxyCodeLine{00290   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00291   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip;}
\DoxyCodeLine{00292 }
\DoxyCodeLine{00293   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path) < 0 || \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(1, \&omode) < 0)}
\DoxyCodeLine{00294     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00295 }
\DoxyCodeLine{00296   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00297 }
\DoxyCodeLine{00298   \textcolor{keywordflow}{if}(omode \& \mbox{\hyperlink{fcntl_8h_ab40a23079c3b9a7e25ffdc8108c7fb02}{O\_CREATE}})\{}
\DoxyCodeLine{00299     ip = create(path, \mbox{\hyperlink{stat_8h_a0a8afbed81f5fb3930e9d153fbd51737}{T\_FILE}}, 0, 0);}
\DoxyCodeLine{00300     \textcolor{keywordflow}{if}(ip == 0)\{}
\DoxyCodeLine{00301       \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00302       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00303     \}}
\DoxyCodeLine{00304   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00305     \textcolor{keywordflow}{if}((ip = \mbox{\hyperlink{defs_8h_acde7d3975db286253e584452ba03a54f}{namei}}(path)) == 0)\{}
\DoxyCodeLine{00306       \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00307       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00308     \}}
\DoxyCodeLine{00309     \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(ip);}
\DoxyCodeLine{00310     \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}} \&\& omode != \mbox{\hyperlink{fcntl_8h_a7a68c9ffaac7dbcd652225dd7c06a54b}{O\_RDONLY}})\{}
\DoxyCodeLine{00311       \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00312       \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00313       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00314     \}}
\DoxyCodeLine{00315   \}}
\DoxyCodeLine{00316 }
\DoxyCodeLine{00317   \textcolor{keywordflow}{if}((f = \mbox{\hyperlink{defs_8h_ac56b15561658d0e74ce1c53309b8f97d}{filealloc}}()) == 0 || (fd = fdalloc(f)) < 0)\{}
\DoxyCodeLine{00318     \textcolor{keywordflow}{if}(f)}
\DoxyCodeLine{00319       \mbox{\hyperlink{defs_8h_ac865ee0b2d70f753d61d1fefef9de0f6}{fileclose}}(f);}
\DoxyCodeLine{00320     \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00321     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00322     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00323   \}}
\DoxyCodeLine{00324   \mbox{\hyperlink{defs_8h_af301c10ad8ced77a5dfb2de3a64c666c}{iunlock}}(ip);}
\DoxyCodeLine{00325   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00326 }
\DoxyCodeLine{00327   f-\/>\mbox{\hyperlink{structfile_a3a28c808a8dcd4acf45087ac30c075e7}{type}} = FD\_INODE;}
\DoxyCodeLine{00328   f-\/>\mbox{\hyperlink{structfile_a4fd095f927715574dc2a4f243690e508}{ip}} = ip;}
\DoxyCodeLine{00329   f-\/>\mbox{\hyperlink{structfile_a94a911be6cc1b1326728392d8b40150d}{off}} = 0;}
\DoxyCodeLine{00330   f-\/>\mbox{\hyperlink{structfile_a0c5c8eced8bc562dbbecc8d450a6b646}{readable}} = !(omode \& \mbox{\hyperlink{fcntl_8h_a11b644a8526139c4cc1850dac1271ced}{O\_WRONLY}});}
\DoxyCodeLine{00331   f-\/>\mbox{\hyperlink{structfile_a6e1b641ea1551ac4316a0c11a683df45}{writable}} = (omode \& \mbox{\hyperlink{fcntl_8h_a11b644a8526139c4cc1850dac1271ced}{O\_WRONLY}}) || (omode \& \mbox{\hyperlink{fcntl_8h_abb0586253488ee61072b73557eeb873b}{O\_RDWR}});}
\DoxyCodeLine{00332   \textcolor{keywordflow}{return} fd;}
\DoxyCodeLine{00333 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a74e45efc661ca17c068bc283b3842e6d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a9a70db941def46ec25939e6c2d30e399}\label{syscall_8c_a9a70db941def46ec25939e6c2d30e399}} 
\index{syscall.c@{syscall.c}!sys\_pipe@{sys\_pipe}}
\index{sys\_pipe@{sys\_pipe}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_pipe()}{sys\_pipe()}}
{\footnotesize\ttfamily int sys\+\_\+pipe (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00423}{423}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00424 \{}
\DoxyCodeLine{00425   \textcolor{keywordtype}{int} *fd;}
\DoxyCodeLine{00426   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *rf, *wf;}
\DoxyCodeLine{00427   \textcolor{keywordtype}{int} fd0, fd1;}
\DoxyCodeLine{00428 }
\DoxyCodeLine{00429   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a05c7464938c27eb91540c06ec6137f26}{argptr}}(0, (\textcolor{keywordtype}{void}*)\&fd, 2*\textcolor{keyword}{sizeof}(fd[0])) < 0)}
\DoxyCodeLine{00430     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00431   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a3de41eab56ff42bea4d1ae78bbd1e472}{pipealloc}}(\&rf, \&wf) < 0)}
\DoxyCodeLine{00432     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00433   fd0 = -\/1;}
\DoxyCodeLine{00434   \textcolor{keywordflow}{if}((fd0 = fdalloc(rf)) < 0 || (fd1 = fdalloc(wf)) < 0)\{}
\DoxyCodeLine{00435     \textcolor{keywordflow}{if}(fd0 >= 0)}
\DoxyCodeLine{00436       \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>\mbox{\hyperlink{structproc_a4a9eb0352efe3fc097c91fccfaac50bd}{ofile}}[fd0] = 0;}
\DoxyCodeLine{00437     \mbox{\hyperlink{defs_8h_ac865ee0b2d70f753d61d1fefef9de0f6}{fileclose}}(rf);}
\DoxyCodeLine{00438     \mbox{\hyperlink{defs_8h_ac865ee0b2d70f753d61d1fefef9de0f6}{fileclose}}(wf);}
\DoxyCodeLine{00439     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00440   \}}
\DoxyCodeLine{00441   fd[0] = fd0;}
\DoxyCodeLine{00442   fd[1] = fd1;}
\DoxyCodeLine{00443   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00444 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a9a70db941def46ec25939e6c2d30e399_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a54bf714d9e898cbdcbc061b280bbfae0}\label{syscall_8c_a54bf714d9e898cbdcbc061b280bbfae0}} 
\index{syscall.c@{syscall.c}!sys\_read@{sys\_read}}
\index{sys\_read@{sys\_read}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_read()}{sys\_read()}}
{\footnotesize\ttfamily int sys\+\_\+read (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00070}{70}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00071 \{}
\DoxyCodeLine{00072   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00073   \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{00074   \textcolor{keywordtype}{char} *p;}
\DoxyCodeLine{00075 }
\DoxyCodeLine{00076   \textcolor{keywordflow}{if}(argfd(0, 0, \&f) < 0 || \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(2, \&n) < 0 || \mbox{\hyperlink{defs_8h_a05c7464938c27eb91540c06ec6137f26}{argptr}}(1, \&p, n) < 0)}
\DoxyCodeLine{00077     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00078   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a6bd1db179155944c9d1fbc89d8b7b162}{fileread}}(f, p, n);}
\DoxyCodeLine{00079 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a54bf714d9e898cbdcbc061b280bbfae0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ab21d46be776cf6075a997af525a1a628}\label{syscall_8c_ab21d46be776cf6075a997af525a1a628}} 
\index{syscall.c@{syscall.c}!sys\_sbrk@{sys\_sbrk}}
\index{sys\_sbrk@{sys\_sbrk}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_sbrk()}{sys\_sbrk()}}
{\footnotesize\ttfamily int sys\+\_\+sbrk (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00054}{54}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00055 \{}
\DoxyCodeLine{00056   \textcolor{keywordtype}{int} addr;}
\DoxyCodeLine{00057   \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(0, \&n) < 0)}
\DoxyCodeLine{00060     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00061   addr = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>\mbox{\hyperlink{structproc_a6e67042bb361124ff287af88efc33e00}{sz}};}
\DoxyCodeLine{00062   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_acb02e9289fb8a1017c3455b137a9bccd}{growproc}}(n) < 0)}
\DoxyCodeLine{00063     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00064   \textcolor{keywordflow}{return} addr;}
\DoxyCodeLine{00065 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ab21d46be776cf6075a997af525a1a628_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a59778ec9bfa6b6f2100b43fbba000573}\label{syscall_8c_a59778ec9bfa6b6f2100b43fbba000573}} 
\index{syscall.c@{syscall.c}!sys\_sleep@{sys\_sleep}}
\index{sys\_sleep@{sys\_sleep}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_sleep()}{sys\_sleep()}}
{\footnotesize\ttfamily int sys\+\_\+sleep (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00068}{68}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069 \{}
\DoxyCodeLine{00070   \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{00071   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} ticks0;}
\DoxyCodeLine{00072 }
\DoxyCodeLine{00073   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(0, \&n) < 0)}
\DoxyCodeLine{00074     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00075   \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00076   ticks0 = \mbox{\hyperlink{defs_8h_a7fcd6915876e066781399d7b00f1b1f0}{ticks}};}
\DoxyCodeLine{00077   \textcolor{keywordflow}{while}(\mbox{\hyperlink{defs_8h_a7fcd6915876e066781399d7b00f1b1f0}{ticks}} -\/ ticks0 < n)\{}
\DoxyCodeLine{00078     \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}()-\/>killed)\{}
\DoxyCodeLine{00079       \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00080       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00081     \}}
\DoxyCodeLine{00082     \mbox{\hyperlink{defs_8h_aca4a88f06b3ebbcc04330f7ae06c8507}{sleep}}(\&\mbox{\hyperlink{defs_8h_a7fcd6915876e066781399d7b00f1b1f0}{ticks}}, \&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00083   \}}
\DoxyCodeLine{00084   \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00085   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00086 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a59778ec9bfa6b6f2100b43fbba000573_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ae1e58ee11d41f643929520d8c1640da7}\label{syscall_8c_ae1e58ee11d41f643929520d8c1640da7}} 
\index{syscall.c@{syscall.c}!sys\_unlink@{sys\_unlink}}
\index{sys\_unlink@{sys\_unlink}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_unlink()}{sys\_unlink()}}
{\footnotesize\ttfamily int sys\+\_\+unlink (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00185}{185}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00186 \{}
\DoxyCodeLine{00187   \textcolor{keyword}{struct }\mbox{\hyperlink{structinode}{inode}} *ip, *dp;}
\DoxyCodeLine{00188   \textcolor{keyword}{struct }\mbox{\hyperlink{structdirent}{dirent}} de;}
\DoxyCodeLine{00189   \textcolor{keywordtype}{char} \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}[\mbox{\hyperlink{fs_8h_a48246fb9e5cb7f6a71ebc9ebc2f06562}{DIRSIZ}}], *path;}
\DoxyCodeLine{00190   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} off;}
\DoxyCodeLine{00191 }
\DoxyCodeLine{00192   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_afc00cb2e6a06b1021f3d82fa4d0eff07}{argstr}}(0, \&path) < 0)}
\DoxyCodeLine{00193     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00194 }
\DoxyCodeLine{00195   \mbox{\hyperlink{defs_8h_a603ca98212e00d2ffdba7827ef0f1003}{begin\_op}}();}
\DoxyCodeLine{00196   \textcolor{keywordflow}{if}((dp = \mbox{\hyperlink{defs_8h_a699674601988291ebcc47d902f18bee8}{nameiparent}}(path, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}})) == 0)\{}
\DoxyCodeLine{00197     \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00198     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00199   \}}
\DoxyCodeLine{00200 }
\DoxyCodeLine{00201   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(dp);}
\DoxyCodeLine{00202 }
\DoxyCodeLine{00203   \textcolor{comment}{// Cannot unlink "{}."{} or "{}.."{}.}}
\DoxyCodeLine{00204   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a0206c4090dc4bdfd8481e38057d5b2af}{namecmp}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \textcolor{stringliteral}{"{}."{}}) == 0 || \mbox{\hyperlink{defs_8h_a0206c4090dc4bdfd8481e38057d5b2af}{namecmp}}(\mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \textcolor{stringliteral}{"{}.."{}}) == 0)}
\DoxyCodeLine{00205     \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{00206 }
\DoxyCodeLine{00207   \textcolor{keywordflow}{if}((ip = \mbox{\hyperlink{defs_8h_aef19d16d1d20d8f7cdcd8ee0d98fc13f}{dirlookup}}(dp, \mbox{\hyperlink{usertests_8c_aee754febd402311e2a552cb0d6ab6629}{name}}, \&off)) == 0)}
\DoxyCodeLine{00208     \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{00209   \mbox{\hyperlink{defs_8h_a29a4d743d41fe659f74b0a57fdc25012}{ilock}}(ip);}
\DoxyCodeLine{00210 }
\DoxyCodeLine{00211   \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}} < 1)}
\DoxyCodeLine{00212     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"{}unlink: nlink < 1"{}});}
\DoxyCodeLine{00213   \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}} \&\& !isdirempty(ip))\{}
\DoxyCodeLine{00214     \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00215     \textcolor{keywordflow}{goto} bad;}
\DoxyCodeLine{00216   \}}
\DoxyCodeLine{00217 }
\DoxyCodeLine{00218   \mbox{\hyperlink{defs_8h_a0098886a849eef10803e9f35ceec61b9}{memset}}(\&de, 0, \textcolor{keyword}{sizeof}(de));}
\DoxyCodeLine{00219   \textcolor{keywordflow}{if}(\mbox{\hyperlink{defs_8h_a515876d4653cefef4732806ef7f2833f}{writei}}(dp, (\textcolor{keywordtype}{char}*)\&de, off, \textcolor{keyword}{sizeof}(de)) != \textcolor{keyword}{sizeof}(de))}
\DoxyCodeLine{00220     \mbox{\hyperlink{console_8c_a95c0aca5d6d7487933984f08b189917a}{panic}}(\textcolor{stringliteral}{"{}unlink: writei"{}});}
\DoxyCodeLine{00221   \textcolor{keywordflow}{if}(ip-\/>\mbox{\hyperlink{structinode_a8d74bec2898785c057111c328d23fda2}{type}} == \mbox{\hyperlink{stat_8h_a91136bcd71a9f499304f5d7e7e9d6376}{T\_DIR}})\{}
\DoxyCodeLine{00222     dp-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}}-\/-\/;}
\DoxyCodeLine{00223     \mbox{\hyperlink{defs_8h_a2ee6784c123b2a2656d88b5b357f2253}{iupdate}}(dp);}
\DoxyCodeLine{00224   \}}
\DoxyCodeLine{00225   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(dp);}
\DoxyCodeLine{00226 }
\DoxyCodeLine{00227   ip-\/>\mbox{\hyperlink{structinode_af8b88b409bea7ef99c49a55f387538b2}{nlink}}-\/-\/;}
\DoxyCodeLine{00228   \mbox{\hyperlink{defs_8h_a2ee6784c123b2a2656d88b5b357f2253}{iupdate}}(ip);}
\DoxyCodeLine{00229   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(ip);}
\DoxyCodeLine{00230 }
\DoxyCodeLine{00231   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00232 }
\DoxyCodeLine{00233   \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{00234 }
\DoxyCodeLine{00235 bad:}
\DoxyCodeLine{00236   \mbox{\hyperlink{defs_8h_adff5bb5a1eeaf921853ec06479f8c49b}{iunlockput}}(dp);}
\DoxyCodeLine{00237   \mbox{\hyperlink{defs_8h_a2504e37a109f9bae5ca11fe89e4e8fa1}{end\_op}}();}
\DoxyCodeLine{00238   \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00239 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ae1e58ee11d41f643929520d8c1640da7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_aaf8553903ba8f2776247679d4db0d121}\label{syscall_8c_aaf8553903ba8f2776247679d4db0d121}} 
\index{syscall.c@{syscall.c}!sys\_uptime@{sys\_uptime}}
\index{sys\_uptime@{sys\_uptime}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_uptime()}{sys\_uptime()}}
{\footnotesize\ttfamily int sys\+\_\+uptime (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00091}{91}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00092 \{}
\DoxyCodeLine{00093   \mbox{\hyperlink{types_8h_a91ad9478d81a7aaf2593e8d9c3d06a14}{uint}} xticks;}
\DoxyCodeLine{00094 }
\DoxyCodeLine{00095   \mbox{\hyperlink{defs_8h_afe4ef8638f1ecb962a6e67fb086ee3b8}{acquire}}(\&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00096   xticks = \mbox{\hyperlink{defs_8h_a7fcd6915876e066781399d7b00f1b1f0}{ticks}};}
\DoxyCodeLine{00097   \mbox{\hyperlink{defs_8h_a4f8616948f3dbce65671f666eed1d669}{release}}(\&\mbox{\hyperlink{defs_8h_a094a4703b62095e2fa469fab3ffea5c7}{tickslock}});}
\DoxyCodeLine{00098   \textcolor{keywordflow}{return} xticks;}
\DoxyCodeLine{00099 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_aaf8553903ba8f2776247679d4db0d121_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_ad202e06addda05ba6fe60f05d3f61913}\label{syscall_8c_ad202e06addda05ba6fe60f05d3f61913}} 
\index{syscall.c@{syscall.c}!sys\_wait@{sys\_wait}}
\index{sys\_wait@{sys\_wait}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_wait()}{sys\_wait()}}
{\footnotesize\ttfamily int sys\+\_\+wait (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysproc_8c_source_l00032}{32}} of file \mbox{\hyperlink{sysproc_8c_source}{sysproc.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00033 \{}
\DoxyCodeLine{00034   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_af6f31822f7e737b4e414bdac1ccb59a4}{wait}}();}
\DoxyCodeLine{00035 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_ad202e06addda05ba6fe60f05d3f61913_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_a687d939a9e4792af15db96f2c2f34378}\label{syscall_8c_a687d939a9e4792af15db96f2c2f34378}} 
\index{syscall.c@{syscall.c}!sys\_write@{sys\_write}}
\index{sys\_write@{sys\_write}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{sys\_write()}{sys\_write()}}
{\footnotesize\ttfamily int sys\+\_\+write (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{sysfile_8c_source_l00082}{82}} of file \mbox{\hyperlink{sysfile_8c_source}{sysfile.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00083 \{}
\DoxyCodeLine{00084   \textcolor{keyword}{struct }\mbox{\hyperlink{structfile}{file}} *f;}
\DoxyCodeLine{00085   \textcolor{keywordtype}{int} n;}
\DoxyCodeLine{00086   \textcolor{keywordtype}{char} *p;}
\DoxyCodeLine{00087 }
\DoxyCodeLine{00088   \textcolor{keywordflow}{if}(argfd(0, 0, \&f) < 0 || \mbox{\hyperlink{defs_8h_a75bc8d8c7ea0b4b39d4f470e18e0dba7}{argint}}(2, \&n) < 0 || \mbox{\hyperlink{defs_8h_a05c7464938c27eb91540c06ec6137f26}{argptr}}(1, \&p, n) < 0)}
\DoxyCodeLine{00089     \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{00090   \textcolor{keywordflow}{return} \mbox{\hyperlink{defs_8h_a90e8980df48fa900fc33de53448a2e18}{filewrite}}(f, p, n);}
\DoxyCodeLine{00091 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_a687d939a9e4792af15db96f2c2f34378_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{syscall_8c_acd6bcafe6626fe8e7d00cacdbc3cc4f1}\label{syscall_8c_acd6bcafe6626fe8e7d00cacdbc3cc4f1}} 
\index{syscall.c@{syscall.c}!syscall@{syscall}}
\index{syscall@{syscall}!syscall.c@{syscall.c}}
\doxysubsubsection{\texorpdfstring{syscall()}{syscall()}}
{\footnotesize\ttfamily void syscall (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{syscall_8c_source_l00140}{140}} of file \mbox{\hyperlink{syscall_8c_source}{syscall.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00141 \{}
\DoxyCodeLine{00142   \textcolor{keywordtype}{int} num;}
\DoxyCodeLine{00143   \textcolor{keyword}{struct }\mbox{\hyperlink{structproc}{proc}} *curproc = \mbox{\hyperlink{defs_8h_a3d2327db1e34643f4a9e6a07c8cc62c6}{myproc}}();}
\DoxyCodeLine{00144 }
\DoxyCodeLine{00145   num = curproc-\/>\mbox{\hyperlink{structproc_a56ec07ac1e10ce42adfc8dd2a366071f}{tf}}-\/>\mbox{\hyperlink{structtrapframe_ab1dd3a10936b61129d7395c3a21bc2fe}{eax}};}
\DoxyCodeLine{00146   \textcolor{keywordflow}{if}(num > 0 \&\& num < \mbox{\hyperlink{defs_8h_afacd331296c10f360da7640e0d68429f}{NELEM}}(syscalls) \&\& syscalls[num]) \{}
\DoxyCodeLine{00147     curproc-\/>\mbox{\hyperlink{structproc_a56ec07ac1e10ce42adfc8dd2a366071f}{tf}}-\/>\mbox{\hyperlink{structtrapframe_ab1dd3a10936b61129d7395c3a21bc2fe}{eax}} = syscalls[num]();}
\DoxyCodeLine{00148   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{00149     \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"{}\%d \%s: unknown sys call \%d\(\backslash\)n"{}},}
\DoxyCodeLine{00150             curproc-\/>\mbox{\hyperlink{structproc_acf2bdf54d1f957ccbcdc987007029944}{pid}}, curproc-\/>\mbox{\hyperlink{structproc_ac04af53e17d24b90c3cbfab56d658d62}{name}}, num);}
\DoxyCodeLine{00151     curproc-\/>\mbox{\hyperlink{structproc_a56ec07ac1e10ce42adfc8dd2a366071f}{tf}}-\/>\mbox{\hyperlink{structtrapframe_ab1dd3a10936b61129d7395c3a21bc2fe}{eax}} = -\/1;}
\DoxyCodeLine{00152   \}}
\DoxyCodeLine{00153 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/dd8/syscall_8c_acd6bcafe6626fe8e7d00cacdbc3cc4f1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=196pt]{db/dd8/syscall_8c_acd6bcafe6626fe8e7d00cacdbc3cc4f1_icgraph}
\end{center}
\end{figure}
