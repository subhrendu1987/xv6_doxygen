\hypertarget{ioapic_8c}{}\doxysection{ioapic.\+c File Reference}
\label{ioapic_8c}\index{ioapic.c@{ioapic.c}}
{\ttfamily \#include \char`\"{}types.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}defs.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}traps.\+h\char`\"{}}\newline
Include dependency graph for ioapic.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=257pt]{d6/de2/ioapic_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structioapic}{ioapic}}
\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{ioapic_8c_a7d40119d2e49f7d8ae65520ccad99a1e}{IOAPIC}}~0x\+FEC00000
\item 
\#define \mbox{\hyperlink{ioapic_8c_a91339a8293cb53b81407c016bc41e2b1}{REG\+\_\+\+ID}}~0x00
\item 
\#define \mbox{\hyperlink{ioapic_8c_ac56cc95ec46071699b119b24d6d808f9}{REG\+\_\+\+VER}}~0x01
\item 
\#define \mbox{\hyperlink{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}{REG\+\_\+\+TABLE}}~0x10
\item 
\#define \mbox{\hyperlink{ioapic_8c_ab26e186261a82b907e024126fafbff1f}{INT\+\_\+\+DISABLED}}~0x00010000
\item 
\#define \mbox{\hyperlink{ioapic_8c_aed01298d37e73ed9737c8a6b70e67caa}{INT\+\_\+\+LEVEL}}~0x00008000
\item 
\#define \mbox{\hyperlink{ioapic_8c_a516778548109f98ff313d8753d030d37}{INT\+\_\+\+ACTIVELOW}}~0x00002000
\item 
\#define \mbox{\hyperlink{ioapic_8c_a7e41b4c95cc235d58d7a45411541f9de}{INT\+\_\+\+LOGICAL}}~0x00000800
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{ioapic_8c_abce023b98422f397abdb425b20c8ceec}{ioapicinit}} (void)
\item 
void \mbox{\hyperlink{ioapic_8c_a9688537a0879e9e2ac5a90184e2ef987}{ioapicenable}} (int irq, int cpunum)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile struct \mbox{\hyperlink{structioapic}{ioapic}} $\ast$ \mbox{\hyperlink{ioapic_8c_a61d7da24dba0ce35323deb8bb6cf6f91}{ioapic}}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{ioapic_8c_a516778548109f98ff313d8753d030d37}\label{ioapic_8c_a516778548109f98ff313d8753d030d37}} 
\index{ioapic.c@{ioapic.c}!INT\_ACTIVELOW@{INT\_ACTIVELOW}}
\index{INT\_ACTIVELOW@{INT\_ACTIVELOW}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{INT\_ACTIVELOW}{INT\_ACTIVELOW}}
{\footnotesize\ttfamily \#define INT\+\_\+\+ACTIVELOW~0x00002000}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00022}{22}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_ab26e186261a82b907e024126fafbff1f}\label{ioapic_8c_ab26e186261a82b907e024126fafbff1f}} 
\index{ioapic.c@{ioapic.c}!INT\_DISABLED@{INT\_DISABLED}}
\index{INT\_DISABLED@{INT\_DISABLED}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{INT\_DISABLED}{INT\_DISABLED}}
{\footnotesize\ttfamily \#define INT\+\_\+\+DISABLED~0x00010000}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00020}{20}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_aed01298d37e73ed9737c8a6b70e67caa}\label{ioapic_8c_aed01298d37e73ed9737c8a6b70e67caa}} 
\index{ioapic.c@{ioapic.c}!INT\_LEVEL@{INT\_LEVEL}}
\index{INT\_LEVEL@{INT\_LEVEL}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{INT\_LEVEL}{INT\_LEVEL}}
{\footnotesize\ttfamily \#define INT\+\_\+\+LEVEL~0x00008000}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00021}{21}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_a7e41b4c95cc235d58d7a45411541f9de}\label{ioapic_8c_a7e41b4c95cc235d58d7a45411541f9de}} 
\index{ioapic.c@{ioapic.c}!INT\_LOGICAL@{INT\_LOGICAL}}
\index{INT\_LOGICAL@{INT\_LOGICAL}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{INT\_LOGICAL}{INT\_LOGICAL}}
{\footnotesize\ttfamily \#define INT\+\_\+\+LOGICAL~0x00000800}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00023}{23}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_a7d40119d2e49f7d8ae65520ccad99a1e}\label{ioapic_8c_a7d40119d2e49f7d8ae65520ccad99a1e}} 
\index{ioapic.c@{ioapic.c}!IOAPIC@{IOAPIC}}
\index{IOAPIC@{IOAPIC}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{IOAPIC}{IOAPIC}}
{\footnotesize\ttfamily \#define IOAPIC~0x\+FEC00000}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00009}{9}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_a91339a8293cb53b81407c016bc41e2b1}\label{ioapic_8c_a91339a8293cb53b81407c016bc41e2b1}} 
\index{ioapic.c@{ioapic.c}!REG\_ID@{REG\_ID}}
\index{REG\_ID@{REG\_ID}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{REG\_ID}{REG\_ID}}
{\footnotesize\ttfamily \#define REG\+\_\+\+ID~0x00}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00011}{11}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}\label{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}} 
\index{ioapic.c@{ioapic.c}!REG\_TABLE@{REG\_TABLE}}
\index{REG\_TABLE@{REG\_TABLE}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{REG\_TABLE}{REG\_TABLE}}
{\footnotesize\ttfamily \#define REG\+\_\+\+TABLE~0x10}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00013}{13}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

\mbox{\Hypertarget{ioapic_8c_ac56cc95ec46071699b119b24d6d808f9}\label{ioapic_8c_ac56cc95ec46071699b119b24d6d808f9}} 
\index{ioapic.c@{ioapic.c}!REG\_VER@{REG\_VER}}
\index{REG\_VER@{REG\_VER}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{REG\_VER}{REG\_VER}}
{\footnotesize\ttfamily \#define REG\+\_\+\+VER~0x01}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00012}{12}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{ioapic_8c_a9688537a0879e9e2ac5a90184e2ef987}\label{ioapic_8c_a9688537a0879e9e2ac5a90184e2ef987}} 
\index{ioapic.c@{ioapic.c}!ioapicenable@{ioapicenable}}
\index{ioapicenable@{ioapicenable}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{ioapicenable()}{ioapicenable()}}
{\footnotesize\ttfamily void ioapicenable (\begin{DoxyParamCaption}\item[{int}]{irq,  }\item[{int}]{cpunum }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00068}{68}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069 \{}
\DoxyCodeLine{00070   \textcolor{comment}{// Mark interrupt edge-\/triggered, active high,}}
\DoxyCodeLine{00071   \textcolor{comment}{// enabled, and routed to the given cpunum,}}
\DoxyCodeLine{00072   \textcolor{comment}{// which happens to be that cpu's APIC ID.}}
\DoxyCodeLine{00073   ioapicwrite(\mbox{\hyperlink{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}{REG\_TABLE}}+2*irq, \mbox{\hyperlink{traps_8h_a17129100154901eb81be6e438843a0e1}{T\_IRQ0}} + irq);}
\DoxyCodeLine{00074   ioapicwrite(\mbox{\hyperlink{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}{REG\_TABLE}}+2*irq+1, cpunum << 24);}
\DoxyCodeLine{00075 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=250pt]{dd/d61/ioapic_8c_a9688537a0879e9e2ac5a90184e2ef987_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{ioapic_8c_abce023b98422f397abdb425b20c8ceec}\label{ioapic_8c_abce023b98422f397abdb425b20c8ceec}} 
\index{ioapic.c@{ioapic.c}!ioapicinit@{ioapicinit}}
\index{ioapicinit@{ioapicinit}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{ioapicinit()}{ioapicinit()}}
{\footnotesize\ttfamily void ioapicinit (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00049}{49}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00050 \{}
\DoxyCodeLine{00051   \textcolor{keywordtype}{int} i, id, maxintr;}
\DoxyCodeLine{00052 }
\DoxyCodeLine{00053   \mbox{\hyperlink{structioapic}{ioapic}} = (\textcolor{keyword}{volatile} \textcolor{keyword}{struct }\mbox{\hyperlink{structioapic}{ioapic}}*)\mbox{\hyperlink{ioapic_8c_a7d40119d2e49f7d8ae65520ccad99a1e}{IOAPIC}};}
\DoxyCodeLine{00054   maxintr = (ioapicread(\mbox{\hyperlink{ioapic_8c_ac56cc95ec46071699b119b24d6d808f9}{REG\_VER}}) >> 16) \& 0xFF;}
\DoxyCodeLine{00055   \textcolor{keywordtype}{id} = ioapicread(\mbox{\hyperlink{ioapic_8c_a91339a8293cb53b81407c016bc41e2b1}{REG\_ID}}) >> 24;}
\DoxyCodeLine{00056   \textcolor{keywordflow}{if}(\textcolor{keywordtype}{id} != \mbox{\hyperlink{defs_8h_a619ae379337e3cb2397ee0b6b4fd8d6b}{ioapicid}})}
\DoxyCodeLine{00057     \mbox{\hyperlink{console_8c_a90f0742d846503e4ed1804f1df421ec6}{cprintf}}(\textcolor{stringliteral}{"{}ioapicinit: id isn't equal to ioapicid; not a MP\(\backslash\)n"{}});}
\DoxyCodeLine{00058 }
\DoxyCodeLine{00059   \textcolor{comment}{// Mark all interrupts edge-\/triggered, active high, disabled,}}
\DoxyCodeLine{00060   \textcolor{comment}{// and not routed to any CPUs.}}
\DoxyCodeLine{00061   \textcolor{keywordflow}{for}(i = 0; i <= maxintr; i++)\{}
\DoxyCodeLine{00062     ioapicwrite(\mbox{\hyperlink{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}{REG\_TABLE}}+2*i, \mbox{\hyperlink{ioapic_8c_ab26e186261a82b907e024126fafbff1f}{INT\_DISABLED}} | (\mbox{\hyperlink{traps_8h_a17129100154901eb81be6e438843a0e1}{T\_IRQ0}} + i));}
\DoxyCodeLine{00063     ioapicwrite(\mbox{\hyperlink{ioapic_8c_ad31b206e97e5e8cc5c70f8713669b27f}{REG\_TABLE}}+2*i+1, 0);}
\DoxyCodeLine{00064   \}}
\DoxyCodeLine{00065 \}}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dd/d61/ioapic_8c_abce023b98422f397abdb425b20c8ceec_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{ioapic_8c_a61d7da24dba0ce35323deb8bb6cf6f91}\label{ioapic_8c_a61d7da24dba0ce35323deb8bb6cf6f91}} 
\index{ioapic.c@{ioapic.c}!ioapic@{ioapic}}
\index{ioapic@{ioapic}!ioapic.c@{ioapic.c}}
\doxysubsubsection{\texorpdfstring{ioapic}{ioapic}}
{\footnotesize\ttfamily volatile struct \mbox{\hyperlink{structioapic}{ioapic}}$\ast$ \mbox{\hyperlink{structioapic}{ioapic}}}



Definition at line \mbox{\hyperlink{ioapic_8c_source_l00025}{25}} of file \mbox{\hyperlink{ioapic_8c_source}{ioapic.\+c}}.

